#!/bin/bash
H='IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfU0NSSVBUX0ZJTEVOQU1FPWVzLnNoCl9NU0dfRVhFQ1VURURfQVNfU1VQRVJVU0VSPSJFc3RlIHNjcmlwdCBuZWNlc2l0YSBzZXIgZWplY3V0YWRvIGNvbW8gc3VwZXJ1c3VhcmlvLiIKX01TR19VTklOU1RBTExJTkdfTk9ERUpTX0VDT1NZU1RFTT0iRGVzaW5zdGFsYW5kbyBlY29zaXN0ZW1hIE5vZGVKUy4uLiIKX01TR19VTklOU1RBTExJTkdfTk9ERUpTPSJEZXNpbnN0YWxhbmRvIE5vZGVKUyIKX01TR19OT0RFSlNfSVNfTk9UX0lOU1RBTExFRD0iTm9kZUpTIG5vIGVzdMOhIGluc3RhbGFkbyIKX01TR19OUE1fSVNfTk9UX0lOU1RBTExFRD0iTlBNIG5vIGVzdMOhIGluc3RhbGFkbyIKX01TR19VTklOU1RBTExJTkdfTlBNPSJEZXNpbnN0YWxhbmRvIE5QTS4uLiIKX01TR19ZQVJOX0lTX05PVF9JTlNUQUxMRUQ9Illhcm4gbm8gZXN0w6EgaW5zdGFsYWRvIgppZiBbWyAkKC91c3IvYmluL2lkIC11KSAtbmUgMCBdXTsgdGhlbgogIHByaW50ZiAiJXNcbiIgIiRfTVNHX0VYRUNVVEVEX0FTX1NVUEVSVVNFUiIgPiYyCiAgZXhpdCAxCmZpOwpJTkRFTlRfU1RSSU5HPSIiCmZvciBhcmcgaW4gIiRAIjsgZG8KICBjYXNlICRhcmcgaW4KICAgIC0taW5kZW50KQogICAgc2hpZnQKICAgIElOREVOVF9TVFJJTkc9JDEKICAgIHNoaWZ0CiAgICA7OwogICAgLS1kaXN0cm8pCiAgICBzaGlmdAogICAgVU5JWF9ESVNUUk89JDEKICAgIHNoaWZ0CiAgICA7OwogIGVzYWMKZG9uZQpmdW5jdGlvbiBwcmludEluZGVudCgpIHsKICBwcmludGYgIiVzIiAiJElOREVOVF9TVFJJTkciCn0KaWYgWyAiJChjb21tYW5kIC12IHBhY21hbikiID0gIiIgXTsgdGhlbgogIGlmIFsgLXogIiRfU0NSSVBUX0ZJTEVOQU1FIiBdOyB0aGVuCiAgICBmaWxlcGF0aD0ic3JjL3VuaXgvXy9kb3dubG9hZC9wYWNhcHQvbWFpbi5zaCIKICAgIGJhc2ggIiRmaWxlcGF0aCIgPiAvZGV2L251bGwKICBlbHNlCiAgICB1cmw9Imh0dHBzOi8vbW9uZGVqYS5naXRodWIuaW8vc2hyZWFkL3VuaXgvXy9kb3dubG9hZC9wYWNhcHQvJF9TQ1JJUFRfRklMRU5BTUUiCiAgICBjdXJsIC1zTCAiJHVybCIgfCBzdWRvIGJhc2ggLSA+IC9kZXYvbnVsbAogIGZpOwpmaTsKaWYgWyAteiAiJFVOSVhfRElTVFJPIiBdOyB0aGVuCiAgc291cmNlIDwoY3VybCAtc0wgaHR0cHM6Ly9tb25kZWphLmdpdGh1Yi5pby9zaHJlYWQvdW5peC9fL3V0aWwvZ2V0LWRpc3Ryby9lbi5zaCkKZmk7CmlmIFsgIiRVTklYX0RJU1RSTyIgPSAidWJ1bnR1IiBdIHx8IFsgIiRVTklYX0RJU1RSTyIgPSAiZGViaWFuIiBdOyB0aGVuCiAgcHJpbnRJbmRlbnQKICBwcmludGYgIiVzXG4iICIkX01TR19VTklOU1RBTExJTkdfTk9ERUpTX0VDT1NZU1RFTSIKICBwcmludEluZGVudAogIE5PREVfSlNfQklOQVJZX1BBVEg9JChjb21tYW5kIC12IG5vZGUpCiAgaWYgWyAiJE5PREVfSlNfQklOQVJZX1BBVEgiID0gIiIgXTsgdGhlbgogICAgcHJpbnRmICIgICVzIiAiJF9NU0dfTk9ERUpTX0lTX05PVF9JTlNUQUxMRUQiCiAgZWxzZQogICAgcHJpbnRmICIgICVzICh2JXMpLi4uIiAiJF9NU0dfVU5JTlNUQUxMSU5HX05PREVKUyIgIiQobm9kZSAtdiB8IGN1dCAtYzItMTUpIgogICAgc3VkbyBhcHQtZ2V0IHB1cmdlIG5vZGVqcyAteSAtcXFxID4gL2Rldi9udWxsCiAgICBBUFRfU09VUkNFX0ZJTEVTX1RPX0RFTEVURT0oCiAgICAgICJub2Rlc291cmNlLmxpc3QiCiAgICAgICJub2Rlc291cmNlLmxpc3QuZGlzdFVwZ3JhZGUiCiAgICAgICJub2Rlc291cmNlLmxpc3Quc2F2ZSIKICAgICkKICAgIGZvciBBUFRfU09VUkNFX0ZJTEVOQU1FIGluICIke0FQVF9TT1VSQ0VfRklMRVNfVE9fREVMRVRFW0BdfSI7IGRvCiAgICAgIHN1ZG8gcm0gLWYgIi9ldGMvYXB0L3NvdXJjZXMubGlzdC5kLyRBUFRfU09VUkNFX0ZJTEVOQU1FIiA+IC9kZXYvbnVsbCB8fCBleGl0ICQ/CiAgICBkb25lCiAgZmk7CiAgcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCiAgcHJpbnRJbmRlbnQKICBOUE1fQklOQVJZX1BBVEg9JChjb21tYW5kIC12IG5wbSkKICBpZiBbICIkTlBNX0JJTkFSWV9QQVRIIiA9ICIiIF07IHRoZW4KICAgIHByaW50ZiAiICAlcyIgIiRfTVNHX05QTV9JU19OT1RfSU5TVEFMTEVEIgogIGVsc2UKICAgIHByaW50ZiAiICAlcyIgIiRfTVNHX1VOSU5TVEFMTElOR19OUE0iCiAgICBucG0gdW5pbnN0YWxsIG5wbSAtZyAtLXF1aWV0CiAgZmk7CiAgcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCiAgcHJpbnRJbmRlbnQKICBZQVJOX0JJTkFSWV9QQVRIPSQoY29tbWFuZCAtdiBucG0pCiAgaWYgWyAiJFlBUk5fQklOQVJZX1BBVEgiID0gIiIgXTsgdGhlbgogICAgcHJpbnRmICIgICVzIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIiAiJF9NU0dfWUFSTl9JU19OT1RfSU5TVEFMTEVEIgogIGZpOwpmaTsK'
if (return 0 2>/dev/null); then
  source <(printf "%s" "$H" | base64 -d)
else
  echo "$(echo "$H" | base64 -d)" | bash -s -- "$@"
fi;
