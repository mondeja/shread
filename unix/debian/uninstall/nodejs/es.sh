#!/bin/bash
source <(printf 'IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfTVNHX0VYRUNVVEVEX0FTX1NVUEVSVVNFUj0iRXN0ZSBzY3JpcHQgbmVjZXNpdGEgc2VyIGVqZWN1dGFkbyBjb21vIHN1cGVydXN1YXJpby4iCl9NU0dfVU5JTlNUQUxMSU5HX05PREVKU19FQ09TWVNURU09IkRlc2luc3RhbGFuZG8gZWNvc2lzdGVtYSBOb2RlSlMuLi4iCl9NU0dfVU5JTlNUQUxMSU5HX05PREVKUz0iRGVzaW5zdGFsYW5kbyBOb2RlSlMiCl9NU0dfTk9ERUpTX0lTX05PVF9JTlNUQUxMRUQ9Ik5vZGVKUyBubyBlc3TDoSBpbnN0YWxhZG8iCl9NU0dfTlBNX0lTX05PVF9JTlNUQUxMRUQ9Ik5QTSBubyBlc3TDoSBpbnN0YWxhZG8iCl9NU0dfVU5JTlNUQUxMSU5HX05QTT0iRGVzaW5zdGFsYW5kbyBOUE0uLi4iCl9NU0dfWUFSTl9JU19OT1RfSU5TVEFMTEVEPSJZYXJuIG5vIGVzdMOhIGluc3RhbGFkbyIKaWYgW1sgJCgvdXNyL2Jpbi9pZCAtdSkgLW5lIDAgXV07IHRoZW4KICBwcmludGYgIiVzXG4iICIkX01TR19FWEVDVVRFRF9BU19TVVBFUlVTRVIiID4mMgogIGV4aXQgMQpmaTsKX1BSRVBFTkRfU1RET1VUX1NUUklORz0iIgpmb3IgYXJnIGluICIkQCIKZG8KICAgIGNhc2UgJGFyZyBpbgogICAgICAgIC0tcHJlcGVuZC1zdGRvdXQpCiAgICAgICAgc2hpZnQKICAgICAgICBfUFJFUEVORF9TVERPVVRfU1RSSU5HPSQxCiAgICAgICAgc2hpZnQKICAgICAgICA7OwogICAgICAgIC0tZGlzdHJvKQogICAgICAgIHNoaWZ0CiAgICAgICAgVU5JWF9ESVNUUk89JDEKICAgICAgICBzaGlmdAogICAgICAgIDs7CiAgICBlc2FjCmRvbmUKZnVuY3Rpb24gcHJpbnRQcmVwZW5kZWRTdGRvdXQoKSB7CiAgcHJpbnRmICIlcyIgIiRfUFJFUEVORF9TVERPVVRfU1RSSU5HIgp9CmlmIFsgLXogIiRVTklYX0RJU1RSTyIgXTsgdGhlbgogIGlmIFtbICIkKHN1ZG8gZHBrZyAtcyBjdXJsIDI+IC9kZXYvbnVsbCB8IGdyZXAgU3RhdHVzKSIgIT0gIlN0YXR1czogaW5zdGFsbCBvayBpbnN0YWxsZWQiIF1dOyB0aGVuCiAgICBzdWRvIGFwdC1nZXQgaW5zdGFsbCAteSAtcXFxIGN1cmwgPiAvZGV2L251bGwKICBmaTsKICBzb3VyY2UgPChjdXJsIC1zTCBodHRwczovL21vbmRlamEuZ2l0aHViLmlvL3NocmVhZC91bml4L18vdXRpbC9nZXQtZGlzdHJvLnNoKQpmaTsKaWYgWyAiJFVOSVhfRElTVFJPIiA9ICJ1YnVudHUiIF0gfHwgWyAiJFVOSVhfRElTVFJPIiA9ICJkZWJpYW4iIF07IHRoZW4KICBwcmludFByZXBlbmRlZFN0ZG91dAogIHByaW50ZiAiJXNcbiIgIiRfTVNHX1VOSU5TVEFMTElOR19OT0RFSlNfRUNPU1lTVEVNIgogIHByaW50UHJlcGVuZGVkU3Rkb3V0CiAgTk9ERV9KU19CSU5BUllfUEFUSD0kKGNvbW1hbmQgLXYgbm9kZSkKICBpZiBbICIkTk9ERV9KU19CSU5BUllfUEFUSCIgPSAiIiBdOyB0aGVuCiAgICBwcmludGYgIiAgJXMiICIkX01TR19OT0RFSlNfSVNfTk9UX0lOU1RBTExFRCIKICBlbHNlCiAgICBwcmludGYgIiAgJXMgKHYlcykuLi4iICIkX01TR19VTklOU1RBTExJTkdfTk9ERUpTIiAiJChub2RlIC12IHwgY3V0IC1jMi0xNSkiCiAgICBzdWRvIGFwdC1nZXQgcHVyZ2Ugbm9kZWpzIC15IC1xcXEgPiAvZGV2L251bGwKICAgIEFQVF9TT1VSQ0VfRklMRVNfVE9fREVMRVRFPSgKICAgICAgIm5vZGVzb3VyY2UubGlzdCIKICAgICAgIm5vZGVzb3VyY2UubGlzdC5kaXN0VXBncmFkZSIKICAgICAgIm5vZGVzb3VyY2UubGlzdC5zYXZlIgogICAgKQogICAgZm9yIEFQVF9TT1VSQ0VfRklMRU5BTUUgaW4gIiR7QVBUX1NPVVJDRV9GSUxFU19UT19ERUxFVEVbQF19IjsgZG8KICAgICAgc3VkbyBybSAtZiAiL2V0Yy9hcHQvc291cmNlcy5saXN0LmQvJEFQVF9TT1VSQ0VfRklMRU5BTUUiID4gL2Rldi9udWxsIHx8IGV4aXQgJD8KICAgIGRvbmUKICBmaTsKICBwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKICBwcmludFByZXBlbmRlZFN0ZG91dAogIE5QTV9CSU5BUllfUEFUSD0kKGNvbW1hbmQgLXYgbnBtKQogIGlmIFsgIiROUE1fQklOQVJZX1BBVEgiID0gIiIgXTsgdGhlbgogICAgcHJpbnRmICIgICVzIiAiJF9NU0dfTlBNX0lTX05PVF9JTlNUQUxMRUQiCiAgZWxzZQogICAgcHJpbnRmICIgICVzIiAiJF9NU0dfVU5JTlNUQUxMSU5HX05QTSIKICAgIG5wbSB1bmluc3RhbGwgbnBtIC1nIC0tcXVpZXQKICBmaTsKICBwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKICBwcmludFByZXBlbmRlZFN0ZG91dAogIFlBUk5fQklOQVJZX1BBVEg9JChjb21tYW5kIC12IG5wbSkKICBpZiBbICIkWUFSTl9CSU5BUllfUEFUSCIgPSAiIiBdOyB0aGVuCiAgICBwcmludGYgIiAgJXMgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iICIkX01TR19ZQVJOX0lTX05PVF9JTlNUQUxMRUQiCiAgZmk7CmZpOwo=' | base64 -d)
