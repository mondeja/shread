#!/bin/bash
source <(printf 'X01TR19FWEVDVVRFRF9BU19TVVBFUlVTRVI9IlRoaXMgc2NyaXB0IG5lZWRzIHRvIGJlIGV4ZWN1dGVkIGFzIHN1cGVydXNlci4iCl9NU0dfQ0hFQ0tJTkdfRUNPU1lTVEVNPSJDaGVja2luZyBDaHJvbWUgZWNvc3lzdGVtLi4uIgpfTVNHX1VOQUJMRV9UT19JTlNUQUxMXzMyPSJJcyBub3QgcG9zc2libGUgdG8gaW5zdGFsbCBHb29nbGUgQ2hyb21lIG9uIDMyIGJpdHMgc3lzdGVtcy4iCl9NU0dfSU5TVEFMTElOR19HT09HTEVfQ0hST01FPSJJbnN0YWxsaW5nIEdvb2dsZSBDaHJvbWUuLi4iCl9NU0dfRk9VTkRfQ0hST01FX0lOU1RBTExFRD0iR29vZ2xlIENocm9tZSBmb3VuZCBpbnN0YWxsZWQiCl9NU0dfSU5TVEFMTElOR19DSFJPTUVEUklWRVI9Ikluc3RhbGxpbmcgY2hyb21lZHJpdmVyIgpfTVNHX1VQREFUSU5HX0NIUk9NRURSSVZFUj0iVXBkYXRpbmcgY2hyb21lZHJpdmVyIgpfTVNHX0ZPVU5EX0NIUk9NRURSSVZFUl9JTlNUQUxMRUQ9IkNocm9tZWRyaXZlciBmb3VuZCBpbnN0YWxsZWQiCmlmIFtbICQoL3Vzci9iaW4vaWQgLXUpIC1uZSAwIF1dOyB0aGVuCiAgcHJpbnRmICIlc1xuIiAiJF9NU0dfRVhFQ1VURURfQVNfU1VQRVJVU0VSIiA+JjIKICBleGl0IDEKZmk7Cl9QUkVQRU5EX1NURE9VVF9TVFJJTkc9IiIKZm9yIGFyZyBpbiAiJEAiCmRvCiAgICBjYXNlICRhcmcgaW4KICAgICAgICAtLXByZXBlbmQtc3Rkb3V0KQogICAgICAgIHNoaWZ0CiAgICAgICAgX1BSRVBFTkRfU1RET1VUX1NUUklORz0kMQogICAgICAgIHNoaWZ0CiAgICAgICAgOzsKICAgIGVzYWMKZG9uZQpmdW5jdGlvbiBwcmludFByZXBlbmRlZFN0ZG91dCgpIHsKICBwcmludGYgIiVzIiAiJF9QUkVQRU5EX1NURE9VVF9TVFJJTkciCn0KaWYgW1sgIiQoc3VkbyBkcGtnIC1zIGRlYmNvbmYtdXRpbHMgMj4gL2Rldi9udWxsIHwgZ3JlcCBTdGF0dXMpIiAhPSAiU3RhdHVzOiBpbnN0YWxsIG9rIGluc3RhbGxlZCIgXV07IHRoZW4KICBzdWRvIGFwdC1nZXQgaW5zdGFsbCAteSAtcXFxIGRlYmNvbmYtdXRpbHMgPiAvZGV2L251bGwKZmk7CmlmIFsgIiQoY29tbWFuZCAtdiBkZWJjb25mLWdldC1zZWxlY3Rpb25zKSIgIT0gIiIgXTsgdGhlbgogIF9PUklHSU5BTF9ERUJDT05GX0ZST05URU5EPSQoCiAgICBzdWRvIGRlYmNvbmYtZ2V0LXNlbGVjdGlvbnMgfCBcCiAgICBncmVwIGRlYmNvbmYvZnJvbnRlbmQgfCBcCiAgICBhd2sgJ3twcmludCAkNH0nKQogIHN1ZG8gc2ggLWMgImVjaG8gJ2RlYmNvbmYgZGViY29uZi9mcm9udGVuZCBzZWxlY3QgTm9uaW50ZXJhY3RpdmUnIHwgZGViY29uZi1zZXQtc2VsZWN0aW9ucyIKZmk7CmlmIFtbICIkKHN1ZG8gZHBrZyAtcyBjdXJsIDI+IC9kZXYvbnVsbCB8IGdyZXAgU3RhdHVzKSIgIT0gIlN0YXR1czogaW5zdGFsbCBvayBpbnN0YWxsZWQiIF1dOyB0aGVuCiAgc3VkbyBhcHQtZ2V0IGluc3RhbGwgLXkgLXFxcSBjdXJsID4gL2Rldi9udWxsIHx8IGV4aXQgJD8KZmk7CnByaW50UHJlcGVuZGVkU3Rkb3V0CnByaW50ZiAiJXNcbiIgIiRfTVNHX0NIRUNLSU5HX0VDT1NZU1RFTSIKX0dPT0dMRV9DSFJPTUVfQklOQVJZX1BBVEg9IiIKZnVuY3Rpb24gY2FjaGVHb29nbGVDaHJvbWVCaW5hcnlQYXRoKCkgewogIF9HT09HTEVfQ0hST01FX0JJTkFSWV9QQVRIPSIkKGNvbW1hbmQgLXYgZ29vZ2xlLWNocm9tZSkiCiAgaWYgWyAiJF9HT09HTEVfQ0hST01FX0JJTkFSWV9QQVRIIiA9ICIiIF07IHRoZW4KICAgIF9HT09HTEVfQ0hST01FX0JJTkFSWV9QQVRIPSIkKGNvbW1hbmQgLXYgZ29vZ2xlLWNocm9tZS1zdGFibGUpIgogIGZpOwp9CmNhY2hlR29vZ2xlQ2hyb21lQmluYXJ5UGF0aApwcmludFByZXBlbmRlZFN0ZG91dAppZiBbICIkX0dPT0dMRV9DSFJPTUVfQklOQVJZX1BBVEgiID0gIiIgXTsgdGhlbgogIGlmIFtbICIkKHVuYW1lIC1tKSIgIT0gIng4Nl82NCIgXV07IHRoZW4KICAgIHByaW50ZiAiICAlcyIgIiRfTVNHX1VOQUJMRV9UT19JTlNUQUxMXzMyIiA+JjIKICAgIHByaW50ZiAiIFxlWzkxbVx4RTJceDlDXHg5NVxlWzM5bVxuIiA+JjIKICAgIGV4aXQgMQogIGZpOwogIHByaW50ZiAiICAlcyIgIiRfTVNHX0lOU1RBTExJTkdfR09PR0xFX0NIUk9NRSIKICBjdXJsIC1zTCBodHRwczovL2RsLmdvb2dsZS5jb20vbGludXgvZGlyZWN0L2dvb2dsZS1jaHJvbWUtc3RhYmxlX2N1cnJlbnRfYW1kNjQuZGViIFwKICAgIC0tb3V0cHV0IGdvb2dsZS1jaHJvbWUtc3RhYmxlX2N1cnJlbnRfYW1kNjQuZGViCiAgc3VkbyBhcHQtZ2V0IGluc3RhbGwgLXkgLXFxcSBcCiAgICAuL2dvb2dsZS1jaHJvbWUtc3RhYmxlX2N1cnJlbnRfYW1kNjQuZGViID4gXAogICAgL2Rldi9udWxsCiAgc3VkbyBybSAtZiBnb29nbGUtY2hyb21lLXN0YWJsZV9jdXJyZW50X2FtZDY0LmRlYgogIGNhY2hlR29vZ2xlQ2hyb21lQmluYXJ5UGF0aAogIHByaW50ZiAiICh2JXMpIiAiJCgkX0dPT0dMRV9DSFJPTUVfQklOQVJZX1BBVEggLS12ZXJzaW9uIHwgY3V0IC1kJyAnIC1mMykiCmVsc2UKICBwcmludGYgIiAgJXMiICIkX01TR19GT1VORF9DSFJPTUVfSU5TVEFMTEVEIgogIHByaW50ZiAiICh2JXMpIiAiJCgkX0dPT0dMRV9DSFJPTUVfQklOQVJZX1BBVEggLS12ZXJzaW9uIHwgY3V0IC1kJyAnIC1mMykiCmZpOwpwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKR09PR0xFX0NIUk9NRV9NQUpPUl9WRVJTSU9OPSIkKCIkX0dPT0dMRV9DSFJPTUVfQklOQVJZX1BBVEgiIC0tdmVyc2lvbiB8IGN1dCAtZCcgJyAtZjMgfCBjdXQgLWQnLicgLWYxKSIKY3VybCAtc0wgaHR0cHM6Ly9jaHJvbWVkcml2ZXIuc3RvcmFnZS5nb29nbGVhcGlzLmNvbS8gXAogIC0tb3V0cHV0IGNocm9tZWRyaXZlci12ZXJzaW9ucy54bWwKQ0hST01FRFJJVkVSX1ZFUlNJT049JChncmVwIC1QbyAiPEtleT4kR09PR0xFX0NIUk9NRV9NQUpPUl9WRVJTSU9OXC4qXGQqXC4qXGQrXC4qXGQqXC9jaHJvbWVkcml2ZXJfbGludXg2NFwuemlwIiBjaHJvbWVkcml2ZXItdmVyc2lvbnMueG1sIHwKICAgIGdyZXAgLVBvICIkR09PR0xFX0NIUk9NRV9NQUpPUl9WRVJTSU9OXC4qXGQqXC4qXGQrXC4qXGQqIiB8IFwKICAgIGhlYWQgLW4gMSkKc3VkbyBybSAtZiBjaHJvbWVkcml2ZXItdmVyc2lvbnMueG1sCmluc3RhbGxDaHJvbWVEcml2ZXIoKSB7CiAgd2dldCAtcSAiaHR0cHM6Ly9jaHJvbWVkcml2ZXIuc3RvcmFnZS5nb29nbGVhcGlzLmNvbS8kQ0hST01FRFJJVkVSX1ZFUlNJT04vY2hyb21lZHJpdmVyX2xpbnV4NjQuemlwIgogIHVuemlwIC1xIGNocm9tZWRyaXZlcl9saW51eDY0LnppcAogIHN1ZG8gcm0gLWYgY2hyb21lZHJpdmVyX2xpbnV4NjQuemlwCiAgaWYgWyAtZiAvdXNyL2Jpbi9jaHJvbWVkcml2ZXIgXTsgdGhlbgogICAgc3VkbyBybSAtZiAvdXNyL2Jpbi9jaHJvbWVkcml2ZXIKICBmaTsKICBzdWRvIG12IC1mIGNocm9tZWRyaXZlciAvdXNyL2Jpbi9jaHJvbWVkcml2ZXIKfQpwcmludFByZXBlbmRlZFN0ZG91dApfQ0hST01FRFJJVkVSX0JJTkFSWV9QQVRIPSIkKGNvbW1hbmQgLXYgY2hyb21lZHJpdmVyKSIKaWYgWyAiJF9DSFJPTUVEUklWRVJfQklOQVJZX1BBVEgiID0gIiIgXTsgdGhlbgogIHByaW50ZiAiICAlcyAodiVzKS4uLiIgIiRfTVNHX0lOU1RBTExJTkdfQ0hST01FRFJJVkVSIiAiJENIUk9NRURSSVZFUl9WRVJTSU9OIgogIGluc3RhbGxDaHJvbWVEcml2ZXIKZWxzZQogIF9DSFJPTUVEUklWRVJfSU5TVEFMTEVEX1ZFUlNJT049IiQoIiRfQ0hST01FRFJJVkVSX0JJTkFSWV9QQVRIIiAtLXZlcnNpb24gfCBjdXQgLWQnICcgLWYyKSIKICBpZiBbICIkX0NIUk9NRURSSVZFUl9JTlNUQUxMRURfVkVSU0lPTiIgIT0gIiRDSFJPTUVEUklWRVJfVkVSU0lPTiIgXTsgdGhlbgogICAgcHJpbnRmICIgICVzICh2JXMiICIkX01TR19VUERBVElOR19DSFJPTUVEUklWRVIiICIkX0NIUk9NRURSSVZFUl9JTlNUQUxMRURfVkVSU0lPTiIKICAgIHByaW50ZiAiIC0+IHYlcykuLi4iICIkQ0hST01FRFJJVkVSX1ZFUlNJT04iCiAgICBpbnN0YWxsQ2hyb21lRHJpdmVyCiAgZWxzZQogICAgcHJpbnRmICIgICVzICh2JXMpIiAiJF9NU0dfRk9VTkRfQ0hST01FRFJJVkVSX0lOU1RBTExFRCIgIiRfQ0hST01FRFJJVkVSX0lOU1RBTExFRF9WRVJTSU9OIgogIGZpCmZpCnByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgppZiBbICIkKGNvbW1hbmQgLXYgZGViY29uZi1nZXQtc2VsZWN0aW9ucykiICE9ICIiIF07IHRoZW4KICBzdWRvIHNoIC1jICJlY2hvICdkZWJjb25mIGRlYmNvbmYvZnJvbnRlbmQgc2VsZWN0ICRfT1JJR0lOQUxfREVCQ09ORl9GUk9OVEVORCcgfCBkZWJjb25mLXNldC1zZWxlY3Rpb25zIgpmaTsK' | base64 -d)
