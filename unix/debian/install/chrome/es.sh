#!/bin/bash
source <(printf 'IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfTVNHX0VYRUNVVEVEX0FTX1NVUEVSVVNFUj0iRXN0ZSBzY3JpcHQgbmVjZXNpdGEgc2VyIGVqZWN1dGFkbyBjb21vIHN1cGVydXN1YXJpby4iCl9NU0dfQ0hFQ0tJTkdfRUNPU1lTVEVNPSJDb21wcm9iYW5kbyBlY29zaXN0ZW1hIENocm9tZS4uLiIKX01TR19VTkFCTEVfVE9fSU5TVEFMTF8zMj0iTm8gZXMgcG9zaWJsZSBpbnN0YWxhciBHb29nbGUgQ2hyb21lIGVuIHNpc3RlbWFzIGRlIDMyIGJpdHMuIgpfTVNHX0lOU1RBTExJTkdfR09PR0xFX0NIUk9NRT0iSW5zdGFsYW5kbyBHb29nbGUgQ2hyb21lLi4uIgpfTVNHX0ZPVU5EX0NIUk9NRV9JTlNUQUxMRUQ9IkVuY29udHJhZG8gR29vZ2xlIENocm9tZSBpbnN0YWxhZG8iCl9NU0dfSU5TVEFMTElOR19DSFJPTUVEUklWRVI9Ikluc3RhbGFuZG8gY2hyb21lZHJpdmVyIgpfTVNHX1VQREFUSU5HX0NIUk9NRURSSVZFUj0iQWN0dWFsaXphbmRvIGNocm9tZWRyaXZlciIKX01TR19GT1VORF9DSFJPTUVEUklWRVJfSU5TVEFMTEVEPSJFbmNvbnRyYWRvIGNocm9tZWRyaXZlciBpbnN0YWxhZG8iCmlmIFtbICQoL3Vzci9iaW4vaWQgLXUpIC1uZSAwIF1dOyB0aGVuCiAgcHJpbnRmICIlc1xuIiAiJF9NU0dfRVhFQ1VURURfQVNfU1VQRVJVU0VSIiA+JjIKICBleGl0IDEKZmk7CklOREVOVF9TVFJJTkc9IiIKZm9yIGFyZyBpbiAiJEAiOyBkbwogIGNhc2UgJGFyZyBpbgogICAgLS1pbmRlbnQpCiAgICBzaGlmdAogICAgSU5ERU5UX1NUUklORz0kMQogICAgc2hpZnQKICAgIDs7CiAgZXNhYwpkb25lCmZ1bmN0aW9uIHByaW50UHJlcGVuZGVkU3Rkb3V0KCkgewogIHByaW50ZiAiJXMiICIkSU5ERU5UX1NUUklORyIKfQppZiBbICIkKGNvbW1hbmQgLXYgcGFjbWFuKSIgPSAiIiBdOyB0aGVuCiAgU0NSSVBUX0ZJTEVOQU1FPSIkKGJhc2VuYW1lICIkMCIpIgogIGlmIFsgIiRTQ1JJUFRfRklMRU5BTUUiID0gIm1haW4uc2giIF07IHRoZW4KICAgIGZpbGVwYXRoPSJzcmMvdW5peC9fL2Rvd25sb2FkL3BhY2FwdC9tYWluLnNoIgogICAgYmFzaCAiJGZpbGVwYXRoIiA+IC9kZXYvbnVsbAogIGVsc2UKICAgIHVybD0iaHR0cHM6Ly9tb25kZWphLmdpdGh1Yi5pby9zaHJlYWQvdW5peC9fL2Rvd25sb2FkL3BhY2FwdC8kU0NSSVBUX0ZJTEVOQU1FIgogICAgY3VybCAtc0wgIiR1cmwiIHwgc3VkbyBiYXNoIC0gPiAvZGV2L251bGwKICBmaTsKZmk7CklOU1RBTExBVElPTl9ERVBFTkRFTkNJRVM9KAogICJkZWJjb25mLXV0aWxzIgogICJjdXJsIgopCmZvciBERVAgaW4gIiR7SU5TVEFMTEFUSU9OX0RFUEVOREVOQ0lFU1tAXX0iOyBkbwogIGlmIFtbICIkKHN1ZG8gcGFjbWFuIC1RaSAiJERFUCIgMj4gL2Rldi9udWxsIHwgZ3JlcCBTdGF0dXMpIiAhPSAiU3RhdHVzOiBpbnN0YWxsIG9rIGluc3RhbGxlZCIgXV07IHRoZW4KICAgIHN1ZG8gcGFjbWFuIC1TICIkREVQIiA+IC9kZXYvbnVsbCB8fCBleGl0ICQ/CiAgZmk7CmRvbmU7CmlmIFsgIiQoY29tbWFuZCAtdiBkZWJjb25mLWdldC1zZWxlY3Rpb25zKSIgIT0gIiIgXTsgdGhlbgogIF9PUklHSU5BTF9ERUJDT05GX0ZST05URU5EPSQoCiAgICBzdWRvIGRlYmNvbmYtZ2V0LXNlbGVjdGlvbnMgfCBcCiAgICBncmVwIGRlYmNvbmYvZnJvbnRlbmQgfCBcCiAgICBhd2sgJ3twcmludCAkNH0nKQogIHN1ZG8gc2ggLWMgImVjaG8gJ2RlYmNvbmYgZGViY29uZi9mcm9udGVuZCBzZWxlY3QgTm9uaW50ZXJhY3RpdmUnIHwgZGViY29uZi1zZXQtc2VsZWN0aW9ucyIKZmk7CnByaW50UHJlcGVuZGVkU3Rkb3V0CnByaW50ZiAiJXNcbiIgIiRfTVNHX0NIRUNLSU5HX0VDT1NZU1RFTSIKX0dPT0dMRV9DSFJPTUVfQklOQVJZX1BBVEg9IiIKZnVuY3Rpb24gY2FjaGVHb29nbGVDaHJvbWVCaW5hcnlQYXRoKCkgewogIF9HT09HTEVfQ0hST01FX0JJTkFSWV9QQVRIPSIkKGNvbW1hbmQgLXYgZ29vZ2xlLWNocm9tZSkiCiAgaWYgWyAiJF9HT09HTEVfQ0hST01FX0JJTkFSWV9QQVRIIiA9ICIiIF07IHRoZW4KICAgIF9HT09HTEVfQ0hST01FX0JJTkFSWV9QQVRIPSIkKGNvbW1hbmQgLXYgZ29vZ2xlLWNocm9tZS1zdGFibGUpIgogIGZpOwp9CmNhY2hlR29vZ2xlQ2hyb21lQmluYXJ5UGF0aApwcmludFByZXBlbmRlZFN0ZG91dAppZiBbICIkX0dPT0dMRV9DSFJPTUVfQklOQVJZX1BBVEgiID0gIiIgXTsgdGhlbgogIGlmIFtbICIkKHVuYW1lIC1tKSIgIT0gIng4Nl82NCIgXV07IHRoZW4KICAgIHByaW50ZiAiICAlcyIgIiRfTVNHX1VOQUJMRV9UT19JTlNUQUxMXzMyIiA+JjIKICAgIHByaW50ZiAiIFxlWzkxbVx4RTJceDlDXHg5NVxlWzM5bVxuIiA+JjIKICAgIGV4aXQgMQogIGZpOwogIHByaW50ZiAiICAlcyIgIiRfTVNHX0lOU1RBTExJTkdfR09PR0xFX0NIUk9NRSIKICBjdXJsIC1zTCBodHRwczovL2RsLmdvb2dsZS5jb20vbGludXgvZGlyZWN0L2dvb2dsZS1jaHJvbWUtc3RhYmxlX2N1cnJlbnRfYW1kNjQuZGViIFwKICAgIC0tb3V0cHV0IGdvb2dsZS1jaHJvbWUtc3RhYmxlX2N1cnJlbnRfYW1kNjQuZGViCiAgc3VkbyBwYWNtYW4gLVMgLi9nb29nbGUtY2hyb21lLXN0YWJsZV9jdXJyZW50X2FtZDY0LmRlYiA+IC9kZXYvbnVsbAogIHN1ZG8gcm0gLWYgZ29vZ2xlLWNocm9tZS1zdGFibGVfY3VycmVudF9hbWQ2NC5kZWIKICBjYWNoZUdvb2dsZUNocm9tZUJpbmFyeVBhdGgKICBwcmludGYgIiAodiVzKSIgIiQoJF9HT09HTEVfQ0hST01FX0JJTkFSWV9QQVRIIC0tdmVyc2lvbiB8IGN1dCAtZCcgJyAtZjMpIgplbHNlCiAgcHJpbnRmICIgICVzIiAiJF9NU0dfRk9VTkRfQ0hST01FX0lOU1RBTExFRCIKICBwcmludGYgIiAodiVzKSIgIiQoJF9HT09HTEVfQ0hST01FX0JJTkFSWV9QQVRIIC0tdmVyc2lvbiB8IGN1dCAtZCcgJyAtZjMpIgpmaTsKcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCkdPT0dMRV9DSFJPTUVfTUFKT1JfVkVSU0lPTj0iJCgiJF9HT09HTEVfQ0hST01FX0JJTkFSWV9QQVRIIiAtLXZlcnNpb24gfCBjdXQgLWQnICcgLWYzIHwgY3V0IC1kJy4nIC1mMSkiCmN1cmwgLXNMIGh0dHBzOi8vY2hyb21lZHJpdmVyLnN0b3JhZ2UuZ29vZ2xlYXBpcy5jb20vIFwKICAtLW91dHB1dCBjaHJvbWVkcml2ZXItdmVyc2lvbnMueG1sCkNIUk9NRURSSVZFUl9WRVJTSU9OPSQoZ3JlcCAtUG8gIjxLZXk+JEdPT0dMRV9DSFJPTUVfTUFKT1JfVkVSU0lPTlwuKlxkKlwuKlxkK1wuKlxkKlwvY2hyb21lZHJpdmVyX2xpbnV4NjRcLnppcCIgY2hyb21lZHJpdmVyLXZlcnNpb25zLnhtbCB8CiAgICBncmVwIC1QbyAiJEdPT0dMRV9DSFJPTUVfTUFKT1JfVkVSU0lPTlwuKlxkKlwuKlxkK1wuKlxkKiIgfCBcCiAgICBoZWFkIC1uIDEpCnN1ZG8gcm0gLWYgY2hyb21lZHJpdmVyLXZlcnNpb25zLnhtbAppbnN0YWxsQ2hyb21lRHJpdmVyKCkgewogIGN1cmwgLXNMIFwKICAgICJodHRwczovL2Nocm9tZWRyaXZlci5zdG9yYWdlLmdvb2dsZWFwaXMuY29tLyRDSFJPTUVEUklWRVJfVkVSU0lPTi9jaHJvbWVkcml2ZXJfbGludXg2NC56aXAiIFwKICAgIC0tb3V0cHV0ICJjaHJvbWVkcml2ZXJfbGludXg2NC56aXAiCiAgdW56aXAgLXEgY2hyb21lZHJpdmVyX2xpbnV4NjQuemlwCiAgc3VkbyBybSAtZiBjaHJvbWVkcml2ZXJfbGludXg2NC56aXAKICBpZiBbIC1mIC91c3IvYmluL2Nocm9tZWRyaXZlciBdOyB0aGVuCiAgICBzdWRvIHJtIC1mIC91c3IvYmluL2Nocm9tZWRyaXZlcgogIGZpOwogIHN1ZG8gbXYgLWYgY2hyb21lZHJpdmVyIC91c3IvYmluL2Nocm9tZWRyaXZlcgp9CnByaW50UHJlcGVuZGVkU3Rkb3V0Cl9DSFJPTUVEUklWRVJfQklOQVJZX1BBVEg9IiQoY29tbWFuZCAtdiBjaHJvbWVkcml2ZXIpIgppZiBbICIkX0NIUk9NRURSSVZFUl9CSU5BUllfUEFUSCIgPSAiIiBdOyB0aGVuCiAgcHJpbnRmICIgICVzICh2JXMpLi4uIiAiJF9NU0dfSU5TVEFMTElOR19DSFJPTUVEUklWRVIiICIkQ0hST01FRFJJVkVSX1ZFUlNJT04iCiAgaW5zdGFsbENocm9tZURyaXZlcgplbHNlCiAgX0NIUk9NRURSSVZFUl9JTlNUQUxMRURfVkVSU0lPTj0iJCgiJF9DSFJPTUVEUklWRVJfQklOQVJZX1BBVEgiIC0tdmVyc2lvbiB8IGN1dCAtZCcgJyAtZjIpIgogIGlmIFsgIiRfQ0hST01FRFJJVkVSX0lOU1RBTExFRF9WRVJTSU9OIiAhPSAiJENIUk9NRURSSVZFUl9WRVJTSU9OIiBdOyB0aGVuCiAgICBwcmludGYgIiAgJXMgKHYlcyIgIiRfTVNHX1VQREFUSU5HX0NIUk9NRURSSVZFUiIgIiRfQ0hST01FRFJJVkVSX0lOU1RBTExFRF9WRVJTSU9OIgogICAgcHJpbnRmICIgLT4gdiVzKS4uLiIgIiRDSFJPTUVEUklWRVJfVkVSU0lPTiIKICAgIGluc3RhbGxDaHJvbWVEcml2ZXIKICBlbHNlCiAgICBwcmludGYgIiAgJXMgKHYlcykiICIkX01TR19GT1VORF9DSFJPTUVEUklWRVJfSU5TVEFMTEVEIiAiJF9DSFJPTUVEUklWRVJfSU5TVEFMTEVEX1ZFUlNJT04iCiAgZmkKZmkKcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCmlmIFsgIiQoY29tbWFuZCAtdiBkZWJjb25mLWdldC1zZWxlY3Rpb25zKSIgIT0gIiIgXTsgdGhlbgogIHN1ZG8gc2ggLWMgImVjaG8gJ2RlYmNvbmYgZGViY29uZi9mcm9udGVuZCBzZWxlY3QgJF9PUklHSU5BTF9ERUJDT05GX0ZST05URU5EJyB8IGRlYmNvbmYtc2V0LXNlbGVjdGlvbnMiCmZpOwo=' | base64 -d)
