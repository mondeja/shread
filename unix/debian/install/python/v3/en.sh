#!/bin/bash
H='IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfU0NSSVBUX0ZJTEVOQU1FPWVuLnNoCiMhL2Jpbi9iYXNoCl9NU0dfU0VUVElOR19VUF9QWTNfRUNPU1lTVEVNPSJTZXR0aW5nIHVwIFB5dGhvbjMgZWNvc3lzdGVtLi4uIgpfTVNHX0lOU1RBTExJTkdfQkFTRV9QQUNLQUdFPSJJbnN0YWxsaW5nIGJhc2UgcGFja2FnZSIKX01TR19GT1VORF9QWTNfSU5TVEFMTEVEPSJGb3VuZCBQeXRob24zIGluc3RhbGxlZCBpbiB0aGUgc3lzdGVtIgpfTVNHX0NIRUNLSU5HX0FERElUSU9OQUxfUFkzX1BBQ0tBR0VTPSJDaGVja2luZyBhZGRpdGlvbmFsIFB5dGhvbiBwYWNrYWdlcy4uLiIKX01TR19VUERBVElOR19HTE9CQUxfUFkzX0xJQlJBUklFUz0iVXBkYXRpbmcgZ2xvYmFsIFB5dGhvbjMgbGlicmFyaWVzLi4uIgpJTkRFTlRfU1RSSU5HPSIiCl9VUEdSQURFX1BZM19HTE9CQUxfTElCUz0xCmZ1bmN0aW9uIHVzYWdlIHsKICAgIGNhdCA8PEhFTFBfVVNBR0UKc3JjL3VuaXgvZGViaWFuL2luc3RhbGwvcHl0aG9uL3YzIFstaF0gWy1pXSBbLS1uby11cGdyYWRlLXB5My1nbG9iYWwtbGlic10KICAKICBJbnN0YWxscyBzb21lIFB5dGhvbjIgYW5kIFB5dGhvbjMgQVBUIHBhY2thZ2VzIGlmIGFyZSBub3QgaW5zdGFsbGVkOgoKICAtIGN1cmwKICAtIHB5dGhvbjMtZGV2CiAgLSBweXRob24zLXBpcAogIC0gcHl0aG9uMy1zZXR1cHRvb2xzCiAgLSBweXRob24zLXRlc3RyZXNvdXJjZXMKICAtIGxpYnhtbDItdXRpbHMKICAtIHB5dGhvbi1seG1sCiAgLSBweXRob24zLWx4bWwKICAtIHB5dGhvbi1udW1weQogIC0gcHl0aG9uMy1udW1weQoKICArIEluIFVidW50dSA+PSAxOCBpbnN0YWxscyBhbHNvOgogICAgLSBweXRob24zLWRpc3R1dGlscwogICsgSW4gVWJ1bnR1IDwgMjAgaW5zdGFsbHMgYWxzbzoKICAgIC0gcHl0aG9uLXBpcAogICAgLSBweXRob24tZGV2CiAgKyBJbiBVYnVudHUgPj0gMjAgaW5zdGFsbHMgYWxzbzoKICAgIC0gcHl0aG9uLWRldi1pcy1weXRob24yCgogIEFsc28sIGluc3RhbGxzIG9yIHVwZ3JhZGUgdXNpbmcgUElQIHNvbWUgUHl0aG9uMyBwYWNrYWdlcyBnbG9iYWxseSAodGhpcyBzdGVwCiAgY2FuIGJlIGlnbm9yZWQgdXNpbmcgJy0tbm8tdXBncmFkZS1weTMtZ2xvYmFsLWxpYnMnIG9wdGlvbik6CgogIC0gcGlwCiAgLSB2aXJ0dWFsZW52CiAgLSBzZXR1cHRvb2xzCiAgLSB0ZXN0cmVzb3VyY2VzCgpPcHRpb25zOgogIC1oLCAtLWhlbHAgICAgICAgICAgICAgICAgICAgICAgICBTaG93IHRoaXMgaGVscCBtZXNzYWdlIGFuZCBleGl0LgogIC1pLCAtLWluZGVudCBTVFJJTkcgICAgICAgICAgICAgICBFYWNoIGxpbmUgb2YgdGhlIHNjcmlwdCBvdXRwdXQgd2lsbCBiZSBwcmVjZWRlZCB3aXRoIHRoZSBzdHJpbmcgZGVmaW5lZCBpbiB0aGlzIHBhcmFtZXRlci4KICAtLW5vLXVwZ3JhZGUtcHkzLWdsb2JhbC1saWJzICAgICAgSWdub3JlcyB0aGUgaW5zdGFsbGF0aW9uIG9yIHVwZ3JhZGUgb2YgUHl0aG9uMyBwYWNrYWdlcyBnbG9iYWxseSB1c2luZyBQSVAuCgpIRUxQX1VTQUdFCiAgICBleGl0IDEKfQpmb3IgYXJnIGluICIkQCI7IGRvCiAgY2FzZSAkYXJnIGluCiAgICAtaXwtLWluZGVudCkKICAgIHNoaWZ0CiAgICBJTkRFTlRfU1RSSU5HPSQxCiAgICBzaGlmdAogICAgOzsKICAgIC1ofC0taGVscCkKICAgIHNoaWZ0CiAgICB1c2FnZQogICAgOzsKICAgIC0tbm8tdXBncmFkZS1weTMtZ2xvYmFsLWxpYnMpCiAgICBfVVBHUkFERV9QWTNfR0xPQkFMX0xJQlM9MAogICAgc2hpZnQKICAgIDs7CiAgZXNhYwpkb25lCmZ1bmN0aW9uIHByaW50SW5kZW50KCkgewogIHByaW50ZiAiJXMiICIkSU5ERU5UX1NUUklORyIKfQppZiBbICIkKGNvbW1hbmQgLXYgcGFjbWFuKSIgPSAiIiBdOyB0aGVuCiAgaWYgWyAteiAiJF9TQ1JJUFRfRklMRU5BTUUiIF07IHRoZW4KICAgIGZpbGVwYXRoPSJzcmMvdW5peC9fL2Rvd25sb2FkL3BhY2FwdC9tYWluLnNoIgogICAgYmFzaCAiJGZpbGVwYXRoIgogIGVsc2UKICAgIHVybD0iaHR0cHM6Ly9tb25kZWphLmdpdGh1Yi5pby9zaHJlYWQvdW5peC9fL2Rvd25sb2FkL3BhY2FwdC8kX1NDUklQVF9GSUxFTkFNRSIKICAgIGN1cmwgLXNMICIkdXJsIiB8IHN1ZG8gYmFzaCAtID4gL2Rldi9udWxsCiAgZmk7CmZpOwppZiBbIC16ICIkVU5JWF9ESVNUUk8iIF0gfHwgWyAteiAiJFVOSVhfRElTVFJPX1ZFUlNJT05fTlVNQkVSX01BSk9SIiBdOyB0aGVuCiAgc291cmNlIDwoY3VybCAtc0wgaHR0cHM6Ly9tb25kZWphLmdpdGh1Yi5pby9zaHJlYWQvdW5peC9fL3V0aWwvZ2V0LWRpc3Ryby9lbi5zaCkKZmk7CmZ1bmN0aW9uIGluc3RhbGxNYWluUHl0aG9uM0FwdFBhY2thZ2UgewogIHByaW50SW5kZW50CiAgUFkzX0JJTkFSWV9GSUxFUEFUSD0iJChjb21tYW5kIC12IHB5dGhvbjMpIgogIGlmIFsgIiRQWTNfQklOQVJZX0ZJTEVQQVRIIiA9ICIiIF07IHRoZW4KICAgIF9QWVRIT05fU1RBQkxFX1BBQ0tBR0VfVkVSU0lPTj0kKAogICAgICBwYWNtYW4gLVFpIHB5dGhvbjMtZGV2IHwgZ3JlcCBWZXJzaW9uOiB8IGN1dCAtZCcgJyAtZjIpCiAgICBwcmludGYgIiAgJXMiICIkX01TR19JTlNUQUxMSU5HX0JBU0VfUEFDS0FHRSIKICAgIGlmIFsgIiRfUFlUSE9OX1NUQUJMRV9QQUNLQUdFX1ZFUlNJT04iICE9ICIiIF07IHRoZW4KICAJICBwcmludGYgIiAodiVzKSIgIiRfUFlUSE9OX1NUQUJMRV9QQUNLQUdFX1ZFUlNJT04iCiAgICBmaTsKICAgIHByaW50ZiAiLi4uIgogICAgc3VkbyBwYWNtYW4gLVMgLS0gLXkgcHl0aG9uMy1kZXYgPiAvZGV2L251bGwgfHwgZXhpdCAkPwogICAgX1BZVEhPTl9WRVJTSU9OPSIkKCIkUFkzX0JJTkFSWV9GSUxFUEFUSCIgLS12ZXJzaW9uIHwgY3V0IC1jNy0xMiB8IHRyIC1kICcgJykiCiAgZWxzZQogICAgX1BZVEhPTl9WRVJTSU9OPSIkKCIkUFkzX0JJTkFSWV9GSUxFUEFUSCIgLS12ZXJzaW9uIHwgY3V0IC1jNy0xMiB8IHRyIC1kICcgJykiCiAgCXByaW50ZiAiICAlcyAodiVzKSIgIiRfTVNHX0ZPVU5EX1BZM19JTlNUQUxMRUQiICIkX1BZVEhPTl9WRVJTSU9OIgogIGZpOwogIHByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgp9CmZ1bmN0aW9uIGRpc2NvdmVySW5zdGFsbGF0aW9uQXB0UGFja2FnZXMgewogIElOU1RBTExBVElPTl9QQUNLQUdFUz0oCiAgICAicHl0aG9uMy1kZXYiCiAgICAicHl0aG9uMy1waXAiCiAgICAicHl0aG9uMy1zZXR1cHRvb2xzIgogICAgInB5dGhvbjMtdGVzdHJlc291cmNlcyIKICAgICJsaWJ4bWwyLXV0aWxzIgogICAgInB5dGhvbi1seG1sIgogICAgInB5dGhvbjMtbHhtbCIKICAgICJweXRob24tbnVtcHkiCiAgICAicHl0aG9uMy1udW1weSIKICApCiAgaWYgWyAiJFVOSVhfRElTVFJPIiA9ICJ1YnVudHUiIF07IHRoZW4KICAgIGlmIFsgIiRVTklYX0RJU1RST19WRVJTSU9OX05VTUJFUl9NQUpPUiIgLWdlIDE4IF07IHRoZW4KICAgICAgSU5TVEFMTEFUSU9OX1BBQ0tBR0VTKz0oCiAgICAgICAgInB5dGhvbjMtZGlzdHV0aWxzIgogICAgICApCiAgICBmaTsKICAgIGlmIFsgIiRVTklYX0RJU1RST19WRVJTSU9OX05VTUJFUl9NQUpPUiIgLWx0IDIwIF07IHRoZW4KICAgICAgSU5TVEFMTEFUSU9OX1BBQ0tBR0VTKz0oCiAgICAgICAgInB5dGhvbi1waXAiCiAgICAgICAgInB5dGhvbi1kZXYiCiAgICAgICkKICAgIGVsc2UKICAgICAgSU5TVEFMTEFUSU9OX1BBQ0tBR0VTKz0oCiAgICAgICAgInB5dGhvbi1kZXYtaXMtcHl0aG9uMiIKICAgICAgKQogICAgZmk7CiAgZmk7Cn0KZnVuY3Rpb24gaW5zdGFsbFB5dGhvbkFkZGl0aW9uYWxBcHRQYWNrYWdlcyB7CiAgcHJpbnRJbmRlbnQKICBwcmludGYgIiAgJXNcbiIgIiRfTVNHX0NIRUNLSU5HX0FERElUSU9OQUxfUFkzX1BBQ0tBR0VTIgogIGZvciBERVAgaW4gIiR7SU5TVEFMTEFUSU9OX1BBQ0tBR0VTW0BdfSI7IGRvCiAgICBwcmludEluZGVudAogICAgcHJpbnRmICIgICAgJXMiICIkREVQIgogICAgaWYgW1sgIiQoc3VkbyBwYWNtYW4gLVFpICIkREVQIiAyPiAvZGV2L251bGwgfCBncmVwIFN0YXR1cykiICE9ICJTdGF0dXM6IGluc3RhbGwgb2sgaW5zdGFsbGVkIiBdXTsgdGhlbgogICAgICBzdWRvIHBhY21hbiAtUyAtLSAteSAiJERFUCIgPiAvZGV2L251bGwgfHwgZXhpdCAkPwogICAgZmk7CiAgICBfREVQX1ZFUlNJT049JChhcHQtY2FjaGUgcG9saWN5ICIkREVQIiB8IGdyZXAgLVBvICIoXGQrXC4pK1xkKyIgfCBoZWFkIC1uIDEpCiAgICBpZiBbICIkX0RFUF9WRVJTSU9OIiAhPSAiIiBdOyB0aGVuCiAgICAgIHByaW50ZiAiICh2JXMpIiAiJF9ERVBfVkVSU0lPTiIKICAgIGZpOwogICAgcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCiAgZG9uZQp9CmZ1bmN0aW9uIGNvbmZpZ3VyZVBJUCB7CiAgVVNFUl9IT01FPSIkKGdldGVudCBwYXNzd2QgIiRTVURPX1VTRVIiIHwgY3V0IC1kOiAtZjYpIgogIGlmIFsgLWQgIiRIT01FLy5jYWNoZS9waXAvIiBdOyB0aGVuCiAgICBfUElQX0NBQ0hFX0ZJTEVQQVRIPSIkVVNFUl9IT01FLy5jYWNoZS9waXAvIgogICAgaWYgWyAtZiAiJF9QSVBfQ0FDSEVfRklMRVBBVEgiIF07IHRoZW4KICAgICAgc3VkbyBjaG93biAtUiAiJFNVRE9fVVNFUiIgIiRfUElQX0NBQ0hFX0ZJTEVQQVRIIgogICAgZmk7CiAgZmk7CiAgaWYgWyAiJChjb21tYW5kIC12IHB5dGhvbjIpIiAhPSAiIiBdOyB0aGVuCiAgICBzdWRvIHB5dGhvbjIgLW0gcGlwIGluc3RhbGwgLXFxIHBpcD09MjAuMC4yCiAgZmk7Cn0KZnVuY3Rpb24gdXBncmFkZUdsb2JhbExpYnJhcmllcyB7CiAgaWYgWyAkX1VQR1JBREVfUFkzX0dMT0JBTF9MSUJTIC1lcSAxIF07IHRoZW4KICAgIHByaW50SW5kZW50CiAgICBwcmludGYgIiAgJXNcbiIgIiRfTVNHX1VQREFUSU5HX0dMT0JBTF9QWTNfTElCUkFSSUVTIgogICAgR0xPQkFMX1JFQ09NTUVOREVEX0xJQlJBUklFUz0oCiAgICAgICJwaXAiCiAgICAgICJ2aXJ0dWFsZW52IgogICAgICAic2V0dXB0b29scyIKICAgICAgInRlc3RyZXNvdXJjZXMiCiAgICApCiAgICBmb3IgTElCIGluICIke0dMT0JBTF9SRUNPTU1FTkRFRF9MSUJSQVJJRVNbQF19IjsgZG8KICAgICAgcHJpbnRJbmRlbnQKICAgICAgcHJpbnRmICIgICAgJXMiICIkTElCIgogICAgICBfR0VUX1ZFUlNJT05fRVhFQ19TVFI9IgppbXBvcnQgc3lzOwp0cnk6IGltcG9ydCAkTElCIGFzIGw7CmV4Y2VwdCBJbXBvcnRFcnJvciBhcyBlcnI6IHN5cy5leGl0KDc3Nyk7CnByaW50KGwuX192ZXJzaW9uX18gaWYgaXNpbnN0YW5jZShsLl9fdmVyc2lvbl9fLCBzdHIpIGVsc2UgICAnLicuam9pbihbc3RyKHYpIGZvciB2IGluIGwuX192ZXJzaW9uX19dWzozXSksIGVuZD0nJyk7CiAgIgogICAgICBfTElCX0xPQ0FMX1ZFUlNJT049IiQoIiRQWTNfQklOQVJZX0ZJTEVQQVRIIiAtYyAiJF9HRVRfVkVSU0lPTl9FWEVDX1NUUiIpIgogICAgICBfTElCX0xPQ0FMX1ZFUlNJT05fRVhJVF9DT0RFPSQ/CiAgICAgIGlmIFsgJF9MSUJfTE9DQUxfVkVSU0lPTl9FWElUX0NPREUgLWVxIDc3NyBdOyB0aGVuCiAgICAgIAlzdWRvIC1IICIkUFkzX0JJTkFSWV9GSUxFUEFUSCIgLW0gcGlwIGluc3RhbGwgLVUgLS1xdWlldCAiJExJQiIKICAgICAgZWxzZQogICAgICAgIHByaW50ZiAiICgiCiAgICAgICAgaWYgWyAiJF9MSUJfTE9DQUxfVkVSU0lPTiIgIT0gIiIgXTsgdGhlbgogICAgICAgICAgcHJpbnRmICJ2JXMiICIkX0xJQl9MT0NBTF9WRVJTSU9OIgogICAgICAgIGZpOwogICAgICAgIF9MSUJfTEFTVF9QWVBJX1ZFUlNJT049JCgKICAgICAgICAgIHhtbGxpbnQgLS1odG1sIC0teHBhdGggIi8vYVtsYXN0KCldL3RleHQoKSAiICAgICAgICAgICAgIDwoY3VybCAtc0wgImh0dHBzOi8vcHlwaS5vcmcvc2ltcGxlLyRMSUIvIikgfCAgICAgICAgICAgICBncmVwIC1QbyAiKFxkK1wuKStcZCtcdyoiKQogICAgICAgICAgaWYgWyAiJF9MSUJfTEFTVF9QWVBJX1ZFUlNJT04iICE9ICIkX0xJQl9MT0NBTF9WRVJTSU9OIiBdOyB0aGVuCiAgICAgICAgICAgIGlmIFsgIiRfTElCX0xPQ0FMX1ZFUlNJT04iICE9ICIiIF07IHRoZW4KICAgICAgICAgICAgICBwcmludGYgIiAtPiAiCiAgICAgICAgICAgIGZpOwogICAgICAgICAgICBwcmludGYgInYlcykuLi4iICIkX0xJQl9MQVNUX1BZUElfVkVSU0lPTiIKICAgICAgICAgICAgX2xpYl9lcXVhbF92ZXJzaW9uPSIkTElCPT0kX0xJQl9MQVNUX1BZUElfVkVSU0lPTiIKICAgICAgICAgICAgc3VkbyAtSCAiJFBZM19CSU5BUllfRklMRVBBVEgiIC1tIHBpcCBpbnN0YWxsIC1VIC1xcSAiJF9saWJfZXF1YWxfdmVyc2lvbiIKICAgICAgICAgIGVsc2UKICAgICAgICAgICAgcHJpbnRmICIpIgogICAgICAgICAgZmk7CiAgICAgIGZpOwogICAgICBwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKICAgIGRvbmUKICBmaTsKfQpmdW5jdGlvbiBtYWluIHsKICBwcmludEluZGVudAogIHByaW50ZiAiJXNcbiIgIiRfTVNHX1NFVFRJTkdfVVBfUFkzX0VDT1NZU1RFTSIKICBpbnN0YWxsTWFpblB5dGhvbjNBcHRQYWNrYWdlCiAgZGlzY292ZXJJbnN0YWxsYXRpb25BcHRQYWNrYWdlcwogIGluc3RhbGxQeXRob25BZGRpdGlvbmFsQXB0UGFja2FnZXMKICBjb25maWd1cmVQSVAKICB1cGdyYWRlR2xvYmFsTGlicmFyaWVzCn0KaWYgKHJldHVybiAwIDI+L2Rldi9udWxsKTsgdGhlbgogIGV4cG9ydFZhcmlhYmxlcwplbHNlCiAgbWFpbgpmaTs='
if (return 0 2>/dev/null); then
  source <(printf "%s" "$H" | base64 -d)
else
  echo "$(echo "$H" | base64 -d)" | bash -s -- "$@"
fi;
