#!/bin/bash
H='IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfU0NSSVBUX0ZJTEVOQU1FPWVuLnNoCl9NU0dfU0VUVElOR19VUF9QWTNfRUNPU1lTVEVNPSJTZXR0aW5nIHVwIFB5dGhvbjMgZWNvc3lzdGVtLi4uIgpfTVNHX0lOU1RBTExJTkdfQkFTRV9QQUNLQUdFPSJJbnN0YWxsaW5nIGJhc2UgcGFja2FnZSIKX01TR19GT1VORF9QWTNfSU5TVEFMTEVEPSJGb3VuZCBQeXRob24zIGluc3RhbGxlZCBpbiB0aGUgc3lzdGVtIgpfTVNHX0NIRUNLSU5HX0FERElUSU9OQUxfUFkzX1BBQ0tBR0VTPSJDaGVja2luZyBhZGRpdGlvbmFsIFB5dGhvbiBwYWNrYWdlcy4uLiIKX01TR19VUERBVElOR19HTE9CQUxfUFkzX0xJQlJBUklFUz0iVXBkYXRpbmcgZ2xvYmFsIFB5dGhvbjMgbGlicmFyaWVzLi4uIgpJTkRFTlRfU1RSSU5HPSIiCl9VUEdSQURFX1BZM19HTE9CQUxfTElCUz0xCmZ1bmN0aW9uIHVzYWdlIHsKICAgIGNhdCA8PEhFTFBfVVNBR0UKc3JjL3VuaXgvZGViaWFuL2luc3RhbGwvcHl0aG9uL3YzIFstaF0gWy1pXSBbLS1uby11cGdyYWRlLXB5My1nbG9iYWwtbGlic10KICAKICBJbnN0YWxscyBzb21lIFB5dGhvbjIgYW5kIFB5dGhvbjMgQVBUIHBhY2thZ2VzIGlmIGFyZSBub3QgaW5zdGFsbGVkOgogIC0gY3VybAogIC0gcHl0aG9uMy1kZXYKICAtIHB5dGhvbjMtcGlwCiAgLSBweXRob24zLXNldHVwdG9vbHMKICAtIHB5dGhvbjMtdGVzdHJlc291cmNlcwogIC0gbGlieG1sMi11dGlscwogIC0gcHl0aG9uLWx4bWwKICAtIHB5dGhvbjMtbHhtbAogIC0gcHl0aG9uLW51bXB5CiAgLSBweXRob24zLW51bXB5CiAgKyBJbiBVYnVudHUgPj0gMTggaW5zdGFsbHMgYWxzbzoKICAgIC0gcHl0aG9uMy1kaXN0dXRpbHMKICArIEluIFVidW50dSA8IDIwIGluc3RhbGxzIGFsc286CiAgICAtIHB5dGhvbi1waXAKICAgIC0gcHl0aG9uLWRldgogICsgSW4gVWJ1bnR1ID49IDIwIGluc3RhbGxzIGFsc286CiAgICAtIHB5dGhvbi1kZXYtaXMtcHl0aG9uMgogIEFsc28sIGluc3RhbGxzIG9yIHVwZ3JhZGUgdXNpbmcgUElQIHNvbWUgUHl0aG9uMyBwYWNrYWdlcyBnbG9iYWxseSAodGhpcyBzdGVwCiAgY2FuIGJlIGlnbm9yZWQgdXNpbmcgJy0tbm8tdXBncmFkZS1weTMtZ2xvYmFsLWxpYnMnIG9wdGlvbik6CiAgLSBwaXAKICAtIHZpcnR1YWxlbnYKICAtIHNldHVwdG9vbHMKICAtIHRlc3RyZXNvdXJjZXMKT3B0aW9uczoKICAtaCwgLS1oZWxwICAgICAgICAgICAgICAgICAgICAgICAgU2hvdyB0aGlzIGhlbHAgbWVzc2FnZSBhbmQgZXhpdC4KICAtaSwgLS1pbmRlbnQgICAgICAgICAgICAgICAgICAgICAgRWFjaCBsaW5lIG9mIHRoZSBzY3JpcHQgb3V0cHV0IHdpbGwgYmUgcHJlY2VkZWQgd2l0aCB0aGUgc3RyaW5nIGRlZmluZWQgaW4gdGhpcyBwYXJhbWV0ZXIuCiAgLS1uby11cGdyYWRlLXB5My1nbG9iYWwtbGlicyAgICAgIElnbm9yZXMgdGhlIGluc3RhbGxhdGlvbiBvciB1cGdyYWRlIG9mIFB5dGhvbjMgcGFja2FnZXMgZ2xvYmFsbHkgdXNpbmcgUElQLgpIRUxQX1VTQUdFCiAgICBleGl0IDEKfQpmb3IgYXJnIGluICIkQCI7IGRvCiAgY2FzZSAkYXJnIGluCiAgICAtaXwtLWluZGVudCkKICAgIHNoaWZ0CiAgICBJTkRFTlRfU1RSSU5HPSQxCiAgICBzaGlmdAogICAgOzsKICAgIC1ofC0taGVscCkKICAgIHNoaWZ0CiAgICB1c2FnZQogICAgOzsKICAgIAogICAgLS1uby11cGdyYWRlLXB5My1nbG9iYWwtbGlicykKICAgIF9VUEdSQURFX1BZM19HTE9CQUxfTElCUz0wCiAgICBzaGlmdAogICAgOzsKICBlc2FjCmRvbmUKZnVuY3Rpb24gcHJpbnRJbmRlbnQoKSB7CiAgcHJpbnRmICIlcyIgIiRJTkRFTlRfU1RSSU5HIgp9CmlmIFsgIiQoY29tbWFuZCAtdiBwYWNtYW4pIiA9ICIiIF07IHRoZW4KICBpZiBbIC16ICIkX1NDUklQVF9GSUxFTkFNRSIgXTsgdGhlbgogICAgZmlsZXBhdGg9InNyYy91bml4L18vZG93bmxvYWQvcGFjYXB0L21haW4uc2giCiAgICBiYXNoICIkZmlsZXBhdGgiCiAgZWxzZQogICAgdXJsPSJodHRwczovL21vbmRlamEuZ2l0aHViLmlvL3NocmVhZC91bml4L18vZG93bmxvYWQvcGFjYXB0LyRfU0NSSVBUX0ZJTEVOQU1FIgogICAgY3VybCAtc0wgIiR1cmwiIHwgc3VkbyBiYXNoIC0gPiAvZGV2L251bGwKICBmaTsKZmk7CklOU1RBTExBVElPTl9ERVBFTkRFTkNJRVM9KAogICJkZWJjb25mLXV0aWxzIgopCmZvciBERVAgaW4gIiR7SU5TVEFMTEFUSU9OX0RFUEVOREVOQ0lFU1tAXX0iOyBkbwogIGlmIFtbICIkKHBhY21hbiAtUWkgIiRERVAiIDI+IC9kZXYvbnVsbCB8IGdyZXAgU3RhdHVzKSIgIT0gIlN0YXR1czogaW5zdGFsbCBvayBpbnN0YWxsZWQiIF1dOyB0aGVuCiAgICBzdWRvIHBhY21hbiAtUyAtLSAteSAiJERFUCIgPiAvZGV2L251bGwgfHwgZXhpdCAkPwogIGZpOwpkb25lOwppZiBbICIkKGNvbW1hbmQgLXYgZGViY29uZi1nZXQtc2VsZWN0aW9ucykiICE9ICIiIF07IHRoZW4KICBfT1JJR0lOQUxfREVCQ09ORl9GUk9OVEVORD0kKAogICAgc3VkbyBkZWJjb25mLWdldC1zZWxlY3Rpb25zIHwgICAgIGdyZXAgZGViY29uZi9mcm9udGVuZCB8ICAgICBhd2sgJ3twcmludCAkNH0nKQogIHN1ZG8gc2ggLWMgImVjaG8gJ2RlYmNvbmYgZGViY29uZi9mcm9udGVuZCBzZWxlY3QgTm9uaW50ZXJhY3RpdmUnIHwgZGViY29uZi1zZXQtc2VsZWN0aW9ucyIKZmk7CmlmIFsgLXogIiRVTklYX0RJU1RSTyIgXSB8fCBbIC16ICIkVU5JWF9ESVNUUk9fVkVSU0lPTl9OVU1CRVJfTUFKT1IiIF07IHRoZW4KICBzb3VyY2UgPChjdXJsIC1zTCBodHRwczovL21vbmRlamEuZ2l0aHViLmlvL3NocmVhZC91bml4L18vdXRpbC9nZXQtZGlzdHJvL2VuLnNoKQpmaTsKZnVuY3Rpb24gaW5zdGFsbE1haW5QeXRob24zQXB0UGFja2FnZSB7CiAgcHJpbnRJbmRlbnQKICBQWTNfQklOQVJZX0ZJTEVQQVRIPSIkKGNvbW1hbmQgLXYgcHl0aG9uMykiCiAgaWYgWyAiJFBZM19CSU5BUllfRklMRVBBVEgiID0gIiIgXTsgdGhlbgogICAgX1BZVEhPTl9TVEFCTEVfUEFDS0FHRV9WRVJTSU9OPSQoCiAgICAgIHBhY21hbiAtUWkgcHl0aG9uMy1kZXYgfCBncmVwIFZlcnNpb246IHwgY3V0IC1kJyAnIC1mMikKICAgIHByaW50ZiAiICAlcyIgIiRfTVNHX0lOU1RBTExJTkdfQkFTRV9QQUNLQUdFIgogICAgaWYgWyAiJF9QWVRIT05fU1RBQkxFX1BBQ0tBR0VfVkVSU0lPTiIgIT0gIiIgXTsgdGhlbgogIAkgIHByaW50ZiAiICh2JXMpIiAiJF9QWVRIT05fU1RBQkxFX1BBQ0tBR0VfVkVSU0lPTiIKICAgIGZpOwogICAgcHJpbnRmICIuLi4iCiAgICBzdWRvIHBhY21hbiAtUyAtLSAteSBweXRob24zLWRldiA+IC9kZXYvbnVsbCB8fCBleGl0ICQ/CiAgICBfUFlUSE9OX1ZFUlNJT049IiQoIiRQWTNfQklOQVJZX0ZJTEVQQVRIIiAtLXZlcnNpb24gfCBjdXQgLWM3LTEyIHwgdHIgLWQgJyAnKSIKICBlbHNlCiAgICBfUFlUSE9OX1ZFUlNJT049IiQoIiRQWTNfQklOQVJZX0ZJTEVQQVRIIiAtLXZlcnNpb24gfCBjdXQgLWM3LTEyIHwgdHIgLWQgJyAnKSIKICAJcHJpbnRmICIgICVzICh2JXMpIiAiJF9NU0dfRk9VTkRfUFkzX0lOU1RBTExFRCIgIiRfUFlUSE9OX1ZFUlNJT04iCiAgZmk7CiAgcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCn0KZnVuY3Rpb24gZGlzY292ZXJJbnN0YWxsYXRpb25BcHRQYWNrYWdlcyB7CiAgSU5TVEFMTEFUSU9OX1BBQ0tBR0VTPSgKICAgICJweXRob24zLWRldiIKICAgICJweXRob24zLXBpcCIKICAgICJweXRob24zLXNldHVwdG9vbHMiCiAgICAicHl0aG9uMy10ZXN0cmVzb3VyY2VzIgogICAgImxpYnhtbDItdXRpbHMiCiAgICAicHl0aG9uLWx4bWwiCiAgICAicHl0aG9uMy1seG1sIgogICAgInB5dGhvbi1udW1weSIKICAgICJweXRob24zLW51bXB5IgogICkKICBpZiBbICIkVU5JWF9ESVNUUk8iID0gInVidW50dSIgXTsgdGhlbgogICAgaWYgWyAiJFVOSVhfRElTVFJPX1ZFUlNJT05fTlVNQkVSX01BSk9SIiAtZ2UgMTggXTsgdGhlbgogICAgICBJTlNUQUxMQVRJT05fUEFDS0FHRVMrPSgKICAgICAgICAicHl0aG9uMy1kaXN0dXRpbHMiCiAgICAgICkKICAgIGZpOwogICAgaWYgWyAiJFVOSVhfRElTVFJPX1ZFUlNJT05fTlVNQkVSX01BSk9SIiAtbHQgMjAgXTsgdGhlbgogICAgICBJTlNUQUxMQVRJT05fUEFDS0FHRVMrPSgKICAgICAgICAicHl0aG9uLXBpcCIKICAgICAgICAicHl0aG9uLWRldiIKICAgICAgKQogICAgZWxzZQogICAgICBJTlNUQUxMQVRJT05fUEFDS0FHRVMrPSgKICAgICAgICAicHl0aG9uLWRldi1pcy1weXRob24yIgogICAgICApCiAgICBmaTsKICBmaTsKfQpmdW5jdGlvbiBpbnN0YWxsUHl0aG9uQWRkaXRpb25hbEFwdFBhY2thZ2VzIHsKICBwcmludEluZGVudAogIHByaW50ZiAiICAlc1xuIiAiJF9NU0dfQ0hFQ0tJTkdfQURESVRJT05BTF9QWTNfUEFDS0FHRVMiCiAgZm9yIERFUCBpbiAiJHtJTlNUQUxMQVRJT05fUEFDS0FHRVNbQF19IjsgZG8KICAgIHByaW50SW5kZW50CiAgICBwcmludGYgIiAgICAlcyIgIiRERVAiCiAgICBpZiBbWyAiJChzdWRvIHBhY21hbiAtUWkgIiRERVAiIDI+IC9kZXYvbnVsbCB8IGdyZXAgU3RhdHVzKSIgIT0gIlN0YXR1czogaW5zdGFsbCBvayBpbnN0YWxsZWQiIF1dOyB0aGVuCiAgICAgIHN1ZG8gcGFjbWFuIC1TIC0tIC15ICIkREVQIiA+IC9kZXYvbnVsbCB8fCBleGl0ICQ/CiAgICBmaTsKICAgIF9ERVBfVkVSU0lPTj0kKGFwdC1jYWNoZSBwb2xpY3kgIiRERVAiIHwgZ3JlcCAtUG8gIihcZCtcLikrXGQrIiB8IGhlYWQgLW4gMSkKICAgIGlmIFsgIiRfREVQX1ZFUlNJT04iICE9ICIiIF07IHRoZW4KICAgICAgcHJpbnRmICIgKHYlcykiICIkX0RFUF9WRVJTSU9OIgogICAgZmk7CiAgICBwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKICBkb25lCn0KZnVuY3Rpb24gY29uZmlndXJlUElQIHsKICBVU0VSX0hPTUU9IiQoZ2V0ZW50IHBhc3N3ZCAiJFNVRE9fVVNFUiIgfCBjdXQgLWQ6IC1mNikiCiAgaWYgWyAtZCAiJEhPTUUvLmNhY2hlL3BpcC8iIF07IHRoZW4KICAgIF9QSVBfQ0FDSEVfRklMRVBBVEg9IiRVU0VSX0hPTUUvLmNhY2hlL3BpcC8iCiAgICBpZiBbIC1mICIkX1BJUF9DQUNIRV9GSUxFUEFUSCIgXTsgdGhlbgogICAgICBzdWRvIGNob3duIC1SICIkU1VET19VU0VSIiAiJF9QSVBfQ0FDSEVfRklMRVBBVEgiCiAgICBmaTsKICBmaTsKICBpZiBbICIkKGNvbW1hbmQgLXYgcHl0aG9uMikiICE9ICIiIF07IHRoZW4KICAgIHN1ZG8gcHl0aG9uMiAtbSBwaXAgaW5zdGFsbCAtcXEgcGlwPT0yMC4wLjIKICBmaTsKfQpmdW5jdGlvbiB1cGdyYWRlR2xvYmFsTGlicmFyaWVzIHsKICBpZiBbICRfVVBHUkFERV9QWTNfR0xPQkFMX0xJQlMgLWVxIDEgXTsgdGhlbgogICAgcHJpbnRJbmRlbnQKICAgIHByaW50ZiAiICAlc1xuIiAiJF9NU0dfVVBEQVRJTkdfR0xPQkFMX1BZM19MSUJSQVJJRVMiCiAgICBHTE9CQUxfUkVDT01NRU5ERURfTElCUkFSSUVTPSgKICAgICAgInBpcCIKICAgICAgInZpcnR1YWxlbnYiCiAgICAgICJzZXR1cHRvb2xzIgogICAgICAidGVzdHJlc291cmNlcyIKICAgICkKICAgIGZvciBMSUIgaW4gIiR7R0xPQkFMX1JFQ09NTUVOREVEX0xJQlJBUklFU1tAXX0iOyBkbwogICAgICBwcmludEluZGVudAogICAgICBwcmludGYgIiAgICAlcyIgIiRMSUIiCiAgICAgIF9HRVRfVkVSU0lPTl9FWEVDX1NUUj0iCmltcG9ydCBzeXM7CnRyeTogaW1wb3J0ICRMSUIgYXMgbDsKZXhjZXB0IEltcG9ydEVycm9yIGFzIGVycjogc3lzLmV4aXQoNzc3KTsKcHJpbnQobC5fX3ZlcnNpb25fXyBpZiBpc2luc3RhbmNlKGwuX192ZXJzaW9uX18sIHN0cikgZWxzZSAgICcuJy5qb2luKFtzdHIodikgZm9yIHYgaW4gbC5fX3ZlcnNpb25fX11bOjNdKSwgZW5kPScnKTsKICAiCiAgICAgIF9MSUJfTE9DQUxfVkVSU0lPTj0iJCgiJFBZM19CSU5BUllfRklMRVBBVEgiIC1jICIkX0dFVF9WRVJTSU9OX0VYRUNfU1RSIikiCiAgICAgIF9MSUJfTE9DQUxfVkVSU0lPTl9FWElUX0NPREU9JD8KICAgICAgaWYgWyAkX0xJQl9MT0NBTF9WRVJTSU9OX0VYSVRfQ09ERSAtZXEgNzc3IF07IHRoZW4KICAgICAgCXN1ZG8gLUggIiRQWTNfQklOQVJZX0ZJTEVQQVRIIiAtbSBwaXAgaW5zdGFsbCAtVSAtLXF1aWV0ICIkTElCIgogICAgICBlbHNlCiAgICAgICAgcHJpbnRmICIgKCIKICAgICAgICBpZiBbICIkX0xJQl9MT0NBTF9WRVJTSU9OIiAhPSAiIiBdOyB0aGVuCiAgICAgICAgICBwcmludGYgInYlcyIgIiRfTElCX0xPQ0FMX1ZFUlNJT04iCiAgICAgICAgZmk7CiAgICAgICAgX0xJQl9MQVNUX1BZUElfVkVSU0lPTj0kKAogICAgICAgICAgeG1sbGludCAtLWh0bWwgLS14cGF0aCAiLy9hW2xhc3QoKV0vdGV4dCgpICIgICAgICAgICAgICAgPChjdXJsIC1zTCAiaHR0cHM6Ly9weXBpLm9yZy9zaW1wbGUvJExJQi8iKSB8ICAgICAgICAgICAgIGdyZXAgLVBvICIoXGQrXC4pK1xkK1x3KiIpCiAgICAgICAgICBpZiBbICIkX0xJQl9MQVNUX1BZUElfVkVSU0lPTiIgIT0gIiRfTElCX0xPQ0FMX1ZFUlNJT04iIF07IHRoZW4KICAgICAgICAgICAgaWYgWyAiJF9MSUJfTE9DQUxfVkVSU0lPTiIgIT0gIiIgXTsgdGhlbgogICAgICAgICAgICAgIHByaW50ZiAiIC0+ICIKICAgICAgICAgICAgZmk7CiAgICAgICAgICAgIHByaW50ZiAidiVzKS4uLiIgIiRfTElCX0xBU1RfUFlQSV9WRVJTSU9OIgogICAgICAgICAgICBfbGliX2VxdWFsX3ZlcnNpb249IiRMSUI9PSRfTElCX0xBU1RfUFlQSV9WRVJTSU9OIgogICAgICAgICAgICBzdWRvIC1IICIkUFkzX0JJTkFSWV9GSUxFUEFUSCIgLW0gcGlwIGluc3RhbGwgLVUgLXFxICIkX2xpYl9lcXVhbF92ZXJzaW9uIgogICAgICAgICAgZWxzZQogICAgICAgICAgICBwcmludGYgIikiCiAgICAgICAgICBmaTsKICAgICAgZmk7CiAgICAgIHByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgogICAgZG9uZQogIGZpOwp9CmZ1bmN0aW9uIG1haW4gewogIHByaW50SW5kZW50CiAgcHJpbnRmICIlc1xuIiAiJF9NU0dfU0VUVElOR19VUF9QWTNfRUNPU1lTVEVNIgogIGluc3RhbGxNYWluUHl0aG9uM0FwdFBhY2thZ2UKICBkaXNjb3Zlckluc3RhbGxhdGlvbkFwdFBhY2thZ2VzCiAgaW5zdGFsbFB5dGhvbkFkZGl0aW9uYWxBcHRQYWNrYWdlcwogIGNvbmZpZ3VyZVBJUAogIHVwZ3JhZGVHbG9iYWxMaWJyYXJpZXMKfQppZiAocmV0dXJuIDAgMj4vZGV2L251bGwpOyB0aGVuCiAgZXhwb3J0VmFyaWFibGVzCmVsc2UKICBtYWluCmZpOwo='
if (return 0 2>/dev/null); then
  source <(printf "%s" "$H" | base64 -d)
else
  echo "$(echo "$H" | base64 -d)" | bash -s -- "$@"
fi;
