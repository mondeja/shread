#!/bin/bash
H='IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfU0NSSVBUX0ZJTEVOQU1FPWVuLnNoCiMhL2Jpbi9iYXNoCl9NU0dfU0VUVElOR19VUF9QWTNfRUNPU1lTVEVNPSJTZXR0aW5nIHVwIFB5dGhvbjMgZWNvc3lzdGVtLi4uIgpfTVNHX0lOU1RBTExJTkdfQkFTRV9QQUNLQUdFPSJJbnN0YWxsaW5nIGJhc2UgcGFja2FnZSIKX01TR19GT1VORF9QWTNfSU5TVEFMTEVEPSJGb3VuZCBQeXRob24zIGluc3RhbGxlZCBpbiB0aGUgc3lzdGVtIgpfTVNHX0NIRUNLSU5HX0FERElUSU9OQUxfUFkzX1BBQ0tBR0VTPSJDaGVja2luZyBhZGRpdGlvbmFsIFB5dGhvbiBwYWNrYWdlcy4uLiIKX01TR19VUERBVElOR19HTE9CQUxfUFkzX0xJQlJBUklFUz0iVXBkYXRpbmcgZ2xvYmFsIFB5dGhvbjMgbGlicmFyaWVzLi4uIgpJTkRFTlRfU1RSSU5HPSIiCl9VUEdSQURFX1BZM19HTE9CQUxfTElCUz0xCl9TS0lQX0FQVF9QQUNLQUdFUz0iIgpfU0tJUF9QWV9QQUNLQUdFUz0iIgpmdW5jdGlvbiB1c2FnZSB7CiAgICBjYXQgPDxIRUxQX1VTQUdFClVzYWdlOiB1bml4L2RlYmlhbi9pbnN0YWxsL3B5dGhvbi92My8kX1NDUklQVF9GSUxFTkFNRSBbLWhdIFstaSBTVFJJTkddIFstLW5vLXVwZ3JhZGUtcHkzLWdsb2JhbC1saWJzXQoKICBJbnN0YWxscyBzb21lIFB5dGhvbjIgYW5kIFB5dGhvbjMgQVBUIHBhY2thZ2VzIGlmIGFyZSBub3QgaW5zdGFsbGVkOgoKICAtIGN1cmwKICAtIHB5dGhvbjMtZGV2CiAgLSBweXRob24zLXBpcAogIC0gcHl0aG9uMy1zZXR1cHRvb2xzCiAgLSBweXRob24zLXRlc3RyZXNvdXJjZXMKICAtIGxpYnhtbDItdXRpbHMKICAtIHB5dGhvbi1seG1sCiAgLSBweXRob24zLWx4bWwKICAtIHB5dGhvbi1udW1weQogIC0gcHl0aG9uMy1udW1weQoKICArIEluIFVidW50dSA+PSAxOCBpbnN0YWxscyBhbHNvOgogICAgLSBweXRob24zLWRpc3R1dGlscwogICsgSW4gVWJ1bnR1IDwgMjAgaW5zdGFsbHMgYWxzbzoKICAgIC0gcHl0aG9uLXBpcAogICAgLSBweXRob24tZGV2CiAgKyBJbiBVYnVudHUgPj0gMjAgaW5zdGFsbHMgYWxzbzoKICAgIC0gcHl0aG9uLWRldi1pcy1weXRob24yCgogIE9wdGlvbmFsbHksIGluc3RhbGxzIG9yIHVwZ3JhZGUgdXNpbmcgUElQIHNvbWUgUHl0aG9uMyBwYWNrYWdlcyBnbG9iYWxseToKCiAgLSBwaXAKICAtIHZpcnR1YWxlbnYKICAtIHNldHVwdG9vbHMKICAtIHRlc3RyZXNvdXJjZXMKCk9wdGlvbnM6CiAgLWgsIC0taGVscCAgICAgICAgICAgICAgICAgICAgICAgIFNob3cgdGhpcyBoZWxwIG1lc3NhZ2UgYW5kIGV4aXQuCiAgLWkgU1RSSU5HLCAtLWluZGVudCBTVFJJTkcgICAgICAgIEVhY2ggbGluZSBvZiB0aGUgc2NyaXB0IG91dHB1dCB3aWxsIGJlIHByZWNlZGVkIHdpdGggdGhlIHN0cmluZyBkZWZpbmVkIGluIHRoaXMgcGFyYW1ldGVyLgogIC0tbm8tdXBncmFkZS1weTMtZ2xvYmFsLWxpYnMgICAgICBJZ25vcmVzIHRoZSBpbnN0YWxsYXRpb24gb3IgdXBncmFkZSBvZiB0aGUgZ2xvYmFsIFB5dGhvbjMgcGFja2FnZXMgdXNpbmcgUElQLgogIC0tc2tpcC1hcHQtcGFja2FnZXMgICAgICAgICAgICAgICBQYXNzIGEgY29tbWEgc2VwYXJhdGVkIGxpc3Qgb2YgcGFja2FnZXMgdG8gc2tpcCBBUFQgcGFja2FnZSBpbnN0YWxsYXRpb25zLgogIC0tc2tpcC1weS1wYWNrYWdlcyAgICAgICAgICAgICAgICBQYXNzIGEgY29tbWEgc2VwYXJhdGVkIGxpc3Qgb2YgcGFja2FnZXMgdG8gc2tpcCBQeXRob24gZ2xvYmFsIHBhY2thZ2UgaW5zdGFsbGF0aW9ucy4KCkhFTFBfVVNBR0UKICAgIGV4aXQgMQp9CmZvciBhcmcgaW4gIiRAIjsgZG8KICBjYXNlICRhcmcgaW4KICAgIC1pfC0taW5kZW50KQogICAgSU5ERU5UX1NUUklORz0iJDIiCiAgICBzaGlmdCAyCiAgICA7OwogICAgLWh8LS1oZWxwKQogICAgc2hpZnQKICAgIHVzYWdlCiAgICA7OyAgICAKICAgIC0tbm8tdXBncmFkZS1weTMtZ2xvYmFsLWxpYnMpCiAgICBfVVBHUkFERV9QWTNfR0xPQkFMX0xJQlM9MAogICAgc2hpZnQKICAgIDs7CiAgICAtLXNraXAtYXB0LXBhY2thZ2VzKQogICAgc2hpZnQKICAgIF9TS0lQX0FQVF9QQUNLQUdFUz0kMQogICAgc2hpZnQKICAgIDs7CiAgICAtLXNraXAtcHktcGFja2FnZXMpCiAgICBzaGlmdAogICAgX1NLSVBfUFlfUEFDS0FHRVM9JDEKICAgIHNoaWZ0CiAgICA7OwogIGVzYWMKZG9uZQpmdW5jdGlvbiBwcmludEluZGVudCgpIHsKICBwcmludGYgIiVzIiAiJElOREVOVF9TVFJJTkciCn0KZnVuY3Rpb24gaW5zdGFsbFBhY21hbklmTm90SW5zdGFsbGVkKCkgewogIGlmIFsgIiQoY29tbWFuZCAtdiBwYWNtYW4pIiA9ICIiIF07IHRoZW4KICAgIHVybD0iaHR0cHM6Ly9tb25kZWphLmdpdGh1Yi5pby9zaHJlYWQvdW5peC9fL2Rvd25sb2FkL3BhY2FwdC8kX1NDUklQVF9GSUxFTkFNRSIKICAgIGN1cmwgLXNMICIkdXJsIiB8IHN1ZG8gYmFzaCAtID4gL2Rldi9udWxsCiAgZmk7Cn0KZnVuY3Rpb24gZ2V0VW5peERpc3RybygpIHsKICBpZiBbIC16ICIkVU5JWF9ESVNUUk8iIF0gfHwgWyAteiAiJFVOSVhfRElTVFJPX1ZFUlNJT05fTlVNQkVSX01BSk9SIiBdOyB0aGVuCiAgICBzb3VyY2UgPChjdXJsIC1zTCBodHRwczovL21vbmRlamEuZ2l0aHViLmlvL3NocmVhZC91bml4L18vdXRpbC9nZXQtZGlzdHJvL2VuLnNoKQogIGZpOwp9CmZ1bmN0aW9uIGluc3RhbGxNYWluUHl0aG9uM0FwdFBhY2thZ2UgewogIHByaW50SW5kZW50CiAgUFkzX0JJTkFSWV9GSUxFUEFUSD0iJChjb21tYW5kIC12IHB5dGhvbjMpIgogIGlmIFsgIiRQWTNfQklOQVJZX0ZJTEVQQVRIIiA9ICIiIF07IHRoZW4KICAgIF9QWVRIT05fU1RBQkxFX1BBQ0tBR0VfVkVSU0lPTj0kKAogICAgICBwYWNtYW4gLVFpIHB5dGhvbjMtZGV2IHwgZ3JlcCBWZXJzaW9uOiB8IGN1dCAtZCcgJyAtZjIpCiAgICBwcmludGYgIiAgJXMiICIkX01TR19JTlNUQUxMSU5HX0JBU0VfUEFDS0FHRSIKICAgIGlmIFsgIiRfUFlUSE9OX1NUQUJMRV9QQUNLQUdFX1ZFUlNJT04iICE9ICIiIF07IHRoZW4KICAJICBwcmludGYgIiAodiVzKSIgIiRfUFlUSE9OX1NUQUJMRV9QQUNLQUdFX1ZFUlNJT04iCiAgICBmaTsKICAgIHByaW50ZiAiLi4uIgogICAgc3VkbyBwYWNtYW4gLVMgLS0gLXkgcHl0aG9uMy1kZXYgPiAvZGV2L251bGwgfHwgZXhpdCAkPwogICAgX1BZVEhPTl9WRVJTSU9OPSIkKCIkUFkzX0JJTkFSWV9GSUxFUEFUSCIgLS12ZXJzaW9uIHwgY3V0IC1jNy0xMiB8IHRyIC1kICcgJykiCiAgZWxzZQogICAgX1BZVEhPTl9WRVJTSU9OPSIkKCIkUFkzX0JJTkFSWV9GSUxFUEFUSCIgLS12ZXJzaW9uIHwgY3V0IC1jNy0xMiB8IHRyIC1kICcgJykiCiAgCXByaW50ZiAiICAlcyAodiVzKSIgIiRfTVNHX0ZPVU5EX1BZM19JTlNUQUxMRUQiICIkX1BZVEhPTl9WRVJTSU9OIgogIGZpOwogIHByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgp9CmZ1bmN0aW9uIGRpc2NvdmVySW5zdGFsbGF0aW9uQXB0UGFja2FnZXMgewogIElOU1RBTExBVElPTl9QQUNLQUdFUz0oCiAgICAicHl0aG9uMy1kZXYiCiAgICAicHl0aG9uMy1waXAiCiAgICAicHl0aG9uMy1zZXR1cHRvb2xzIgogICAgInB5dGhvbjMtdGVzdHJlc291cmNlcyIKICAgICJsaWJ4bWwyLXV0aWxzIgogICAgInB5dGhvbi1seG1sIgogICAgInB5dGhvbjMtbHhtbCIKICAgICJweXRob24tbnVtcHkiCiAgICAicHl0aG9uMy1udW1weSIKICApCiAgaWYgWyAiJFVOSVhfRElTVFJPIiA9ICJ1YnVudHUiIF07IHRoZW4KICAgIGlmIFsgIiRVTklYX0RJU1RST19WRVJTSU9OX05VTUJFUl9NQUpPUiIgLWdlIDE4IF07IHRoZW4KICAgICAgSU5TVEFMTEFUSU9OX1BBQ0tBR0VTKz0oCiAgICAgICAgInB5dGhvbjMtZGlzdHV0aWxzIgogICAgICApCiAgICBmaTsKICAgIGlmIFsgIiRVTklYX0RJU1RST19WRVJTSU9OX05VTUJFUl9NQUpPUiIgLWx0IDIwIF07IHRoZW4KICAgICAgSU5TVEFMTEFUSU9OX1BBQ0tBR0VTKz0oCiAgICAgICAgInB5dGhvbi1waXAiCiAgICAgICAgInB5dGhvbi1kZXYiCiAgICAgICkKICAgIGVsc2UKICAgICAgSU5TVEFMTEFUSU9OX1BBQ0tBR0VTKz0oCiAgICAgICAgInB5dGhvbi1kZXYtaXMtcHl0aG9uMiIKICAgICAgKQogICAgZmk7CiAgZmk7Cn0KZnVuY3Rpb24gaW5zdGFsbFB5dGhvbkFkZGl0aW9uYWxBcHRQYWNrYWdlcyB7CiAgcHJpbnRJbmRlbnQKICBwcmludGYgIiAgJXNcbiIgIiRfTVNHX0NIRUNLSU5HX0FERElUSU9OQUxfUFkzX1BBQ0tBR0VTIgogIGZvciBERVAgaW4gIiR7SU5TVEFMTEFUSU9OX1BBQ0tBR0VTW0BdfSI7IGRvCiAgICBpZiBbIC1uICIkX1NLSVBfQVBUX1BBQ0tBR0VTIiBdOyB0aGVuCiAgICAgIGlmIFsgLW4gIiQoZWNobyAiJF9TS0lQX0FQVF9QQUNLQUdFUyIgfCBncmVwIC1vICIkREVQIikiIF07IHRoZW4KICAgICAgICBjb250aW51ZQogICAgICBmaTsKICAgIGZpOwogICAgcHJpbnRJbmRlbnQKICAgIHByaW50ZiAiICAgICVzIiAiJERFUCIKICAgIGlmIFtbICIkKHN1ZG8gcGFjbWFuIC1RaSAiJERFUCIgMj4gL2Rldi9udWxsIHwgZ3JlcCBTdGF0dXMpIiAhPSAiU3RhdHVzOiBpbnN0YWxsIG9rIGluc3RhbGxlZCIgXV07IHRoZW4KICAgICAgc3VkbyBwYWNtYW4gLVMgLS0gLXkgIiRERVAiID4gL2Rldi9udWxsIHx8IGV4aXQgJD8KICAgIGZpOwogICAgX0RFUF9WRVJTSU9OPSQoYXB0LWNhY2hlIHBvbGljeSAiJERFUCIgfCBncmVwIC1QbyAiKFxkK1wuKStcZCsiIHwgaGVhZCAtbiAxKQogICAgaWYgWyAiJF9ERVBfVkVSU0lPTiIgIT0gIiIgXTsgdGhlbgogICAgICBwcmludGYgIiAodiVzKSIgIiRfREVQX1ZFUlNJT04iCiAgICBmaTsKICAgIHByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgogIGRvbmUKfQpmdW5jdGlvbiBjb25maWd1cmVQSVAgewogIFVTRVJfSE9NRT0iJChnZXRlbnQgcGFzc3dkICIkU1VET19VU0VSIiB8IGN1dCAtZDogLWY2KSIKICBpZiBbIC1kICIkSE9NRS8uY2FjaGUvcGlwLyIgXTsgdGhlbgogICAgX1BJUF9DQUNIRV9GSUxFUEFUSD0iJFVTRVJfSE9NRS8uY2FjaGUvcGlwLyIKICAgIGlmIFsgLWYgIiRfUElQX0NBQ0hFX0ZJTEVQQVRIIiBdOyB0aGVuCiAgICAgIHN1ZG8gY2hvd24gLVIgIiRTVURPX1VTRVIiICIkX1BJUF9DQUNIRV9GSUxFUEFUSCIKICAgIGZpOwogIGZpOwogIGlmIFsgIiQoY29tbWFuZCAtdiBweXRob24yKSIgIT0gIiIgXTsgdGhlbgogICAgc3VkbyBweXRob24yIC1tIHBpcCBpbnN0YWxsIC1xcSBwaXA9PTIwLjAuMgogIGZpOwp9CmZ1bmN0aW9uIHVwZ3JhZGVHbG9iYWxMaWJyYXJpZXMgewogIGlmIFsgJF9VUEdSQURFX1BZM19HTE9CQUxfTElCUyAtZXEgMSBdOyB0aGVuCiAgICBwcmludEluZGVudAogICAgcHJpbnRmICIgICVzXG4iICIkX01TR19VUERBVElOR19HTE9CQUxfUFkzX0xJQlJBUklFUyIKICAgIEdMT0JBTF9SRUNPTU1FTkRFRF9MSUJSQVJJRVM9KAogICAgICAicGlwIgogICAgICAidmlydHVhbGVudiIKICAgICAgInNldHVwdG9vbHMiCiAgICAgICJ0ZXN0cmVzb3VyY2VzIgogICAgKQogICAgZm9yIExJQiBpbiAiJHtHTE9CQUxfUkVDT01NRU5ERURfTElCUkFSSUVTW0BdfSI7IGRvCiAgICAgIGlmIFsgLW4gIiRfU0tJUF9QWV9QQUNLQUdFUyIgXTsgdGhlbgogICAgICAgIGlmIFsgLW4gIiQoZWNobyAiJF9TS0lQX1BZX1BBQ0tBR0VTIiB8IGdyZXAgLW8gIiRMSUIiKSIgXTsgdGhlbgogICAgICAgICAgY29udGludWUKICAgICAgICBmaTsKICAgICAgZmk7CiAgICAgIHByaW50SW5kZW50CiAgICAgIHByaW50ZiAiICAgICVzIiAiJExJQiIKICAgICAgX0dFVF9WRVJTSU9OX0VYRUNfU1RSPSIKaW1wb3J0IHN5czsKdHJ5OiBpbXBvcnQgJExJQiBhcyBsOwpleGNlcHQgSW1wb3J0RXJyb3IgYXMgZXJyOiBzeXMuZXhpdCg3NzcpOwpwcmludChsLl9fdmVyc2lvbl9fIGlmIGlzaW5zdGFuY2UobC5fX3ZlcnNpb25fXywgc3RyKSBlbHNlICAgJy4nLmpvaW4oW3N0cih2KSBmb3IgdiBpbiBsLl9fdmVyc2lvbl9fXVs6M10pLCBlbmQ9JycpOwogICIKICAgICAgX0xJQl9MT0NBTF9WRVJTSU9OPSIkKCIkUFkzX0JJTkFSWV9GSUxFUEFUSCIgLWMgIiRfR0VUX1ZFUlNJT05fRVhFQ19TVFIiKSIKICAgICAgX0xJQl9MT0NBTF9WRVJTSU9OX0VYSVRfQ09ERT0kPwogICAgICBpZiBbICRfTElCX0xPQ0FMX1ZFUlNJT05fRVhJVF9DT0RFIC1lcSA3NzcgXTsgdGhlbgogICAgICAJc3VkbyAtSCAiJFBZM19CSU5BUllfRklMRVBBVEgiIC1tIHBpcCBpbnN0YWxsIC1VIC0tcXVpZXQgIiRMSUIiCiAgICAgIGVsc2UKICAgICAgICBwcmludGYgIiAoIgogICAgICAgIGlmIFsgIiRfTElCX0xPQ0FMX1ZFUlNJT04iICE9ICIiIF07IHRoZW4KICAgICAgICAgIHByaW50ZiAidiVzIiAiJF9MSUJfTE9DQUxfVkVSU0lPTiIKICAgICAgICBmaTsKICAgICAgICBfTElCX0xBU1RfUFlQSV9WRVJTSU9OPSQoCiAgICAgICAgICB4bWxsaW50IC0taHRtbCAtLXhwYXRoICIvL2FbbGFzdCgpXS90ZXh0KCkgIiAgICAgICAgICAgICA8KGN1cmwgLXNMICJodHRwczovL3B5cGkub3JnL3NpbXBsZS8kTElCLyIpIHwgICAgICAgICAgICAgZ3JlcCAtUG8gIihcZCtcLikrXGQrXHcqIikKICAgICAgICAgIGlmIFsgIiRfTElCX0xBU1RfUFlQSV9WRVJTSU9OIiAhPSAiJF9MSUJfTE9DQUxfVkVSU0lPTiIgXTsgdGhlbgogICAgICAgICAgICBpZiBbICIkX0xJQl9MT0NBTF9WRVJTSU9OIiAhPSAiIiBdOyB0aGVuCiAgICAgICAgICAgICAgcHJpbnRmICIgLT4gIgogICAgICAgICAgICBmaTsKICAgICAgICAgICAgcHJpbnRmICJ2JXMpLi4uIiAiJF9MSUJfTEFTVF9QWVBJX1ZFUlNJT04iCiAgICAgICAgICAgIF9saWJfZXF1YWxfdmVyc2lvbj0iJExJQj09JF9MSUJfTEFTVF9QWVBJX1ZFUlNJT04iCiAgICAgICAgICAgIHN1ZG8gLUggIiRQWTNfQklOQVJZX0ZJTEVQQVRIIiAtbSBwaXAgaW5zdGFsbCAtVSAtcXEgIiRfbGliX2VxdWFsX3ZlcnNpb24iCiAgICAgICAgICBlbHNlCiAgICAgICAgICAgIHByaW50ZiAiKSIKICAgICAgICAgIGZpOwogICAgICBmaTsKICAgICAgcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCiAgICBkb25lCiAgZmk7Cn0KZnVuY3Rpb24gbWFpbiB7CiAgaW5zdGFsbFBhY21hbklmTm90SW5zdGFsbGVkCiAgZ2V0VW5peERpc3RybwogIHByaW50SW5kZW50CiAgcHJpbnRmICIlc1xuIiAiJF9NU0dfU0VUVElOR19VUF9QWTNfRUNPU1lTVEVNIgogIGluc3RhbGxNYWluUHl0aG9uM0FwdFBhY2thZ2UKICBkaXNjb3Zlckluc3RhbGxhdGlvbkFwdFBhY2thZ2VzCiAgaW5zdGFsbFB5dGhvbkFkZGl0aW9uYWxBcHRQYWNrYWdlcwogIGNvbmZpZ3VyZVBJUAogIHVwZ3JhZGVHbG9iYWxMaWJyYXJpZXMKfQppZiAocmV0dXJuIDAgMj4vZGV2L251bGwpOyB0aGVuCiAgZXhwb3J0VmFyaWFibGVzCmVsc2UKICBtYWluCmZpOw=='
if (return 0 2>/dev/null); then
  source <(printf "%s" "$H" | base64 -d)
else
  echo "$(echo "$H" | base64 -d)" | bash -s -- "$@"
fi;
