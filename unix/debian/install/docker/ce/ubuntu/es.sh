#!/bin/bash
H='IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfU0NSSVBUX0ZJTEVOQU1FPWVzLnNoCiMhL2Jpbi9iYXNoCl9NU0dfQ0hFQ0tJTkdfRE9DS0VSX0NFPSJDb21wcm9iYW5kbyBEb2NrZXIgQ29tbXVuaXR5IEVkaXRpb24uLi4iCl9NU0dfU0VUVElOR19VUF9QVUJMSUNfS0VZPSJDb25maWd1cmFuZG8gbGEgY2xhdmUgcMO6YmxpY2EuLi4iCl9NU0dfRVJST1JfUkVUUklFVklOR19QVUJMSUNfRE9DS0VSX1JFUE9TX0tFWT0iT2N1cnJpw7MgdW4gZXJyb3Igb2J0ZW5pZW5kbyBsYSBjbGF2ZSBkZSBsb3MgcmVwb3NpdG9yaW9zIGRlIERvY2tlciIKX01TR19DT05GSUdVUkVEX1BVQkxJQ19LRVlfRk9VTkQ9IkVuY29udHJhZGEgbGEgY2xhdmUgcMO6YmxpY2EgY29uZmlndXJhZGEiCl9NU0dfQURESU5HX0RPQ0tFUl9SRVBPPSJBw7FhZGllbmRvIHJlcG9zaXRvcmlvIGRlIERvY2tlci4uLiIKX01TR19ET0NLRVJfUkVQT19GT1VORD0iRW5jb250cmFkbyByZXBvc2l0b3JpbyBkZSBEb2NrZXIgY29uZmlndXJhZG8iCl9NU0dfQ0hFQ0tJTkdfRE9DS0VSX0NFX1BBQ0tBR0VTPSJDb21wcm9iYW5kbyBwYXF1ZXRlcyBkZSBEb2NrZXIgQ0UuLi4iCklOREVOVF9TVFJJTkc9IiIKZnVuY3Rpb24gdXNhZ2UgewogICAgY2F0IDw8SEVMUF9VU0FHRQpVc2FnZTogdW5peC9kZWJpYW4vaW5zdGFsbC9kb2NrZXIvY2UvdWJ1bnR1LyRfU0NSSVBUX0ZJTEVOQU1FIFstaF0gWy1pIFNUUklOR10gCgogIEluc3RhbGxzIERvY2tlciBDb21tdW5pdHkgRWRpdGlvbiBwYWNrYWdlcyBmcm9tIG9maWNpYWwgcmVwb3NpdG9yaWVzIGFzIHNvdXJjZS4KCk9wdGlvbnM6CiAgLWgsIC0taGVscCAgICAgICAgICAgICAgICAgICAgICAgIFNob3cgdGhpcyBoZWxwIG1lc3NhZ2UgYW5kIGV4aXQuCiAgLWkgU1RSSU5HLCAtLWluZGVudCBTVFJJTkcgICAgICAgIEVhY2ggbGluZSBvZiB0aGUgc2NyaXB0IG91dHB1dCB3aWxsIGJlIHByZWNlZGVkIHdpdGggdGhlIHN0cmluZyBkZWZpbmVkIGluIHRoaXMgcGFyYW1ldGVyLgpIRUxQX1VTQUdFCiAgICBleGl0IDEKfQpmb3IgYXJnIGluICIkQCI7IGRvCiAgY2FzZSAkYXJnIGluCiAgICAtaXwtLWluZGVudCkKICAgIHNoaWZ0CiAgICBJTkRFTlRfU1RSSU5HPSIkMSIKICAgIHNoaWZ0CiAgICA7OwogICAgLWh8LS1oZWxwKQogICAgc2hpZnQKICAgIHVzYWdlCiAgICA7OyAgICAgICAgKikKICAgIHNoaWZ0CiAgICB1c2FnZQogICAgOzsKICBlc2FjCmRvbmUKZnVuY3Rpb24gcHJpbnRJbmRlbnQoKSB7CiAgcHJpbnRmICIlcyIgIiRJTkRFTlRfU1RSSU5HIgp9CmZ1bmN0aW9uIGluc3RhbGxQYWNtYW5JZk5vdEluc3RhbGxlZCgpIHsKICBpZiBbICIkKGNvbW1hbmQgLXYgcGFjbWFuKSIgPSAiIiBdOyB0aGVuCiAgICB1cmw9Imh0dHBzOi8vbW9uZGVqYS5naXRodWIuaW8vc2hyZWFkL3VuaXgvXy9kb3dubG9hZC9wYWNhcHQvJF9TQ1JJUFRfRklMRU5BTUUiCiAgICBjdXJsIC1zTCAiJHVybCIgfCBzdWRvIGJhc2ggLSA+IC9kZXYvbnVsbAogIGZpOwp9CmZ1bmN0aW9uIGdldFJlcG9zUHVibGljS2V5KCkgewogIHByaW50SW5kZW50CiAgX0FQVF9LRVlfRk9VTkQ9JChhcHQta2V5IGxpc3QgfCBncmVwICJEb2NrZXIgUmVsZWFzZSIpCiAgaWYgWyAiJF9BUFRfS0VZX0ZPVU5EIiA9ICIiIF07IHRoZW4KICAgIHByaW50ZiAiICAlcyIgIiRfTVNHX1NFVFRJTkdfVVBfUFVCTElDX0tFWSIKICAgIF9HRVRfUFVCTElDX0dQR19LRVlfU1RERVJSPSQoCiAgICAgIGN1cmwgLWZzU0wgaHR0cHM6Ly9kb3dubG9hZC5kb2NrZXIuY29tL2xpbnV4L3VidW50dS9ncGcgfCAgICAgICBzdWRvIGFwdC1rZXkgYWRkIC0gMj4mMSA+IC9kZXYvbnVsbCkKICAgIF9HRVRfUFVCTElDX0dQR19LRVlfRVhJVF9DT0RFPSQ/CiAgICBpZiBbICRfR0VUX1BVQkxJQ19HUEdfS0VZX0VYSVRfQ09ERSAtbmUgMCBdOyB0aGVuCiAgICAgIHByaW50ZiAiXGVbOTFtXHhFMlx4OUNceDk1XGVbMzltXG4iID4mMgogICAgICBwcmludGYgIlxuJXMiICIkX01TR19FUlJPUl9SRVRSSUVWSU5HX1BVQkxJQ19ET0NLRVJfUkVQT1NfS0VZIiA+JjIKICAgICAgcHJpbnRmICIgKGh0dHBzOi8vZG93bmxvYWQuZG9ja2VyLmNvbS9saW51eC91YnVudHUvZ3BnKTpcbiIgPiYyCiAgICAgIHByaW50ZiAiJXNcbiIgIiRfR0VUX1BVQkxJQ19HUEdfS0VZX1NUREVSUiIgPiYyCiAgICAgIGV4aXQgJF9HRVRfUFVCTElDX0dQR19LRVlfRVhJVF9DT0RFCiAgICBmaTsKICAgIHN1ZG8gYXB0LWtleSBmaW5nZXJwcmludCAwRUJGQ0Q4OAogICAgcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCiAgZWxzZQogICAgcHJpbnRmICIgICVzIiAiJF9NU0dfQ09ORklHVVJFRF9QVUJMSUNfS0VZX0ZPVU5EIgogICAgcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCiAgZmk7Cn0KVUJVTlRVX1JFTEVBU0U9IiIKZnVuY3Rpb24gZ2V0VWJ1bnR1UmVsZWFzZSgpIHsKICBVQlVOVFVfUkVMRUFTRT0iJChsc2JfcmVsZWFzZSAtY3MpIgp9CkFSQ0g9ImFtZDY0IgpmdW5jdGlvbiBnZXRTeXN0ZW1BcmNoKCkgewogIGNhc2UgJCh1bmFtZSAtbSkgaW4KICAgICAgaTM4NikgICBBUkNIPSIzODYiIDs7CiAgICAgIGk2ODYpICAgQVJDSD0iMzg2IiA7OwogICAgICB4ODZfNjQpIEFSQ0g9ImFtZDY0IiA7OwogICAgICBhcm0pICAgIGRwa2cgLS1wcmludC1hcmNoaXRlY3R1cmUgfCBncmVwIC1xICJhcm02NCIgJiYgQVJDSD0iYXJtNjQiIHx8IEFSQ0g9ImFybSIgOzsKICBlc2FjCn0KZnVuY3Rpb24gYWRkQXB0RG9ja2VyUmVwb3NpdG9yeSgpIHsKICBfQVBUX1JFUE89ImRlYiBbYXJjaD0kQVJDSF0gaHR0cHM6Ly9kb3dubG9hZC5kb2NrZXIuY29tL2xpbnV4L3VidW50dSAkVUJVTlRVX1JFTEVBU0Ugc3RhYmxlIgogIF9SRVBPX0ZPVU5EX09OX1NPVVJDRVM9JCgKICAgIGZpbmQgL2V0Yy9hcHQvIC1uYW1lICIqLmxpc3QiIC1wcmludDAgfCAgICAgeGFyZ3MgLTAgY2F0IHwgICAgIGdyZXAgJ15bWzpzcGFjZTpdXSpkZWInIHwgICAgIGdyZXAgImh0dHBzOi8vZG93bmxvYWQuZG9ja2VyLmNvbS9saW51eC91YnVudHUiKQogIHByaW50SW5kZW50CiAgaWYgWyAiJF9SRVBPX0ZPVU5EX09OX1NPVVJDRVMiID0gIiIgXTsgdGhlbgogICAgcHJpbnRmICIgICVzIiAiJF9NU0dfQURESU5HX0RPQ0tFUl9SRVBPIgogICAgc3VkbyBhZGQtYXB0LXJlcG9zaXRvcnkgIiRfQVBUX1JFUE8iID4gL2Rldi9udWxsCiAgICBzdWRvIHBhY21hbiB1cGRhdGUgPiAvZGV2L251bGwKICBlbHNlCiAgICBwcmludGYgIiAgJXMiICIkX01TR19ET0NLRVJfUkVQT19GT1VORCIKICBmaTsKICBwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKfQpmdW5jdGlvbiBpbnN0YWxsRG9ja2VyUGFja2FnZXMoKSB7CiAgSU5TVEFMTEFUSU9OX1BBQ0tBR0VTPSgKICAgICJkb2NrZXItY2UiCiAgICAiZG9ja2VyLWNlLWNsaSIKICAgICJjb250YWluZXJkLmlvIgogICkKICBwcmludEluZGVudAogIHByaW50ZiAiICAlc1xuIiAiJF9NU0dfQ0hFQ0tJTkdfRE9DS0VSX0NFX1BBQ0tBR0VTIgogIGZvciBERVAgaW4gIiR7SU5TVEFMTEFUSU9OX1BBQ0tBR0VTW0BdfSI7IGRvCiAgICBwcmludEluZGVudAogICAgcHJpbnRmICIgICAgJXMiICIkREVQIgogICAgaWYgW1sgIiQoc3VkbyBwYWNtYW4gLVFpICIkREVQIiAyPiAvZGV2L251bGwgfCBncmVwIFN0YXR1cykiICE9ICJTdGF0dXM6IGluc3RhbGwgb2sgaW5zdGFsbGVkIiBdXTsgdGhlbgogICAgICBzdWRvIHBhY21hbiAtUyAtLSAteSAiJERFUCIgPiAvZGV2L251bGwgfHwgZXhpdCAkPwogICAgZmk7CiAgICBwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKICBkb25lCn0KZnVuY3Rpb24gbWFpbigpIHsKICBleHBvcnQgQVBUX0tFWV9ET05UX1dBUk5fT05fREFOR0VST1VTX1VTQUdFPURvbnRXYXJuCiAgc3VkbyBwcmludGYgIiIKICBwcmludEluZGVudAogIHByaW50ZiAiJXNcbiIgIiRfTVNHX0NIRUNLSU5HX0RPQ0tFUl9DRSIKICBnZXRSZXBvc1B1YmxpY0tleQogIGdldFVidW50dVJlbGVhc2UKICBnZXRTeXN0ZW1BcmNoCiAgYWRkQXB0RG9ja2VyUmVwb3NpdG9yeQogIHN1ZG8gY2htb2QgNzc3IC92YXIvcnVuL2RvY2tlci5zb2NrCiAgdW5zZXQgQVBUX0tFWV9ET05UX1dBUk5fT05fREFOR0VST1VTX1VTQUdFCn0KaWYgKHJldHVybiAwIDI+L2Rldi9udWxsKTsgdGhlbgogIGV4cG9ydFZhcmlhYmxlcwplbHNlCiAgbWFpbgpmaTs='
if (return 0 2>/dev/null); then
  source <(printf "%s" "$H" | base64 -d)
else
  echo "$(echo "$H" | base64 -d)" | bash -s -- "$@"
fi;
