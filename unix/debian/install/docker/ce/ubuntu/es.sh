#!/bin/bash
H='IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfU0NSSVBUX0ZJTEVOQU1FPWVzLnNoCiMhL2Jpbi9iYXNoCl9NU0dfQ0hFQ0tJTkdfRE9DS0VSX0NFPSIiCl9NU0dfU0VUVElOR19VUF9QVUJMSUNfS0VZPSIiCl9NU0dfRVJST1JfUkVUUklFVklOR19QVUJMSUNfRE9DS0VSX1JFUE9TX0tFWT0iIgpfTVNHX0NPTkZJR1VSRURfUFVCTElDX0tFWV9GT1VORD0iIgpfTVNHX0FERElOR19ET0NLRVJfUkVQTz0iIgpfTVNHX0RPQ0tFUl9SRVBPX0ZPVU5EPSIiCl9NU0dfQ0hFQ0tJTkdfRE9DS0VSX0NFX1BBQ0tBR0VTPSIiCklOREVOVF9TVFJJTkc9IiIKZnVuY3Rpb24gdXNhZ2UgewogICAgY2F0IDw8SEVMUF9VU0FHRQpVc286IHVuaXgvZGViaWFuL2luc3RhbGwvZG9ja2VyL2NlL3VidW50dS8kX1NDUklQVF9GSUxFTkFNRSBbLWhdIFstaSBTVFJJTkddIAoKICBJbnN0YWxscyBEb2NrZXIgQ29tbXVuaXR5IEVkaXRpb24gcGFja2FnZXMgZnJvbSBvZmljaWFsIHJlcG9zaXRvcmllcyBhcyBzb3VyY2UuCgpPcGNpb25lczoKICAtaCwgLS1oZWxwICAgICAgICAgICAgICAgICAgICAgICAgU2hvdyB0aGlzIGhlbHAgbWVzc2FnZSBhbmQgZXhpdC4KICAtaSBTVFJJTkcsIC0taW5kZW50IFNUUklORyAgICAgICAgRWFjaCBsaW5lIG9mIHRoZSBzY3JpcHQgb3V0cHV0IHdpbGwgYmUgcHJlY2VkZWQgd2l0aCB0aGUgc3RyaW5nIGRlZmluZWQgaW4gdGhpcyBwYXJhbWV0ZXIuCkhFTFBfVVNBR0UKICAgIGV4aXQgMQp9CmZvciBhcmcgaW4gIiRAIjsgZG8KICBjYXNlICRhcmcgaW4KICAgIC1pfC0taW5kZW50KQogICAgSU5ERU5UX1NUUklORz0iJDIiCiAgICBzaGlmdCAyCiAgICA7OwogICAgLWh8LS1oZWxwKQogICAgc2hpZnQKICAgIHVzYWdlCiAgICA7OyAgICAgIGVzYWMKZG9uZQpmdW5jdGlvbiBwcmludEluZGVudCgpIHsKICBwcmludGYgIiVzIiAiJElOREVOVF9TVFJJTkciCn0KZnVuY3Rpb24gaW5zdGFsbFBhY21hbklmTm90SW5zdGFsbGVkKCkgewogIGlmIFsgIiQoY29tbWFuZCAtdiBwYWNtYW4pIiA9ICIiIF07IHRoZW4KICAgIHVybD0iaHR0cHM6Ly9tb25kZWphLmdpdGh1Yi5pby9zaHJlYWQvdW5peC9fL2Rvd25sb2FkL3BhY2FwdC8kX1NDUklQVF9GSUxFTkFNRSIKICAgIGN1cmwgLXNMICIkdXJsIiB8IHN1ZG8gYmFzaCAtID4gL2Rldi9udWxsCiAgZmk7Cn0KZnVuY3Rpb24gZ2V0UmVwb3NQdWJsaWNLZXkoKSB7CiAgcHJpbnRJbmRlbnQKICBfQVBUX0tFWV9GT1VORD0kKGFwdC1rZXkgbGlzdCB8IGdyZXAgIkRvY2tlciBSZWxlYXNlIikKICBpZiBbICIkX0FQVF9LRVlfRk9VTkQiID0gIiIgXTsgdGhlbgogICAgcHJpbnRmICIgICVzIiAiJF9NU0dfU0VUVElOR19VUF9QVUJMSUNfS0VZIgogICAgX0dFVF9QVUJMSUNfR1BHX0tFWV9TVERFUlI9JCgKICAgICAgY3VybCAtZnNTTCBodHRwczovL2Rvd25sb2FkLmRvY2tlci5jb20vbGludXgvdWJ1bnR1L2dwZyB8ICAgICAgIHN1ZG8gYXB0LWtleSBhZGQgLSAyPiYxID4gL2Rldi9udWxsKQogICAgX0dFVF9QVUJMSUNfR1BHX0tFWV9FWElUX0NPREU9JD8KICAgIGlmIFsgJF9HRVRfUFVCTElDX0dQR19LRVlfRVhJVF9DT0RFIC1uZSAwIF07IHRoZW4KICAgICAgcHJpbnRmICJcZVs5MW1ceEUyXHg5Q1x4OTVcZVszOW1cbiIgPiYyCiAgICAgIHByaW50ZiAiXG4lcyIgIiRfTVNHX0VSUk9SX1JFVFJJRVZJTkdfUFVCTElDX0RPQ0tFUl9SRVBPU19LRVkiID4mMgogICAgICBwcmludGYgIiAoaHR0cHM6Ly9kb3dubG9hZC5kb2NrZXIuY29tL2xpbnV4L3VidW50dS9ncGcpOlxuIiA+JjIKICAgICAgcHJpbnRmICIlc1xuIiAiJF9HRVRfUFVCTElDX0dQR19LRVlfU1RERVJSIiA+JjIKICAgICAgZXhpdCAkX0dFVF9QVUJMSUNfR1BHX0tFWV9FWElUX0NPREUKICAgIGZpOwogICAgc3VkbyBhcHQta2V5IGZpbmdlcnByaW50IDBFQkZDRDg4CiAgICBwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKICBlbHNlCiAgICBwcmludGYgIiAgJXMiICIkX01TR19DT05GSUdVUkVEX1BVQkxJQ19LRVlfRk9VTkQiCiAgICBwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKICBmaTsKfQpVQlVOVFVfUkVMRUFTRT0iIgpmdW5jdGlvbiBnZXRVYnVudHVSZWxlYXNlKCkgewogIFVCVU5UVV9SRUxFQVNFPSIkKGxzYl9yZWxlYXNlIC1jcykiCn0KQVJDSD0iYW1kNjQiCmZ1bmN0aW9uIGdldFN5c3RlbUFyY2goKSB7CiAgY2FzZSAkKHVuYW1lIC1tKSBpbgogICAgICBpMzg2KSAgIEFSQ0g9IjM4NiIgOzsKICAgICAgaTY4NikgICBBUkNIPSIzODYiIDs7CiAgICAgIHg4Nl82NCkgQVJDSD0iYW1kNjQiIDs7CiAgICAgIGFybSkgICAgZHBrZyAtLXByaW50LWFyY2hpdGVjdHVyZSB8IGdyZXAgLXEgImFybTY0IiAmJiBBUkNIPSJhcm02NCIgfHwgQVJDSD0iYXJtIiA7OwogIGVzYWMKfQpmdW5jdGlvbiBhZGRBcHREb2NrZXJSZXBvc2l0b3J5KCkgewogIF9BUFRfUkVQTz0iZGViIFthcmNoPSRBUkNIXSBodHRwczovL2Rvd25sb2FkLmRvY2tlci5jb20vbGludXgvdWJ1bnR1ICRVQlVOVFVfUkVMRUFTRSBzdGFibGUiCiAgX1JFUE9fRk9VTkRfT05fU09VUkNFUz0kKAogICAgZmluZCAvZXRjL2FwdC8gLW5hbWUgIioubGlzdCIgLXByaW50MCB8ICAgICB4YXJncyAtMCBjYXQgfCAgICAgZ3JlcCAnXltbOnNwYWNlOl1dKmRlYicgfCAgICAgZ3JlcCAiaHR0cHM6Ly9kb3dubG9hZC5kb2NrZXIuY29tL2xpbnV4L3VidW50dSIpCiAgcHJpbnRJbmRlbnQKICBpZiBbICIkX1JFUE9fRk9VTkRfT05fU09VUkNFUyIgPSAiIiBdOyB0aGVuCiAgICBwcmludGYgIiAgJXMiICIkX01TR19BRERJTkdfRE9DS0VSX1JFUE8iCiAgICBzdWRvIGFkZC1hcHQtcmVwb3NpdG9yeSAiJF9BUFRfUkVQTyIgPiAvZGV2L251bGwKICAgIHN1ZG8gcGFjbWFuIHVwZGF0ZSA+IC9kZXYvbnVsbAogIGVsc2UKICAgIHByaW50ZiAiICAlcyIgIiRfTVNHX0RPQ0tFUl9SRVBPX0ZPVU5EIgogIGZpOwogIHByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgp9CmZ1bmN0aW9uIGluc3RhbGxEb2NrZXJQYWNrYWdlcygpIHsKICBJTlNUQUxMQVRJT05fUEFDS0FHRVM9KAogICAgImRvY2tlci1jZSIKICAgICJkb2NrZXItY2UtY2xpIgogICAgImNvbnRhaW5lcmQuaW8iCiAgKQogIHByaW50SW5kZW50CiAgcHJpbnRmICIgICVzXG4iICIkX01TR19DSEVDS0lOR19ET0NLRVJfQ0VfUEFDS0FHRVMiCiAgZm9yIERFUCBpbiAiJHtJTlNUQUxMQVRJT05fUEFDS0FHRVNbQF19IjsgZG8KICAgIHByaW50SW5kZW50CiAgICBwcmludGYgIiAgICAlcyIgIiRERVAiCiAgICBpZiBbWyAiJChzdWRvIHBhY21hbiAtUWkgIiRERVAiIDI+IC9kZXYvbnVsbCB8IGdyZXAgU3RhdHVzKSIgIT0gIlN0YXR1czogaW5zdGFsbCBvayBpbnN0YWxsZWQiIF1dOyB0aGVuCiAgICAgIHN1ZG8gcGFjbWFuIC1TIC0tIC15ICIkREVQIiA+IC9kZXYvbnVsbCB8fCBleGl0ICQ/CiAgICBmaTsKICAgIHByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgogIGRvbmUKfQpmdW5jdGlvbiBtYWluKCkgewogIGV4cG9ydCBBUFRfS0VZX0RPTlRfV0FSTl9PTl9EQU5HRVJPVVNfVVNBR0U9RG9udFdhcm4KICBzdWRvIHByaW50ZiAiIgogIHByaW50SW5kZW50CiAgcHJpbnRmICIlc1xuIiAiJF9NU0dfQ0hFQ0tJTkdfRE9DS0VSX0NFIgogIGdldFJlcG9zUHVibGljS2V5CiAgZ2V0VWJ1bnR1UmVsZWFzZQogIGdldFN5c3RlbUFyY2gKICBhZGRBcHREb2NrZXJSZXBvc2l0b3J5CiAgc3VkbyBjaG1vZCA3NzcgL3Zhci9ydW4vZG9ja2VyLnNvY2sKICB1bnNldCBBUFRfS0VZX0RPTlRfV0FSTl9PTl9EQU5HRVJPVVNfVVNBR0UKfQppZiAocmV0dXJuIDAgMj4vZGV2L251bGwpOyB0aGVuCiAgZXhwb3J0VmFyaWFibGVzCmVsc2UKICBtYWluCmZpOw=='
if (return 0 2>/dev/null); then
  source <(printf "%s" "$H" | base64 -d)
else
  echo "$(echo "$H" | base64 -d)" | bash -s -- "$@"
fi;
