#!/bin/bash
H='IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfU0NSSVBUX0ZJTEVOQU1FPWVzLnNoCiMhL2Jpbi9iYXNoCl9NU0dfU0VUVElOR19VUF9OT0RFSlNfRUNPU1lTVEVNPSJDb25maWd1cmFuZG8gZWNvc2lzdGVtYSBOb2RlSlMuLi4iCl9NU0dfQ0hFQ0tJTkdfQkFTRV9ERVBTPSJDb21wcm9iYW5kbyBkZXBlbmRlbmNpYXMgYmFzZS4uLiIKX01TR19SRVRSSUVWSU5HX0xBU1RfTk9ERUpTX0FCU09MVVRFX1ZFUlNJT049Ik9idGVuaWVuZG8gw7psdGltYSB2ZXJzacOzbiBhYnNvbHV0YSBkZSBOb2RlSlMuLi4iCl9NU0dfSU5TVEFMTElOR19OT0RFSlM9Ikluc3RhbGFuZG8gTm9kZUpTIgpfTVNHX1VOSU5TVEFMTElOR19OT0RFSlM9IkRlc2luc3RhbGFuZG8gTm9kZUpTIgpfTVNHX0VSUk9SX0lOU1RBTExJTkdfTk9ERUpTPSJPY3VycmnDsyB1biBlcnJvciBpbnN0YWxhbmRvIE5vZGVKUyIKX01TR19FUlJPUl9DT0RFPSJDw7NkaWdvIGRlIGVycm9yIgpfTVNHX0RJU1RSSUJVVElPTl9OT1RfU1VQUE9SVEVEPSJUdSBkaXN0cmlidWNpw7NuIG5vIGVzdMOhIHNvcG9ydGFkYSBwb3IgZXN0ZSBzY3JpcHQgZGUgaW5zdGFsYWNpw7NuIGRlIE5vZGVKUyIKX01TR19GT1VORF9OT0RFSlNfSU5TVEFMTEVEPSJFbmNvbnRyYWRvIE5vZGVKUyBpbnN0YWxhZG8iCl9NU0dfTk9ERUpTX0lTX1VQREFURUQ9Ik5vZGVKUyBlc3TDoSBhY3R1YWxpemFkbyIKX01TR19NVVNUX1BBU1NfVVBHUkFERV9PUFRJT049IlNpIHF1aWVyZXMgYWN0dWFsaXphciBsYSB2ZXJzacOzbiBkZSBOb2RlSlMgaW5zdGFsYWRhIGRlYmVzIHBhc2FyIGxhIG9wY2nDs24gJy0tdXBncmFkZScgYSBlc3RlIHNjcmlwdC4iCl9NU0dfTk9ERUpTX0lOU1RBTExFRF9CWV9BTk9USEVSX1NPVVJDRT0iTm9kZUpTIGZ1ZSBpbnN0YWxhZG8gcG9yIHVuYSBmdWVudGUgZGVzY29ub2NpZGEgeSBubyBwdWVkZSBzZXIgYWN0dWFsaXphZG8uIgpfTVNHX1VOSU5TVEFMTF9NQU5VQUxMWV9OT0RFSlNfQkVGT1JFX1JVTj0iRGVzaW5zdGFsYSBOb2RlSlMgbWFudWFsbWVudGUgYW50ZXMgZGUgZWplY3V0YXIgZXN0ZSBzY3JpcHQuIgpJTkRFTlRfU1RSSU5HPSIiCl9WRVJTSU9OPSIiCl9VUEdSQURFPTAKZnVuY3Rpb24gdXNhZ2UgewogICAgY2F0IDw8SEVMUF9VU0FHRQpVc2FnZTogdW5peC9kZWJpYW4vaW5zdGFsbC9ub2RlanMvJF9TQ1JJUFRfRklMRU5BTUUgWy1oXSBbLWkgU1RSSU5HXSBbLXYgVkVSU0lPTl0KCiAgSW5zdGFsYSBOb2RlSlMgdXNhbmRvIGxvcyByZXBvc2l0b3Jpb3MgJ2dpdGh1Yi5jb20vbm9kZXNvdXJjZS9kaXN0cmlidXRpb25zJyBjb21vIGZ1ZW50ZS4KCk9wdGlvbnM6CiAgLWgsIC0taGVscCAgICAgICAgICAgICAgICAgICAgICAgIFNob3cgdGhpcyBoZWxwIG1lc3NhZ2UgYW5kIGV4aXQuCiAgLWkgU1RSSU5HLCAtLWluZGVudCBTVFJJTkcgICAgICAgIEVhY2ggbGluZSBvZiB0aGUgc2NyaXB0IG91dHB1dCB3aWxsIGJlIHByZWNlZGVkIHdpdGggdGhlIHN0cmluZyBkZWZpbmVkIGluIHRoaXMgcGFyYW1ldGVyLgogIC12IFZFUlNJT04sIC0tdmVyc2lvbiBWRVJTSU9OICAgICBNYWpvciB2ZXJzaW9uIG9mIE5vZGVKUyB0byBpbnN0YWxsIG9yIHVwZGF0ZSB0by4gQXMgZGVmYXVsdCB0aGUgbGF0ZXN0IHZlcnNpb24gYXZhaWxhYmxlLgogIC11LCAtLXVwZ3JhZGUgICAgICAgICAgICAgICAgICAgICBVcGdyYWRlcyBOb2RlSlMgdmVyc2lvbiBpZiB3YXMgcHJldmlvdWx5IGluc3RhbGxlZCBieSB0aGUgc2FtZSBzb3VyY2UgdXNlZCBieSB0aGlzIHNjcmlwdC4KCkhFTFBfVVNBR0UKICAgIGV4aXQgMQp9CmZvciBhcmcgaW4gIiRAIjsgZG8KICBjYXNlICRhcmcgaW4KICAgIC1pfC0taW5kZW50KQogICAgSU5ERU5UX1NUUklORz0iJDIiCiAgICBzaGlmdCAyCiAgICA7OwogICAgLWh8LS1oZWxwKQogICAgc2hpZnQKICAgIHVzYWdlCiAgICA7OyAgICAKICAgIC12fC0tdmVyc2lvbikKICAgIHNoaWZ0CiAgICBfVkVSU0lPTj0kMQogICAgc2hpZnQKICAgIDs7CiAgICAtdXwtLXVwZ3JhZGUpCiAgICBfVVBHUkFERT0xCiAgICBzaGlmdAogICAgOzsKICBlc2FjCmRvbmUKZnVuY3Rpb24gcHJpbnRJbmRlbnQoKSB7CiAgcHJpbnRmICIlcyIgIiRJTkRFTlRfU1RSSU5HIgp9CmZ1bmN0aW9uIGluc3RhbGxQYWNtYW5JZk5vdEluc3RhbGxlZCgpIHsKICBpZiBbICIkKGNvbW1hbmQgLXYgcGFjbWFuKSIgPSAiIiBdOyB0aGVuCiAgICB1cmw9Imh0dHBzOi8vbW9uZGVqYS5naXRodWIuaW8vc2hyZWFkL3VuaXgvXy9kb3dubG9hZC9wYWNhcHQvJF9TQ1JJUFRfRklMRU5BTUUiCiAgICBjdXJsIC1zTCAiJHVybCIgfCBzdWRvIGJhc2ggLSA+IC9kZXYvbnVsbAogIGZpOwp9CmZ1bmN0aW9uIGdldFVuaXhEaXN0cm8oKSB7CiAgaWYgWyAteiAiJFVOSVhfRElTVFJPIiBdOyB0aGVuCiAgICBzb3VyY2UgPChjdXJsIC1zTCBodHRwczovL21vbmRlamEuZ2l0aHViLmlvL3NocmVhZC91bml4L18vdXRpbC9nZXQtZGlzdHJvL2VuLnNoKQogIGZpOwp9CmZ1bmN0aW9uIGNoZWNrVW5peERpc3RybygpIHsKICBpZiBbICIkVU5JWF9ESVNUUk8iICE9ICJ1YnVudHUiIF0gJiYgWyAiJFVOSVhfRElTVFJPIiAhPSAiZGViaWFuIiBdOyB0aGVuCiAgICBwcmludGYgIiVzICglcykiICIkX01TR19ESVNUUklCVVRJT05fTk9UX1NVUFBPUlRFRCIgIiRVTklYX0RJU1RSTyIgPiYyCiAgICBwcmludGYgIiBcZVs5MW1ceEUyXHg5Q1x4OTVcZVszOW1cbiIgPiYyCiAgICBleGl0IDEKICBmaTsKfQpmdW5jdGlvbiBpbnN0YWxsSW5zdGFsbGF0aW9uRGVwZW5kZW5jaWVzKCkgewogIHByaW50SW5kZW50CiAgcHJpbnRmICIgICVzXG4iICIkX01TR19DSEVDS0lOR19CQVNFX0RFUFMiCiAgSU5TVEFMTEFUSU9OX0RFUEVOREVOQ0lFUz0oCiAgICAiYnVpbGQtZXNzZW50aWFsIgogICAgImdjYyIKICAgICJnKysiCiAgICAibWFrZSIKICAgICJhcHQtdHJhbnNwb3J0LWh0dHBzIgogICAgImxzYi1yZWxlYXNlIgogICAgImdudXBnIgogICkKICBmb3IgREVQIGluICIke0lOU1RBTExBVElPTl9ERVBFTkRFTkNJRVNbQF19IjsgZG8KICAgIHByaW50SW5kZW50CiAgICBwcmludGYgIiAgICAlcyIgIiRERVAiCiAgICBpZiBbWyAiJChzdWRvIHBhY21hbiAtUWkgIiRERVAiIDI+IC9kZXYvbnVsbCB8IGdyZXAgU3RhdHVzKSIgIT0gIlN0YXR1czogaW5zdGFsbCBvayBpbnN0YWxsZWQiIF1dOyB0aGVuCiAgICAgIHN1ZG8gcGFjbWFuIC1TIC0tIC15ICIkREVQIiA+IC9kZXYvbnVsbCB8fCBleGl0ICQ/CiAgICBmaTsKICAgIHByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgogIGRvbmUKfQpMQVNUX05PREVKU19WRVJTSU9OPSIiCkxBU1RfTk9ERUpTX01BSk9SX1ZFUlNJT049IiIKZnVuY3Rpb24gcmV0cmlldmVMYXN0Tm9kZUpTVmVyc2lvbigpIHsKICBwcmludGYgIiAgJXMiICIkX01TR19SRVRSSUVWSU5HX0xBU1RfTk9ERUpTX0FCU09MVVRFX1ZFUlNJT04iCiAgTEFTVF9OT0RFSlNfVkVSU0lPTj0iJCgKICAgIGN1cmwgLXNTTCBodHRwczovL25vZGVqcy5vcmcvZGlzdC9sYXRlc3QvU0hBU1VNUzI1Ni50eHQgICAgIHwgaGVhZCAtbiAxIHwgY3V0IC1kJyAnIC1mMyB8IGN1dCAtZCctJyAtZjIgfCBjdXQgLWQndicgLWYyKSIKICBMQVNUX05PREVKU19NQUpPUl9WRVJTSU9OPSIkKAogICAgcHJpbnRmICclcycgIiRMQVNUX05PREVKU19WRVJTSU9OIiB8IGN1dCAtZCcuJyAtZjEpIgogIHByaW50ZiAiICh2JXMpIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIiAiJExBU1RfTk9ERUpTX1ZFUlNJT04iCn0KZnVuY3Rpb24gaW5zdGFsbE5vZGVKUygpIHsKICBwcmludEluZGVudAogIGlmIFsgLW4gIiQxIiBdOyB0aGVuCiAgICBwcmludGYgIiAgJXMgKHYlcykuLi4iICIkX01TR19JTlNUQUxMSU5HX05PREVKUyIgIiQxIgogIGVsc2UKICAgIHByaW50ZiAiICAlcyAodiVzKS4uLiIgIiRfTVNHX0lOU1RBTExJTkdfTk9ERUpTIiAiJDIiCiAgZmk7CiAgSU5TVEFMTF9OT0RFSlNfU1RERVJSPSQoCiAgICBjdXJsIC1zTCAiaHR0cHM6Ly9kZWIubm9kZXNvdXJjZS5jb20vc2V0dXBfJDIueCIgfCAgICAgc3VkbyBiYXNoICAgICAyPiYxID4gL2Rldi9udWxsKQogIElOU1RBTExfTk9ERUpTX0VYSVRfQ09ERT0kPwogIGlmIFsgJElOU1RBTExfTk9ERUpTX0VYSVRfQ09ERSAtbmUgMCBdOyB0aGVuCiAgICBwcmludGYgIiBcZVs5MW1ceEUyXHg5Q1x4OTVcZVszOW1cbiIgPiYyCiAgICBwcmludGYgIlxuJXM6XG4gJXNcbiIgIiRfTVNHX0VSUk9SX0lOU1RBTExJTkdfTk9ERUpTIiAiJElOU1RBTExfTk9ERUpTX1NUREVSUiIgPiYyCiAgICBwcmludGYgIiVzOiAlc1xuIiAiJF9NU0dfRVJST1JfQ09ERSIgIiRJTlNUQUxMX05PREVKU19FWElUX0NPREUiID4mMgogICAgZXhpdCAkSU5TVEFMTF9OT0RFSlNfRVhJVF9DT0RFCiAgZmk7CiAgc3VkbyBwYWNtYW4gLVMgLS0gLXkgbm9kZWpzID4gL2Rldi9udWxsIHx8IGV4aXQgJD8KICBpZiBbIC1kICIkSE9NRS8uY29uZmlnIiBdOyB0aGVuCiAgICBzdWRvIGNob3duIC1SICIkVVNFUjokKGlkIC1nbiAiJFVTRVIiKSIgIiRIT01FLy5jb25maWciCiAgZmk7CiAgcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCn0KX05PREVKU19JTlNUQUxMRUQ9MApmdW5jdGlvbiBjaGVja05vZGVKU0luc3RhbGxlZCgpIHsKICBpZiBbICIkKHN1ZG8gcGFjbWFuIC1RaSBub2RlanMgMj4gL2Rldi9udWxsIHwgZ3JlcCBTdGF0dXMpIiA9ICJTdGF0dXM6IGluc3RhbGwgb2sgaW5zdGFsbGVkIiBdIHx8IFsgLW4gIiQoY29tbWFuZCAtdiBub2RlKSIgXTsgdGhlbgogICAgX05PREVKU19JTlNUQUxMRUQ9MQogIGZpOwp9Cl9OT0RFSlNfSU5TVEFMTEVEX0JZX05PREVTT1VSQ0U9MApmdW5jdGlvbiBjaGVja05vZGVKU05vZGVzb3VyY2VJbnN0YWxsYXRpb24oKSB7CiAgaWYgWyAtZiAiL2V0Yy9hcHQvc291cmNlcy5saXN0LmQvbm9kZXNvdXJjZS5saXN0IiBdOyB0aGVuCiAgICBfTk9ERUpTX0lOU1RBTExFRF9CWV9OT0RFU09VUkNFPTEKICBmaTsKfQpfTk9ERUpTX0lOU1RBTExFRF9WRVJTSU9OPSIiCl9OT0RFSlNfSU5TVEFMTEVEX01BSk9SX1ZFUlNJT049IiIKZnVuY3Rpb24gZ2V0Tm9kZUpTSW5zdGFsbGVkVmVyc2lvbigpIHsKICBfTk9ERUpTX0lOU1RBTExFRF9WRVJTSU9OPSIkKG5vZGUgLXYgfCBjdXQgLWQndicgLWYyKSIKICBfTk9ERUpTX0lOU1RBTExFRF9NQUpPUl9WRVJTSU9OPSIkKHByaW50ZiAiJXMiICIkX05PREVKU19JTlNUQUxMRURfVkVSU0lPTiIgfCBjdXQgLWQnLicgLWYxKSIKfQpmdW5jdGlvbiB1bmluc3RhbGxOb2Rlc291cmNlTm9kZUpTKCkgewogIHByaW50SW5kZW50CiAgcHJpbnRmICIgICVzICh2JXMpLi4uIiAiJF9NU0dfVU5JTlNUQUxMSU5HX05PREVKUyIgIiRfTk9ERUpTX0lOU1RBTExFRF9WRVJTSU9OIgogIGVjaG8geSB8IHN1ZG8gcGFjbWFuIC1Sc24gbm9kZWpzID4gL2Rldi9udWxsIHx8IGV4aXQgJD8KICBfUEdER19TT1VSQ0VTX0VYVFM9KAogICAgImxpc3QiCiAgICAic2F2ZSIKICAgICJkaXN0VXBncmFkZSIKICApCiAgZm9yIEVYVCBpbiAiJHtfUEdER19TT1VSQ0VTX0VYVFNbQF19IjsgZG8KICAgIHN1ZG8gcm0gLWYgIi9ldGMvYXB0L3NvdXJjZXMubGlzdC5kL25vZGVzb3VyY2UuJEVYVCIKICBkb25lCiAgcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCn0KZnVuY3Rpb24gbWFpbigpIHsKICBzdWRvIHByaW50ZiAiIgogIGluc3RhbGxQYWNtYW5JZk5vdEluc3RhbGxlZAogIGdldFVuaXhEaXN0cm8KICBjaGVja1VuaXhEaXN0cm8KICBwcmludEluZGVudAogIHByaW50ZiAiJXNcbiIgIiRfTVNHX1NFVFRJTkdfVVBfTk9ERUpTX0VDT1NZU1RFTSIKICBpbnN0YWxsSW5zdGFsbGF0aW9uRGVwZW5kZW5jaWVzCiAgY2hlY2tOb2RlSlNJbnN0YWxsZWQKICBpZiBbICIkX05PREVKU19JTlNUQUxMRUQiIC1lcSAwIF07IHRoZW4KICAgIHJldHJpZXZlTGFzdE5vZGVKU1ZlcnNpb24KICAgIGluc3RhbGxOb2RlSlMgIiRMQVNUX05PREVKU19WRVJTSU9OIiAiJExBU1RfTk9ERUpTX01BSk9SX1ZFUlNJT04iCiAgZWxzZQogICAgZ2V0Tm9kZUpTSW5zdGFsbGVkVmVyc2lvbgogICAgcHJpbnRJbmRlbnQKICAgIHByaW50ZiAiICAlcyAodiVzKSIgIiRfTVNHX0ZPVU5EX05PREVKU19JTlNUQUxMRUQiICIkX05PREVKU19JTlNUQUxMRURfVkVSU0lPTiIKICAgIHByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgogICAgaWYgWyAtbiAiJF9WRVJTSU9OIiBdICYmIFsgIiRfVkVSU0lPTiIgIT0gIiRfTk9ERUpTX0lOU1RBTExFRF9NQUpPUl9WRVJTSU9OIiBdICYmIFsgIiRfVVBHUkFERSIgLWVxIDAgXTsgdGhlbgogICAgICBwcmludGYgIiAgJXNcbiIgIiRfTVNHX01VU1RfUEFTU19VUEdSQURFX09QVElPTiIKICAgIGZpOwogICAgaWYgWyAiJF9VUEdSQURFIiAtZXEgMCBdOyB0aGVuCiAgICAgIGV4aXQgMAogICAgZmk7CiAgICBpZiBbIC16ICIkX1ZFUlNJT04iIF07IHRoZW4KICAgICAgcmV0cmlldmVMYXN0Tm9kZUpTVmVyc2lvbgogICAgICBfVkVSU0lPTj0iJExBU1RfTk9ERUpTX01BSk9SX1ZFUlNJT04iCiAgICBmaTsKICAgIGlmIFsgIiRfTk9ERUpTX0lOU1RBTExFRF9NQUpPUl9WRVJTSU9OIiA9ICIkX1ZFUlNJT04iIF07IHRoZW4KICAgICAgcHJpbnRJbmRlbnQKICAgICAgcHJpbnRmICIgICVzICh2JXMpIiAiJF9NU0dfTk9ERUpTX0lTX1VQREFURUQiICIkX05PREVKU19JTlNUQUxMRURfVkVSU0lPTiIKICAgICAgcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCiAgICAgIGV4aXQgMAogICAgZmk7CiAgICBjaGVja05vZGVKU05vZGVzb3VyY2VJbnN0YWxsYXRpb24KICAgIGlmIFsgIiRfTk9ERUpTX0lOU1RBTExFRF9CWV9OT0RFU09VUkNFIiAtZXEgMSBdOyB0aGVuCiAgICAgIHVuaW5zdGFsbE5vZGVzb3VyY2VOb2RlSlMKICAgICAgaW5zdGFsbE5vZGVKUyAiJExBU1RfTk9ERUpTX1ZFUlNJT04iICIkX1ZFUlNJT04iCiAgICBlbHNlCiAgICAgIHByaW50SW5kZW50ID4mMgogICAgICBwcmludGYgIiAgJXMiICIkX01TR19OT0RFSlNfSU5TVEFMTEVEX0JZX0FOT1RIRVJfU09VUkNFIiA+JjIKICAgICAgcHJpbnRmICIgIiA+JjIKICAgICAgcHJpbnRmICIlcyIgIiRfTVNHX1VOSU5TVEFMTF9NQU5VQUxMWV9OT0RFSlNfQkVGT1JFX1JVTiIgPiYyCiAgICAgIHByaW50ZiAiIFxlWzkxbVx4RTJceDlDXHg5NVxlWzM5bVxuIiA+JjIKICAgIGZpOwogIGZpOwp9CmlmIChyZXR1cm4gMCAyPi9kZXYvbnVsbCk7IHRoZW4KICBleHBvcnRWYXJpYWJsZXMKZWxzZQogIG1haW4KZmk7'
if (return 0 2>/dev/null); then
  source <(printf "%s" "$H" | base64 -d)
else
  echo "$(echo "$H" | base64 -d)" | bash -s -- "$@"
fi;
