#!/bin/bash
H='IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfU0NSSVBUX0ZJTEVOQU1FPWVzLnNoCiMhL2Jpbi9iYXNoCl9NU0dfU0VUVElOR19VUF9OT0RFSlNfRUNPU1lTVEVNPSJDb25maWd1cmFuZG8gZWNvc2lzdGVtYSBOb2RlSlMuLi4iCl9NU0dfQ0hFQ0tJTkdfQkFTRV9ERVBTPSJDb21wcm9iYW5kbyBkZXBlbmRlbmNpYXMgYmFzZS4uLiIKX01TR19SRVRSSUVWSU5HX0xBU1RfTk9ERUpTX0FCU09MVVRFX1ZFUlNJT049Ik9idGVuaWVuZG8gw7psdGltYSB2ZXJzacOzbiBhYnNvbHV0YSBkZSBOb2RlSlMuLi4iCl9NU0dfSU5TVEFMTElOR19OT0RFSlM9Ikluc3RhbGFuZG8gTm9kZUpTIgpfTVNHX1VOSU5TVEFMTElOR19OT0RFSlM9IkRlc2luc3RhbGFuZG8gTm9kZUpTIgpfTVNHX0VSUk9SX0lOU1RBTExJTkdfTk9ERUpTPSJPY3VycmnDsyB1biBlcnJvciBpbnN0YWxhbmRvIE5vZGVKUyIKX01TR19FUlJPUl9DT0RFPSJDw7NkaWdvIGRlIGVycm9yIgpfTVNHX0RJU1RSSUJVVElPTl9OT1RfU1VQUE9SVEVEPSJUdSBkaXN0cmlidWNpw7NuIG5vIGVzdMOhIHNvcG9ydGFkYSBwb3IgZXN0ZSBzY3JpcHQgZGUgaW5zdGFsYWNpw7NuIGRlIE5vZGVKUyIKX01TR19GT1VORF9OT0RFSlNfSU5TVEFMTEVEPSJFbmNvbnRyYWRvIE5vZGVKUyBpbnN0YWxhZG8iCl9NU0dfTk9ERUpTX0lTX1VQREFURUQ9Ik5vZGVKUyBlc3TDoSBhY3R1YWxpemFkbyIKX01TR19OT0RFSlNfSU5TVEFMTEVEX0JZX0FOT1RIRVJfU09VUkNFPSJOb2RlSlMgZnVlIGluc3RhbGFkbyBwb3IgdW5hIGZ1ZW50ZSBkZXNjb25vY2lkYSB5IG5vIHB1ZWRlIHNlciBhY3R1YWxpemFkby4iCl9NU0dfVU5JTlNUQUxMX01BTlVBTExZX05PREVKU19CRUZPUkVfUlVOPSJEZXNpbnN0YWxhIE5vZGVKUyBtYW51YWxtZW50ZSBhbnRlcyBkZSBlamVjdXRhciBlc3RlIHNjcmlwdC4iCklOREVOVF9TVFJJTkc9IiIKX1ZFUlNJT049IiIKX1VQR1JBREU9MApmdW5jdGlvbiB1c2FnZSB7CiAgICBjYXQgPDxIRUxQX1VTQUdFClVzYWdlOiB1bml4L2RlYmlhbi9pbnN0YWxsL25vZGVqcy8kX1NDUklQVF9GSUxFTkFNRSBbLWhdIFstaSBTVFJJTkddIFstdiBWRVJTSU9OXQoKICBJbnN0YWxhIE5vZGVKUyB1c2FuZG8gbG9zIHJlcG9zaXRvcmlvcyAnZ2l0aHViLmNvbS9ub2Rlc291cmNlL2Rpc3RyaWJ1dGlvbnMnIGNvbW8gZnVlbnRlLgoKT3B0aW9uczoKICAtaCwgLS1oZWxwICAgICAgICAgICAgICAgICAgICAgICAgU2hvdyB0aGlzIGhlbHAgbWVzc2FnZSBhbmQgZXhpdC4KICAtaSBTVFJJTkcsIC0taW5kZW50IFNUUklORyAgICAgICAgRWFjaCBsaW5lIG9mIHRoZSBzY3JpcHQgb3V0cHV0IHdpbGwgYmUgcHJlY2VkZWQgd2l0aCB0aGUgc3RyaW5nIGRlZmluZWQgaW4gdGhpcyBwYXJhbWV0ZXIuCiAgLXYgVkVSU0lPTiwgLS12ZXJzaW9uIFZFUlNJT04gICAgIE1ham9yIHZlcnNpb24gb2YgTm9kZUpTIHRvIGluc3RhbGwgb3IgdXBkYXRlIHRvLiBBcyBkZWZhdWx0IHRoZSBsYXRlc3QgdmVyc2lvbiBhdmFpbGFibGUuCiAgLXUsIC0tdXBncmFkZSAgICAgICAgICAgICAgICAgICAgIFVwZ3JhZGVzIE5vZGVKUyB2ZXJzaW9uIGlmIHdhcyBwcmV2aW91bHkgaW5zdGFsbGVkIGJ5IHRoZSBzYW1lIHNvdXJjZSB1c2VkIGJ5IHRoaXMgc2NyaXB0LgoKSEVMUF9VU0FHRQogICAgZXhpdCAxCn0KZm9yIGFyZyBpbiAiJEAiOyBkbwogIGNhc2UgJGFyZyBpbgogICAgLWl8LS1pbmRlbnQpCiAgICBJTkRFTlRfU1RSSU5HPSIkMiIKICAgIHNoaWZ0IDIKICAgIDs7CiAgICAtaHwtLWhlbHApCiAgICBzaGlmdAogICAgdXNhZ2UKICAgIDs7ICAgIAogICAgLXZ8LS12ZXJzaW9uKQogICAgc2hpZnQKICAgIF9WRVJTSU9OPSQxCiAgICBzaGlmdAogICAgOzsKICAgIC11fC0tdXBncmFkZSkKICAgIF9VUEdSQURFPTEKICAgIHNoaWZ0CiAgICA7OwogIGVzYWMKZG9uZQpmdW5jdGlvbiBwcmludEluZGVudCgpIHsKICBwcmludGYgIiVzIiAiJElOREVOVF9TVFJJTkciCn0KZnVuY3Rpb24gaW5zdGFsbFBhY21hbklmTm90SW5zdGFsbGVkKCkgewogIGlmIFsgIiQoY29tbWFuZCAtdiBwYWNtYW4pIiA9ICIiIF07IHRoZW4KICAgIHVybD0iaHR0cHM6Ly9tb25kZWphLmdpdGh1Yi5pby9zaHJlYWQvdW5peC9fL2Rvd25sb2FkL3BhY2FwdC8kX1NDUklQVF9GSUxFTkFNRSIKICAgIGN1cmwgLXNMICIkdXJsIiB8IHN1ZG8gYmFzaCAtID4gL2Rldi9udWxsCiAgZmk7Cn0KZnVuY3Rpb24gZ2V0VW5peERpc3RybygpIHsKICBpZiBbIC16ICIkVU5JWF9ESVNUUk8iIF07IHRoZW4KICAgIHNvdXJjZSA8KGN1cmwgLXNMIGh0dHBzOi8vbW9uZGVqYS5naXRodWIuaW8vc2hyZWFkL3VuaXgvXy91dGlsL2dldC1kaXN0cm8vZW4uc2gpCiAgZmk7Cn0KZnVuY3Rpb24gY2hlY2tVbml4RGlzdHJvKCkgewogIGlmIFsgIiRVTklYX0RJU1RSTyIgIT0gInVidW50dSIgXSAmJiBbICIkVU5JWF9ESVNUUk8iICE9ICJkZWJpYW4iIF07IHRoZW4KICAgIHByaW50ZiAiJXMgKCVzKSIgIiRfTVNHX0RJU1RSSUJVVElPTl9OT1RfU1VQUE9SVEVEIiAiJFVOSVhfRElTVFJPIiA+JjIKICAgIHByaW50ZiAiIFxlWzkxbVx4RTJceDlDXHg5NVxlWzM5bVxuIiA+JjIKICAgIGV4aXQgMQogIGZpOwp9CmZ1bmN0aW9uIGluc3RhbGxJbnN0YWxsYXRpb25EZXBlbmRlbmNpZXMoKSB7CiAgcHJpbnRJbmRlbnQKICBwcmludGYgIiAgJXNcbiIgIiRfTVNHX0NIRUNLSU5HX0JBU0VfREVQUyIKICBJTlNUQUxMQVRJT05fREVQRU5ERU5DSUVTPSgKICAgICJidWlsZC1lc3NlbnRpYWwiCiAgICAiZ2NjIgogICAgImcrKyIKICAgICJtYWtlIgogICAgImFwdC10cmFuc3BvcnQtaHR0cHMiCiAgICAibHNiLXJlbGVhc2UiCiAgICAiZ251cGciCiAgICAiYXB0aXR1ZGUiCiAgKQogIGZvciBERVAgaW4gIiR7SU5TVEFMTEFUSU9OX0RFUEVOREVOQ0lFU1tAXX0iOyBkbwogICAgcHJpbnRJbmRlbnQKICAgIHByaW50ZiAiICAgICVzIiAiJERFUCIKICAgIGlmIFtbICIkKHN1ZG8gcGFjbWFuIC1RaSAiJERFUCIgMj4gL2Rldi9udWxsIHwgZ3JlcCBTdGF0dXMpIiAhPSAiU3RhdHVzOiBpbnN0YWxsIG9rIGluc3RhbGxlZCIgXV07IHRoZW4KICAgICAgc3VkbyBwYWNtYW4gLVMgLS0gLXkgIiRERVAiID4gL2Rldi9udWxsIHx8IGV4aXQgJD8KICAgIGZpOwogICAgcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCiAgZG9uZQp9CkxBU1RfTk9ERUpTX1ZFUlNJT049IiIKTEFTVF9OT0RFSlNfTUFKT1JfVkVSU0lPTj0iIgpmdW5jdGlvbiByZXRyaWV2ZUxhc3ROb2RlSlNWZXJzaW9uKCkgewogIHByaW50ZiAiICAlcyIgIiRfTVNHX1JFVFJJRVZJTkdfTEFTVF9OT0RFSlNfQUJTT0xVVEVfVkVSU0lPTiIKICBMQVNUX05PREVKU19WRVJTSU9OPSIkKAogICAgY3VybCAtc1NMIGh0dHBzOi8vbm9kZWpzLm9yZy9kaXN0L2xhdGVzdC9TSEFTVU1TMjU2LnR4dCAgICAgfCBoZWFkIC1uIDEgfCBjdXQgLWQnICcgLWYzIHwgY3V0IC1kJy0nIC1mMiB8IGN1dCAtZCd2JyAtZjIpIgogIExBU1RfTk9ERUpTX01BSk9SX1ZFUlNJT049IiQoCiAgICBwcmludGYgJyVzJyAiJExBU1RfTk9ERUpTX1ZFUlNJT04iIHwgY3V0IC1kJy4nIC1mMSkiCiAgcHJpbnRmICIgKHYlcykgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iICIkTEFTVF9OT0RFSlNfVkVSU0lPTiIKfQpmdW5jdGlvbiBpbnN0YWxsTm9kZUpTKCkgewogIHByaW50SW5kZW50CiAgaWYgWyAtbiAiJDEiIF07IHRoZW4KICAgIHByaW50ZiAiICAlcyAodiVzKS4uLiIgIiRfTVNHX0lOU1RBTExJTkdfTk9ERUpTIiAiJDEiCiAgZWxzZQogICAgcHJpbnRmICIgICVzICh2JXMpLi4uIiAiJF9NU0dfSU5TVEFMTElOR19OT0RFSlMiICIkMiIKICBmaTsKICBJTlNUQUxMX05PREVKU19TVERFUlI9JCgKICAgIGN1cmwgLXNMICJodHRwczovL2RlYi5ub2Rlc291cmNlLmNvbS9zZXR1cF8kMi54IiB8ICAgICBzdWRvIGJhc2ggICAgIDI+JjEgPiAvZGV2L251bGwpCiAgSU5TVEFMTF9OT0RFSlNfRVhJVF9DT0RFPSQ/CiAgaWYgWyAkSU5TVEFMTF9OT0RFSlNfRVhJVF9DT0RFIC1uZSAwIF07IHRoZW4KICAgIHByaW50ZiAiIFxlWzkxbVx4RTJceDlDXHg5NVxlWzM5bVxuIiA+JjIKICAgIHByaW50ZiAiXG4lczpcbiAlc1xuIiAiJF9NU0dfRVJST1JfSU5TVEFMTElOR19OT0RFSlMiICIkSU5TVEFMTF9OT0RFSlNfU1RERVJSIiA+JjIKICAgIHByaW50ZiAiJXM6ICVzXG4iICIkX01TR19FUlJPUl9DT0RFIiAiJElOU1RBTExfTk9ERUpTX0VYSVRfQ09ERSIgPiYyCiAgICBleGl0ICRJTlNUQUxMX05PREVKU19FWElUX0NPREUKICBmaTsKICBzdWRvIHBhY21hbiAtUyAtLSAteSBub2RlanMgPiAvZGV2L251bGwgfHwgZXhpdCAkPwogIGlmIFsgLWQgIiRIT01FLy5jb25maWciIF07IHRoZW4KICAgIHN1ZG8gY2hvd24gLVIgIiRVU0VSOiQoaWQgLWduICIkVVNFUiIpIiAiJEhPTUUvLmNvbmZpZyIKICBmaTsKICBwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKfQpfTk9ERUpTX0lOU1RBTExFRD0wCmZ1bmN0aW9uIGNoZWNrTm9kZUpTSW5zdGFsbGVkKCkgewogIGlmIFsgIiQoc3VkbyBwYWNtYW4gLVFpIG5vZGVqcyAyPiAvZGV2L251bGwgfCBncmVwIFN0YXR1cykiID0gIlN0YXR1czogaW5zdGFsbCBvayBpbnN0YWxsZWQiIF0gfHwgWyAtbiAiJChjb21tYW5kIC12IG5vZGUpIiBdOyB0aGVuCiAgICBfTk9ERUpTX0lOU1RBTExFRD0xCiAgZmk7Cn0KX05PREVKU19JTlNUQUxMRURfQllfTk9ERVNPVVJDRT0wCmZ1bmN0aW9uIGNoZWNrTm9kZUpTTm9kZXNvdXJjZUluc3RhbGxhdGlvbigpIHsKICBpZiBbIC1mICIvZXRjL2FwdC9zb3VyY2VzLmxpc3QuZC9ub2Rlc291cmNlLmxpc3QiIF07IHRoZW4KICAgIF9OT0RFSlNfSU5TVEFMTEVEX0JZX05PREVTT1VSQ0U9MQogIGZpOwp9Cl9OT0RFSlNfSU5TVEFMTEVEX1ZFUlNJT049IiIKX05PREVKU19JTlNUQUxMRURfTUFKT1JfVkVSU0lPTj0iIgpmdW5jdGlvbiBnZXROb2RlSlNJbnN0YWxsZWRWZXJzaW9uKCkgewogIF9OT0RFSlNfSU5TVEFMTEVEX1ZFUlNJT049IiQobm9kZSAtdiB8IGN1dCAtZCd2JyAtZjIpIgogIF9OT0RFSlNfSU5TVEFMTEVEX01BSk9SX1ZFUlNJT049IiQocHJpbnRmICIlcyIgIiRfTk9ERUpTX0lOU1RBTExFRF9WRVJTSU9OIiB8IGN1dCAtZCcuJyAtZjEpIgp9CmZ1bmN0aW9uIHVuaW5zdGFsbE5vZGVzb3VyY2VOb2RlSlMoKSB7CiAgcHJpbnRJbmRlbnQKICBwcmludGYgIiAgJXMgKHYlcykuLi4iICIkX01TR19VTklOU1RBTExJTkdfTk9ERUpTIiAiJF9OT0RFSlNfSU5TVEFMTEVEX1ZFUlNJT04iCiAgZWNobyB5IHwgc3VkbyBwYWNtYW4gLVJzbiBub2RlanMgPiAvZGV2L251bGwgfHwgZXhpdCAkPwogIF9QR0RHX1NPVVJDRVNfRVhUUz0oCiAgICAibGlzdCIKICAgICJzYXZlIgogICAgImRpc3RVcGdyYWRlIgogICkKICBmb3IgRVhUIGluICIke19QR0RHX1NPVVJDRVNfRVhUU1tAXX0iOyBkbwogICAgc3VkbyBybSAtZiAiL2V0Yy9hcHQvc291cmNlcy5saXN0LmQvbm9kZXNvdXJjZS4kRVhUIgogIGRvbmUKICBwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKfQpmdW5jdGlvbiBtYWluKCkgewogIHN1ZG8gcHJpbnRmICIiCiAgaW5zdGFsbFBhY21hbklmTm90SW5zdGFsbGVkCiAgZ2V0VW5peERpc3RybwogIGNoZWNrVW5peERpc3RybwogIHByaW50SW5kZW50CiAgcHJpbnRmICIlc1xuIiAiJF9NU0dfU0VUVElOR19VUF9OT0RFSlNfRUNPU1lTVEVNIgogIGluc3RhbGxJbnN0YWxsYXRpb25EZXBlbmRlbmNpZXMKICBjaGVja05vZGVKU0luc3RhbGxlZAogIGlmIFsgIiRfTk9ERUpTX0lOU1RBTExFRCIgLWVxIDAgXTsgdGhlbgogICAgcmV0cmlldmVMYXN0Tm9kZUpTVmVyc2lvbgogICAgaW5zdGFsbE5vZGVKUyAiJExBU1RfTk9ERUpTX1ZFUlNJT04iICIkTEFTVF9OT0RFSlNfTUFKT1JfVkVSU0lPTiIKICBlbHNlCiAgICBnZXROb2RlSlNJbnN0YWxsZWRWZXJzaW9uCiAgICBwcmludEluZGVudAogICAgcHJpbnRmICIgICVzICh2JXMpIiAiJF9NU0dfRk9VTkRfTk9ERUpTX0lOU1RBTExFRCIgIiRfTk9ERUpTX0lOU1RBTExFRF9WRVJTSU9OIgogICAgcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCiAgICBpZiBbICIkX1VQR1JBREUiIC1lcSAwIF07IHRoZW4KICAgICAgZXhpdCAwCiAgICBmaTsKICAgIGlmIFsgLXogIiRfVkVSU0lPTiIgXTsgdGhlbgogICAgICByZXRyaWV2ZUxhc3ROb2RlSlNWZXJzaW9uCiAgICAgIF9WRVJTSU9OPSIkTEFTVF9OT0RFSlNfTUFKT1JfVkVSU0lPTiIKICAgIGZpOwogICAgaWYgWyAiJF9OT0RFSlNfSU5TVEFMTEVEX01BSk9SX1ZFUlNJT04iID0gIiRfVkVSU0lPTiIgXTsgdGhlbgogICAgICBwcmludEluZGVudAogICAgICBwcmludGYgIiAgJXMgKHYlcykiICIkX01TR19OT0RFSlNfSVNfVVBEQVRFRCIgIiRfTk9ERUpTX0lOU1RBTExFRF9WRVJTSU9OIgogICAgICBwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKICAgICAgZXhpdCAwCiAgICBmaTsKICAgIGNoZWNrTm9kZUpTTm9kZXNvdXJjZUluc3RhbGxhdGlvbgogICAgaWYgWyAiJF9OT0RFSlNfSU5TVEFMTEVEX0JZX05PREVTT1VSQ0UiIC1lcSAxIF07IHRoZW4KICAgICAgdW5pbnN0YWxsTm9kZXNvdXJjZU5vZGVKUwogICAgICBpbnN0YWxsTm9kZUpTICIkTEFTVF9OT0RFSlNfVkVSU0lPTiIgIiRfVkVSU0lPTiIKICAgIGVsc2UKICAgICAgcHJpbnRJbmRlbnQgPiYyCiAgICAgIHByaW50ZiAiICAlcyIgIiRfTVNHX05PREVKU19JTlNUQUxMRURfQllfQU5PVEhFUl9TT1VSQ0UiID4mMgogICAgICBwcmludGYgIiAiID4mMgogICAgICBwcmludGYgIiVzIiAiJF9NU0dfVU5JTlNUQUxMX01BTlVBTExZX05PREVKU19CRUZPUkVfUlVOIiA+JjIKICAgICAgcHJpbnRmICIgXGVbOTFtXHhFMlx4OUNceDk1XGVbMzltXG4iID4mMgogICAgZmk7CiAgZmk7Cn0KaWYgKHJldHVybiAwIDI+L2Rldi9udWxsKTsgdGhlbgogIGV4cG9ydFZhcmlhYmxlcwplbHNlCiAgbWFpbgpmaTs='
if (return 0 2>/dev/null); then
  source <(printf "%s" "$H" | base64 -d)
else
  echo "$(echo "$H" | base64 -d)" | bash -s -- "$@"
fi;
