#!/bin/bash
H='IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfU0NSSVBUX0ZJTEVOQU1FPWVuLnNoCiMhL2Jpbi9iYXNoCl9NU0dfU0VUVElOR19VUF9OT0RFSlNfRUNPU1lTVEVNPSJTZXR0aW5nIHVwIE5vZGVKUyBlY29zeXN0ZW0uLi4iCl9NU0dfQ0hFQ0tJTkdfQkFTRV9ERVBTPSJDaGVja2luZyBiYXNlIGRlcGVuZGVuY2llcy4uLiIKX01TR19SRVRSSUVWSU5HX0xBU1RfTk9ERUpTX0FCU09MVVRFX1ZFUlNJT049IlJldHJpZXZpbmcgbGFzdGVzdCBhYnNvbHV0ZSBOb2RlSlMgdmVyc2lvbi4uLiIKX01TR19JTlNUQUxMSU5HX05PREVKUz0iSW5zdGFsbGluZyBOb2RlSlMiCl9NU0dfVU5JTlNUQUxMSU5HX05PREVKUz0iVW5pbnN0YWxsaW5nIE5vZGVKUyIKX01TR19FUlJPUl9JTlNUQUxMSU5HX05PREVKUz0iQW4gZXJyb3IgaGFwcGVuIGluc3RhbGxpbmcgTm9kZUpTIgpfTVNHX0VSUk9SX0NPREU9IkVycm9yIGNvZGUiCl9NU0dfRElTVFJJQlVUSU9OX05PVF9TVVBQT1JURUQ9IllvdXIgZGlzdHJpYnV0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBOb2RlSlMgaW5zdGFsbGF0aW9uIHNjcmlwdCIKX01TR19GT1VORF9OT0RFSlNfSU5TVEFMTEVEPSJGb3VuZCBOb2RlSlMgaW5zdGFsbGVkIgpfTVNHX05PREVKU19JU19VUERBVEVEPSJOb2RlSlMgaXMgdXBkYXRlZCIKX01TR19NVVNUX1BBU1NfVVBHUkFERV9PUFRJT049IklmIHlvdSB3YW50IHRvIHVwZ3JhZGUgdGhlIE5vZGVKUyB2ZXJzaW9uIGluc3RhbGxlZCB5b3UgbXVzdCBwYXNzIHRoZSBvcHRpb24gJy0tdXBncmFkZScgdG8gdGhpcyBzY3JpcHQuIgpfTVNHX05PREVKU19JTlNUQUxMRURfQllfQU5PVEhFUl9TT1VSQ0U9Ik5vZGVKUyB3YXMgaW5zdGFsbGVkIGJ5IGFuIHVua25vd24gc291cmNlIGFuZCBjYW4gbm90IGJlIHVwZ3JhZGVkLiIKX01TR19VTklOU1RBTExfTUFOVUFMTFlfTk9ERUpTX0JFRk9SRV9SVU49IlVuaW5zdGFsbCBOb2RlSlMgbWFudWFsbHkgYmVmb3JlIHJ1biB0aGlzIHNjcmlwdC4iCklOREVOVF9TVFJJTkc9IiIKX1ZFUlNJT049IiIKX1VQR1JBREU9MApmdW5jdGlvbiB1c2FnZSB7CiAgICBjYXQgPDxIRUxQX1VTQUdFClVzYWdlOiB1bml4L2RlYmlhbi9pbnN0YWxsL25vZGVqcy8kX1NDUklQVF9GSUxFTkFNRSBbLWhdIFstaSBTVFJJTkddIFstdiBWRVJTSU9OXQoKICBJbnN0YWxscyBOb2RlSlMgdXNpbmcgJ2dpdGh1Yi5jb20vbm9kZXNvdXJjZS9kaXN0cmlidXRpb25zJyByZXBvc2l0b3JpZXMgYXMgc291cmNlLgoKT3B0aW9uczoKICAtaCwgLS1oZWxwICAgICAgICAgICAgICAgICAgICAgICAgU2hvdyB0aGlzIGhlbHAgbWVzc2FnZSBhbmQgZXhpdC4KICAtaSBTVFJJTkcsIC0taW5kZW50IFNUUklORyAgICAgICAgRWFjaCBsaW5lIG9mIHRoZSBzY3JpcHQgb3V0cHV0IHdpbGwgYmUgcHJlY2VkZWQgd2l0aCB0aGUgc3RyaW5nIGRlZmluZWQgaW4gdGhpcyBwYXJhbWV0ZXIuCiAgLXYgVkVSU0lPTiwgLS12ZXJzaW9uIFZFUlNJT04gICAgIE1ham9yIHZlcnNpb24gb2YgTm9kZUpTIHRvIGluc3RhbGwgb3IgdXBkYXRlIHRvLiBBcyBkZWZhdWx0IHRoZSBsYXRlc3QgdmVyc2lvbiBhdmFpbGFibGUuCiAgLXUsIC0tdXBncmFkZSAgICAgICAgICAgICAgICAgICAgIFVwZ3JhZGVzIE5vZGVKUyB2ZXJzaW9uIGlmIHdhcyBwcmV2aW91bHkgaW5zdGFsbGVkIGJ5IHRoZSBzYW1lIHNvdXJjZSB1c2VkIGJ5IHRoaXMgc2NyaXB0LgoKSEVMUF9VU0FHRQogICAgZXhpdCAxCn0KZm9yIGFyZyBpbiAiJEAiOyBkbwogIGNhc2UgJGFyZyBpbgogICAgLWl8LS1pbmRlbnQpCiAgICBJTkRFTlRfU1RSSU5HPSIkMiIKICAgIHNoaWZ0IDIKICAgIDs7CiAgICAtaHwtLWhlbHApCiAgICBzaGlmdAogICAgdXNhZ2UKICAgIDs7ICAgIAogICAgLXZ8LS12ZXJzaW9uKQogICAgc2hpZnQKICAgIF9WRVJTSU9OPSQxCiAgICBzaGlmdAogICAgOzsKICAgIC11fC0tdXBncmFkZSkKICAgIF9VUEdSQURFPTEKICAgIHNoaWZ0CiAgICA7OwogIGVzYWMKZG9uZQpmdW5jdGlvbiBwcmludEluZGVudCgpIHsKICBwcmludGYgIiVzIiAiJElOREVOVF9TVFJJTkciCn0KZnVuY3Rpb24gaW5zdGFsbFBhY21hbklmTm90SW5zdGFsbGVkKCkgewogIGlmIFsgIiQoY29tbWFuZCAtdiBwYWNtYW4pIiA9ICIiIF07IHRoZW4KICAgIHVybD0iaHR0cHM6Ly9tb25kZWphLmdpdGh1Yi5pby9zaHJlYWQvdW5peC9fL2Rvd25sb2FkL3BhY2FwdC8kX1NDUklQVF9GSUxFTkFNRSIKICAgIGN1cmwgLXNMICIkdXJsIiB8IHN1ZG8gYmFzaCAtID4gL2Rldi9udWxsCiAgZmk7Cn0KZnVuY3Rpb24gZ2V0VW5peERpc3RybygpIHsKICBpZiBbIC16ICIkVU5JWF9ESVNUUk8iIF07IHRoZW4KICAgIHNvdXJjZSA8KGN1cmwgLXNMIGh0dHBzOi8vbW9uZGVqYS5naXRodWIuaW8vc2hyZWFkL3VuaXgvXy91dGlsL2dldC1kaXN0cm8vZW4uc2gpCiAgZmk7Cn0KZnVuY3Rpb24gY2hlY2tVbml4RGlzdHJvKCkgewogIGlmIFsgIiRVTklYX0RJU1RSTyIgIT0gInVidW50dSIgXSAmJiBbICIkVU5JWF9ESVNUUk8iICE9ICJkZWJpYW4iIF07IHRoZW4KICAgIHByaW50ZiAiJXMgKCVzKSIgIiRfTVNHX0RJU1RSSUJVVElPTl9OT1RfU1VQUE9SVEVEIiAiJFVOSVhfRElTVFJPIiA+JjIKICAgIHByaW50ZiAiIFxlWzkxbVx4RTJceDlDXHg5NVxlWzM5bVxuIiA+JjIKICAgIGV4aXQgMQogIGZpOwp9CmZ1bmN0aW9uIGluc3RhbGxJbnN0YWxsYXRpb25EZXBlbmRlbmNpZXMoKSB7CiAgcHJpbnRJbmRlbnQKICBwcmludGYgIiAgJXNcbiIgIiRfTVNHX0NIRUNLSU5HX0JBU0VfREVQUyIKICBJTlNUQUxMQVRJT05fREVQRU5ERU5DSUVTPSgKICAgICJidWlsZC1lc3NlbnRpYWwiCiAgICAiZ2NjIgogICAgImcrKyIKICAgICJtYWtlIgogICAgImFwdC10cmFuc3BvcnQtaHR0cHMiCiAgICAibHNiLXJlbGVhc2UiCiAgICAiZ251cGciCiAgKQogIGZvciBERVAgaW4gIiR7SU5TVEFMTEFUSU9OX0RFUEVOREVOQ0lFU1tAXX0iOyBkbwogICAgcHJpbnRJbmRlbnQKICAgIHByaW50ZiAiICAgICVzIiAiJERFUCIKICAgIGlmIFtbICIkKHN1ZG8gcGFjbWFuIC1RaSAiJERFUCIgMj4gL2Rldi9udWxsIHwgZ3JlcCBTdGF0dXMpIiAhPSAiU3RhdHVzOiBpbnN0YWxsIG9rIGluc3RhbGxlZCIgXV07IHRoZW4KICAgICAgc3VkbyBwYWNtYW4gLVMgLS0gLXkgIiRERVAiID4gL2Rldi9udWxsIHx8IGV4aXQgJD8KICAgIGZpOwogICAgcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCiAgZG9uZQp9CkxBU1RfTk9ERUpTX1ZFUlNJT049IiIKTEFTVF9OT0RFSlNfTUFKT1JfVkVSU0lPTj0iIgpmdW5jdGlvbiByZXRyaWV2ZUxhc3ROb2RlSlNWZXJzaW9uKCkgewogIHByaW50ZiAiICAlcyIgIiRfTVNHX1JFVFJJRVZJTkdfTEFTVF9OT0RFSlNfQUJTT0xVVEVfVkVSU0lPTiIKICBMQVNUX05PREVKU19WRVJTSU9OPSIkKAogICAgY3VybCAtc1NMIGh0dHBzOi8vbm9kZWpzLm9yZy9kaXN0L2xhdGVzdC9TSEFTVU1TMjU2LnR4dCAgICAgfCBoZWFkIC1uIDEgfCBjdXQgLWQnICcgLWYzIHwgY3V0IC1kJy0nIC1mMiB8IGN1dCAtZCd2JyAtZjIpIgogIExBU1RfTk9ERUpTX01BSk9SX1ZFUlNJT049IiQoCiAgICBwcmludGYgJyVzJyAiJExBU1RfTk9ERUpTX1ZFUlNJT04iIHwgY3V0IC1kJy4nIC1mMSkiCiAgcHJpbnRmICIgKHYlcykgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iICIkTEFTVF9OT0RFSlNfVkVSU0lPTiIKfQpmdW5jdGlvbiBpbnN0YWxsTm9kZUpTKCkgewogIGlmIFsgLW4gIiQxIiBdOyB0aGVuCiAgICBwcmludGYgIiAgJXMgKHYlcykuLi4iICIkX01TR19JTlNUQUxMSU5HX05PREVKUyIgIiQxIgogIGVsc2UKICAgIHByaW50ZiAiICAlcyAodiVzKS4uLiIgIiRfTVNHX0lOU1RBTExJTkdfTk9ERUpTIiAiJDIiCiAgZmk7CiAgSU5TVEFMTF9OT0RFSlNfU1RERVJSPSQoCiAgICBjdXJsIC1zTCAiaHR0cHM6Ly9kZWIubm9kZXNvdXJjZS5jb20vc2V0dXBfJDIueCIgfCAgICAgc3VkbyBiYXNoICAgICAyPiYxID4gL2Rldi9udWxsKQogIElOU1RBTExfTk9ERUpTX0VYSVRfQ09ERT0kPwogIGlmIFsgJElOU1RBTExfTk9ERUpTX0VYSVRfQ09ERSAtbmUgMCBdOyB0aGVuCiAgICBwcmludGYgIiBcZVs5MW1ceEUyXHg5Q1x4OTVcZVszOW1cbiIgPiYyCiAgICBwcmludGYgIlxuJXM6XG4gJXNcbiIgIiRfTVNHX0VSUk9SX0lOU1RBTExJTkdfTk9ERUpTIiAiJElOU1RBTExfTk9ERUpTX1NUREVSUiIgPiYyCiAgICBwcmludGYgIiVzOiAlc1xuIiAiJF9NU0dfRVJST1JfQ09ERSIgIiRJTlNUQUxMX05PREVKU19FWElUX0NPREUiID4mMgogICAgZXhpdCAkSU5TVEFMTF9OT0RFSlNfRVhJVF9DT0RFCiAgZmk7CiAgc3VkbyBwYWNtYW4gLVMgLS0gLXkgbm9kZWpzID4gL2Rldi9udWxsIHx8IGV4aXQgJD8KICBpZiBbIC1kICIkSE9NRS8uY29uZmlnIiBdOyB0aGVuCiAgICBzdWRvIGNob3duIC1SICIkVVNFUjokKGlkIC1nbiAiJFVTRVIiKSIgIiRIT01FLy5jb25maWciCiAgZmk7CiAgcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCn0KX05PREVKU19JTlNUQUxMRUQ9MApmdW5jdGlvbiBjaGVja05vZGVKU0luc3RhbGxlZCgpIHsKICBpZiBbICIkKHN1ZG8gcGFjbWFuIC1RaSBub2RlanMgMj4gL2Rldi9udWxsIHwgZ3JlcCBTdGF0dXMpIiA9ICJTdGF0dXM6IGluc3RhbGwgb2sgaW5zdGFsbGVkIiBdIHx8IFsgLW4gIiQoY29tbWFuZCAtdiBub2RlKSIgXTsgdGhlbgogICAgX05PREVKU19JTlNUQUxMRUQ9MQogIGZpOwp9Cl9OT0RFSlNfSU5TVEFMTEVEX0JZX05PREVTT1VSQ0U9MApmdW5jdGlvbiBjaGVja05vZGVKU05vZGVzb3VyY2VJbnN0YWxsYXRpb24oKSB7CiAgaWYgWyAtZiAiL2V0Yy9hcHQvc291cmNlcy5saXN0LmQvbm9kZXNvdXJjZS5saXN0IiBdOyB0aGVuCiAgICBfTk9ERUpTX0lOU1RBTExFRF9CWV9OT0RFU09VUkNFPTEKICBmaTsKfQpfTk9ERUpTX0lOU1RBTExFRF9WRVJTSU9OPSIiCl9OT0RFSlNfSU5TVEFMTEVEX01BSk9SX1ZFUlNJT049IiIKZnVuY3Rpb24gZ2V0Tm9kZUpTSW5zdGFsbGVkVmVyc2lvbigpIHsKICBfTk9ERUpTX0lOU1RBTExFRF9WRVJTSU9OPSIkKG5vZGUgLXYgfCBjdXQgLWQndicgLWYyKSIKICBfTk9ERUpTX0lOU1RBTExFRF9NQUpPUl9WRVJTSU9OPSIkKHByaW50ZiAiJXMiICIkX05PREVKU19JTlNUQUxMRURfVkVSU0lPTiIgfCBjdXQgLWQnLicgLWYxKSIKfQpmdW5jdGlvbiB1bmluc3RhbGxOb2Rlc291cmNlTm9kZUpTKCkgewogIHByaW50ZiAiICAlcyAodiVzKS4uLiIgIiRfTVNHX1VOSU5TVEFMTElOR19OT0RFSlMiICIkX05PREVKU19JTlNUQUxMRURfVkVSU0lPTiIKICBlY2hvIHkgfCBzdWRvIHBhY21hbiAtUnNuIG5vZGVqcyA+IC9kZXYvbnVsbCB8fCBleGl0ICQ/CiAgX1BHREdfU09VUkNFU19FWFRTPSgKICAgICJsaXN0IgogICAgInNhdmUiCiAgICAiZGlzdFVwZ3JhZGUiCiAgKQogIGZvciBFWFQgaW4gIiR7X1BHREdfU09VUkNFU19FWFRTW0BdfSI7IGRvCiAgICBzdWRvIHJtIC1mICIvZXRjL2FwdC9zb3VyY2VzLmxpc3QuZC9ub2Rlc291cmNlLiRFWFQiCiAgZG9uZQogIHByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgp9CmZ1bmN0aW9uIG1haW4oKSB7CiAgc3VkbyBwcmludGYgIiIKICBpbnN0YWxsUGFjbWFuSWZOb3RJbnN0YWxsZWQKICBnZXRVbml4RGlzdHJvCiAgY2hlY2tVbml4RGlzdHJvCiAgcHJpbnRJbmRlbnQKICBwcmludGYgIiVzXG4iICIkX01TR19TRVRUSU5HX1VQX05PREVKU19FQ09TWVNURU0iCiAgaW5zdGFsbEluc3RhbGxhdGlvbkRlcGVuZGVuY2llcwogIGNoZWNrTm9kZUpTSW5zdGFsbGVkCiAgaWYgWyAiJF9OT0RFSlNfSU5TVEFMTEVEIiAtZXEgMCBdOyB0aGVuCiAgICByZXRyaWV2ZUxhc3ROb2RlSlNWZXJzaW9uCiAgICBpbnN0YWxsTm9kZUpTICIkTEFTVF9OT0RFSlNfVkVSU0lPTiIgIiRMQVNUX05PREVKU19NQUpPUl9WRVJTSU9OIgogIGVsc2UKICAgIGdldE5vZGVKU0luc3RhbGxlZFZlcnNpb24KICAgIHByaW50ZiAiICAlcyAodiVzKSIgIiRfTVNHX0ZPVU5EX05PREVKU19JTlNUQUxMRUQiICIkX05PREVKU19JTlNUQUxMRURfVkVSU0lPTiIKICAgIHByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgogICAgaWYgWyAtbiAiJF9WRVJTSU9OIiBdICYmIFsgIiRfVkVSU0lPTiIgIT0gIiRfTk9ERUpTX0lOU1RBTExFRF9NQUpPUl9WRVJTSU9OIiBdICYmIFsgIiRfVVBHUkFERSIgLWVxIDAgXTsgdGhlbgogICAgICBwcmludGYgIiAgJXNcbiIgIiRfTVNHX01VU1RfUEFTU19VUEdSQURFX09QVElPTiIKICAgIGZpOwogICAgaWYgWyAiJF9VUEdSQURFIiAtZXEgMCBdOyB0aGVuCiAgICAgIGV4aXQgMAogICAgZmk7CiAgICBpZiBbIC16ICIkX1ZFUlNJT04iIF07IHRoZW4KICAgICAgcmV0cmlldmVMYXN0Tm9kZUpTVmVyc2lvbgogICAgICBfVkVSU0lPTj0iJExBU1RfTk9ERUpTX01BSk9SX1ZFUlNJT04iCiAgICBmaTsKICAgIGlmIFsgIiRfTk9ERUpTX0lOU1RBTExFRF9NQUpPUl9WRVJTSU9OIiA9ICIkX1ZFUlNJT04iIF07IHRoZW4KICAgICAgcHJpbnRmICIgICVzICh2JXMpIiAiJF9NU0dfTk9ERUpTX0lTX1VQREFURUQiICIkX05PREVKU19JTlNUQUxMRURfVkVSU0lPTiIKICAgICAgcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCiAgICAgIGV4aXQgMAogICAgZmk7CiAgICBjaGVja05vZGVKU05vZGVzb3VyY2VJbnN0YWxsYXRpb24KICAgIGlmIFsgIiRfTk9ERUpTX0lOU1RBTExFRF9CWV9OT0RFU09VUkNFIiAtZXEgMSBdOyB0aGVuCiAgICAgIHVuaW5zdGFsbE5vZGVzb3VyY2VOb2RlSlMKICAgICAgaW5zdGFsbE5vZGVKUyAiJExBU1RfTk9ERUpTX1ZFUlNJT04iICIkX1ZFUlNJT04iCiAgICBlbHNlCiAgICAgIHByaW50ZiAiICAlcyIgIiRfTVNHX05PREVKU19JTlNUQUxMRURfQllfQU5PVEhFUl9TT1VSQ0UiID4mMgogICAgICBwcmludGYgIiAiID4mMgogICAgICBwcmludGYgIiVzIiAiJF9NU0dfVU5JTlNUQUxMX01BTlVBTExZX05PREVKU19CRUZPUkVfUlVOIiA+JjIKICAgICAgcHJpbnRmICIgXGVbOTFtXHhFMlx4OUNceDk1XGVbMzltXG4iID4mMgogICAgZmk7CiAgZmk7Cn0KaWYgKHJldHVybiAwIDI+L2Rldi9udWxsKTsgdGhlbgogIGV4cG9ydFZhcmlhYmxlcwplbHNlCiAgbWFpbgpmaTs='
if (return 0 2>/dev/null); then
  source <(printf "%s" "$H" | base64 -d)
else
  echo "$(echo "$H" | base64 -d)" | bash -s -- "$@"
fi;
