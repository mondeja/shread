#!/bin/bash
source <(printf 'IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfTVNHX0VYRUNVVEVEX0FTX1NVUEVSVVNFUj0iVGhpcyBzY3JpcHQgbmVlZHMgdG8gYmUgZXhlY3V0ZWQgYXMgc3VwZXJ1c2VyLiIKX01TR19TRVRUSU5HX1JFRElTX0VDT1NZU1RFTT0iU2V0dGluZyB1cCBSZWRpcyBlY29zeXN0ZW0uLi4iCl9NU0dfQ0hFQ0tJTkdfUEFDS0FHRVM9IkNoZWNraW5nIHBhY2thZ2VzLi4uIgpfTVNHX0NIRUNLSU5HX1NFUlZJQ0VfQ09ORklHPSJDaGVja2luZyBzZXJ2aWNlIGNvbmZpZ3VyYXRpb24uLi4iCl9NU0dfSVRTX0VOQUJMRUQ9Ikl0J3MgZW5hYmxlZCIKX01TR19FUlJPUl9FTkFCTElOR19TRVJWSUNFPSJBbiBlcnJvciBoYXBwZW4gZW5hYmxpbmcgJ3JlZGlzLXNlcnZlcicgc2VydmljZS4iCl9NU0dfRVhJVF9DT0RFPSJFeGl0IGNvZGUiCl9NU0dfRVJST1I9IkVycm9yIgpfTVNHX0lUU19SVU5OSU5HPSJJdCdzIHJ1bm5pbmciCl9NU0dfU0VSVklDRV9DT1VMRE5UX0JFX1NUQVJURUQ9IlRoZSBzZXJ2aWNlICdyZWRpcy1zZXJ2ZXInIGNvdWxkIG5vdCBiZSBzdGFydGVkLiIKX01TR19JVFNfT05fU1RBVEU9Ikl0J3Mgb24gc3RhdGUiCmlmIFtbICQoL3Vzci9iaW4vaWQgLXUpIC1uZSAwIF1dOyB0aGVuCiAgcHJpbnRmICIlc1xuIiAiJF9NU0dfRVhFQ1VURURfQVNfU1VQRVJVU0VSIiA+JjIKICBleGl0IDEKZmk7Cl9QUkVQRU5EX1NURE9VVF9TVFJJTkc9IiIKZm9yIGFyZyBpbiAiJEAiOyBkbwogIGNhc2UgJGFyZyBpbgogICAgLS1wcmVwZW5kLXN0ZG91dCkKICAgIHNoaWZ0CiAgICBfUFJFUEVORF9TVERPVVRfU1RSSU5HPSQxCiAgICBzaGlmdAogICAgOzsKICBlc2FjCmRvbmUKZnVuY3Rpb24gcHJpbnRQcmVwZW5kZWRTdGRvdXQoKSB7CiAgcHJpbnRmICIlcyIgIiRfUFJFUEVORF9TVERPVVRfU1RSSU5HIgp9CnByaW50UHJlcGVuZGVkU3Rkb3V0CnByaW50ZiAiJXNcbiIgIiRfTVNHX1NFVFRJTkdfUkVESVNfRUNPU1lTVEVNIgpwcmludFByZXBlbmRlZFN0ZG91dApwcmludGYgIiAgJXNcbiIgIiRfTVNHX0NIRUNLSU5HX1BBQ0tBR0VTIgpwcmludFByZXBlbmRlZFN0ZG91dApwcmludGYgIiAgICByZWRpcy1zZXJ2ZXIiCmlmIFtbICIkKHN1ZG8gZHBrZyAtcyByZWRpcy1zZXJ2ZXIgMj4gL2Rldi9udWxsIHwgZ3JlcCBTdGF0dXMpIiAhPSAiU3RhdHVzOiBpbnN0YWxsIG9rIGluc3RhbGxlZCIgXV07IHRoZW4KICBzdWRvIGFwdC1nZXQgaW5zdGFsbCAteSAtcXFxIHJlZGlzLXNlcnZlciA+IC9kZXYvbnVsbCB8fCBleGl0ICQ/CmZpOwpfUkVESVNfU0VSVkVSX1ZFUlNJT049JChyZWRpcy1zZXJ2ZXIgLS12ZXJzaW9uIHwgY3V0IC1kJz0nIC1mMiB8IGN1dCAtZCcgJyAtZjEpCnByaW50ZiAiICh2JXMpIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIiAiJF9SRURJU19TRVJWRVJfVkVSU0lPTiIKcHJpbnRQcmVwZW5kZWRTdGRvdXQKcHJpbnRmICIgICVzXG4iICIkX01TR19DSEVDS0lOR19TRVJWSUNFX0NPTkZJRyIKcHJpbnRQcmVwZW5kZWRTdGRvdXQKcHJpbnRmICIgICAgJXMiICIkX01TR19JVFNfRU5BQkxFRCIKX1JFRElTX1NFUlZJQ0VfRU5BQkxFRF9GT1VORD0kKHN5c3RlbWN0bCBsaXN0LXVuaXQtZmlsZXMgfCBncmVwIGVuYWJsZWQgfCBncmVwIHJlZGlzLXNlcnZlcikKaWYgWyAiJF9SRURJU19TRVJWSUNFX0VOQUJMRURfRk9VTkQiID0gIiIgXTsgdGhlbgogIF9FTkFCTEVfUkVESVNfU0VSVkVSX09VVFBVVD0kKAogICAgc3VkbyBzeXN0ZW1jdGwgZW5hYmxlIHJlZGlzLXNlcnZlci5zZXJ2aWNlIDI+JjEgPiAvZGV2L251bGwKICApCiAgX0VOQUJMRV9SRURJU19TRVJWRVJfRVhJVF9DT0RFPSQ/CiAgaWYgWyAkX0VOQUJMRV9SRURJU19TRVJWRVJfRVhJVF9DT0RFIC1uZSAwIF07IHRoZW4KICAgIHByaW50ZiAiIFxlWzkxbVx4RTJceDlDXHg5NVxlWzM5bVxuIiA+JjIKICAgIHByaW50ZiAiJXNcbiIgIiRfTVNHX0VSUk9SX0VOQUJMSU5HX1NFUlZJQ0UiID4mMgogICAgcHJpbnRmICIlczogJXNcbiIgIiRfTVNHX0VYSVRfQ09ERSIgIiRfRU5BQkxFX1JFRElTX1NFUlZFUl9FWElUX0NPREUiID4mMgogICAgcHJpbnRmICIlczogJXNcbiIgIiRfTVNHX0VSUk9SIiAiJF9FTkFCTEVfUkVESVNfU0VSVkVSX09VVFBVVCIgPiYyCiAgICBleGl0ICRfRU5BQkxFX1JFRElTX1NFUlZFUl9FWElUX0NPREUKICBmaTsKZmk7CnByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgpwcmludFByZXBlbmRlZFN0ZG91dApwcmludGYgIiAgICAlcyIgIiRfTVNHX0lUU19SVU5OSU5HIgpfUkVESVNfU0VSVklDRV9TVEFUVVM9JCgKICBzdWRvIHN5c3RlbWN0bCBzaG93IC1wIEFjdGl2ZVN0YXRlIHJlZGlzLXNlcnZlciB8IFwKICBjdXQgLWQnPScgLWYyIHwgXAogIHRyIC1kICdcbicpCmlmIFsgIiRfUkVESVNfU0VSVklDRV9TVEFUVVMiICE9ICJhY3RpdmUiIF07IHRoZW4KICBzdWRvIHN5c3RlbWN0bCBzdGFydCByZWRpcy1zZXJ2ZXIgPiAvZGV2L251bGwKICBfUkVESVNfU0VSVklDRV9TVEFSVEVEPSQ/CiAgaWYgWyAkX1JFRElTX1NFUlZJQ0VfU1RBUlRFRCAtbmUgMCBdOyB0aGVuCiAgICBwcmludGYgIiBcZVs5MW1ceEUyXHg5Q1x4OTVcZVszOW1cbiIgPiYyCiAgICBwcmludGYgIiVzXG4iICIkX01TR19TRVJWSUNFX0NPVUxETlRfQkVfU1RBUlRFRCIgPiYyCiAgICBwcmludGYgIiVzICclcycuXG4iICIkX01TR19JVFNfT05fU1RBVEUiICIkX1JFRElTX1NFUlZJQ0VfU1RBVFVTIiA+JjIKICAgIGV4aXQgJF9SRURJU19TRVJWSUNFX1NUQVJURUQKICBmaTsKZmk7CnByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgo=' | base64 -d)
