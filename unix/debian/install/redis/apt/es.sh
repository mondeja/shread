#!/bin/bash
source <(printf 'IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfTVNHX0VYRUNVVEVEX0FTX1NVUEVSVVNFUj0iRXN0ZSBzY3JpcHQgbmVjZXNpdGEgc2VyIGVqZWN1dGFkbyBjb21vIHN1cGVydXN1YXJpby4iCl9NU0dfU0VUVElOR19SRURJU19FQ09TWVNURU09IkNvbmZpZ3VyYW5kbyBlY29zaXN0ZW1hIFJlZGlzLi4uIgpfTVNHX0NIRUNLSU5HX1BBQ0tBR0VTPSJDb21wcm9iYW5kbyBwYXF1ZXRlcy4uLiIKX01TR19DSEVDS0lOR19TRVJWSUNFX0NPTkZJRz0iQ29tcHJvYmFuZG8gY29uZmlndXJhY2nDs24gZGVsIHNlcnZpY2lvLi4uIgpfTVNHX0lUU19FTkFCTEVEPSJFc3TDoSBoYWJpbGl0YWRvIgpfTVNHX0VSUk9SX0VOQUJMSU5HX1NFUlZJQ0U9Ik9jdXJyacOzIHVuIGVycm9yIGhhYmlsaXRhbmRvIGVsIHNlcnZpY2lvICdyZWRpcy1zZXJ2ZXInLiIKX01TR19FWElUX0NPREU9IkPDs2RpZ28gZGUgc2FsaWRhIgpfTVNHX0VSUk9SPSJFcnJvciIKX01TR19JVFNfUlVOTklORz0iRXN0YSBlbiBlamVjdWNpw7NuIgpfTVNHX1NFUlZJQ0VfQ09VTEROVF9CRV9TVEFSVEVEPSJFbCBzZXJ2aWNpbyAncmVkaXMtc2VydmVyJyBubyBwdWRvIHNlciBpbmljaWFkby4iCl9NU0dfSVRTX09OX1NUQVRFPSJTZSBlbmN1ZW50cmEgZW4gZXN0YWRvIgppZiBbWyAkKC91c3IvYmluL2lkIC11KSAtbmUgMCBdXTsgdGhlbgogIHByaW50ZiAiJXNcbiIgIiRfTVNHX0VYRUNVVEVEX0FTX1NVUEVSVVNFUiIgPiYyCiAgZXhpdCAxCmZpOwpJTkRFTlRfU1RSSU5HPSIiCmZvciBhcmcgaW4gIiRAIjsgZG8KICBjYXNlICRhcmcgaW4KICAgIC0taW5kZW50KQogICAgc2hpZnQKICAgIElOREVOVF9TVFJJTkc9JDEKICAgIHNoaWZ0CiAgICA7OwogIGVzYWMKZG9uZQpmdW5jdGlvbiBwcmludFByZXBlbmRlZFN0ZG91dCgpIHsKICBwcmludGYgIiVzIiAiJElOREVOVF9TVFJJTkciCn0KcHJpbnRQcmVwZW5kZWRTdGRvdXQKcHJpbnRmICIlc1xuIiAiJF9NU0dfU0VUVElOR19SRURJU19FQ09TWVNURU0iCnByaW50UHJlcGVuZGVkU3Rkb3V0CnByaW50ZiAiICAlc1xuIiAiJF9NU0dfQ0hFQ0tJTkdfUEFDS0FHRVMiCnByaW50UHJlcGVuZGVkU3Rkb3V0CnByaW50ZiAiICAgIHJlZGlzLXNlcnZlciIKaWYgW1sgIiQoc3VkbyBkcGtnIC1zIHJlZGlzLXNlcnZlciAyPiAvZGV2L251bGwgfCBncmVwIFN0YXR1cykiICE9ICJTdGF0dXM6IGluc3RhbGwgb2sgaW5zdGFsbGVkIiBdXTsgdGhlbgogIHN1ZG8gYXB0LWdldCBpbnN0YWxsIC15IC1xcXEgcmVkaXMtc2VydmVyID4gL2Rldi9udWxsIHx8IGV4aXQgJD8KZmk7Cl9SRURJU19TRVJWRVJfVkVSU0lPTj0kKHJlZGlzLXNlcnZlciAtLXZlcnNpb24gfCBjdXQgLWQnPScgLWYyIHwgY3V0IC1kJyAnIC1mMSkKcHJpbnRmICIgKHYlcykgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iICIkX1JFRElTX1NFUlZFUl9WRVJTSU9OIgpwcmludFByZXBlbmRlZFN0ZG91dApwcmludGYgIiAgJXNcbiIgIiRfTVNHX0NIRUNLSU5HX1NFUlZJQ0VfQ09ORklHIgpwcmludFByZXBlbmRlZFN0ZG91dApwcmludGYgIiAgICAlcyIgIiRfTVNHX0lUU19FTkFCTEVEIgpfUkVESVNfU0VSVklDRV9FTkFCTEVEX0ZPVU5EPSQoc3lzdGVtY3RsIGxpc3QtdW5pdC1maWxlcyB8IGdyZXAgZW5hYmxlZCB8IGdyZXAgcmVkaXMtc2VydmVyKQppZiBbICIkX1JFRElTX1NFUlZJQ0VfRU5BQkxFRF9GT1VORCIgPSAiIiBdOyB0aGVuCiAgX0VOQUJMRV9SRURJU19TRVJWRVJfT1VUUFVUPSQoCiAgICBzdWRvIHN5c3RlbWN0bCBlbmFibGUgcmVkaXMtc2VydmVyLnNlcnZpY2UgMj4mMSA+IC9kZXYvbnVsbAogICkKICBfRU5BQkxFX1JFRElTX1NFUlZFUl9FWElUX0NPREU9JD8KICBpZiBbICRfRU5BQkxFX1JFRElTX1NFUlZFUl9FWElUX0NPREUgLW5lIDAgXTsgdGhlbgogICAgcHJpbnRmICIgXGVbOTFtXHhFMlx4OUNceDk1XGVbMzltXG4iID4mMgogICAgcHJpbnRmICIlc1xuIiAiJF9NU0dfRVJST1JfRU5BQkxJTkdfU0VSVklDRSIgPiYyCiAgICBwcmludGYgIiVzOiAlc1xuIiAiJF9NU0dfRVhJVF9DT0RFIiAiJF9FTkFCTEVfUkVESVNfU0VSVkVSX0VYSVRfQ09ERSIgPiYyCiAgICBwcmludGYgIiVzOiAlc1xuIiAiJF9NU0dfRVJST1IiICIkX0VOQUJMRV9SRURJU19TRVJWRVJfT1VUUFVUIiA+JjIKICAgIGV4aXQgJF9FTkFCTEVfUkVESVNfU0VSVkVSX0VYSVRfQ09ERQogIGZpOwpmaTsKcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCnByaW50UHJlcGVuZGVkU3Rkb3V0CnByaW50ZiAiICAgICVzIiAiJF9NU0dfSVRTX1JVTk5JTkciCl9SRURJU19TRVJWSUNFX1NUQVRVUz0kKAogIHN1ZG8gc3lzdGVtY3RsIHNob3cgLXAgQWN0aXZlU3RhdGUgcmVkaXMtc2VydmVyIHwgXAogIGN1dCAtZCc9JyAtZjIgfCBcCiAgdHIgLWQgJ1xuJykKaWYgWyAiJF9SRURJU19TRVJWSUNFX1NUQVRVUyIgIT0gImFjdGl2ZSIgXTsgdGhlbgogIHN1ZG8gc3lzdGVtY3RsIHN0YXJ0IHJlZGlzLXNlcnZlciA+IC9kZXYvbnVsbAogIF9SRURJU19TRVJWSUNFX1NUQVJURUQ9JD8KICBpZiBbICRfUkVESVNfU0VSVklDRV9TVEFSVEVEIC1uZSAwIF07IHRoZW4KICAgIHByaW50ZiAiIFxlWzkxbVx4RTJceDlDXHg5NVxlWzM5bVxuIiA+JjIKICAgIHByaW50ZiAiJXNcbiIgIiRfTVNHX1NFUlZJQ0VfQ09VTEROVF9CRV9TVEFSVEVEIiA+JjIKICAgIHByaW50ZiAiJXMgJyVzJy5cbiIgIiRfTVNHX0lUU19PTl9TVEFURSIgIiRfUkVESVNfU0VSVklDRV9TVEFUVVMiID4mMgogICAgZXhpdCAkX1JFRElTX1NFUlZJQ0VfU1RBUlRFRAogIGZpOwpmaTsKcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCg==' | base64 -d)
