#!/bin/bash
H='IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfU0NSSVBUX0ZJTEVOQU1FPWVzLnNoCiMhL2Jpbi9iYXNoCl9NU0dfQUxSRUFEWV9JTlNUQUxMRUQ9IiIKX01TR19DSEVDS0lOR19BVE9NPSIiCl9NU0dfRVJST1JfT0JUQUlOSU5HX0FUT01fUFVCTElDX0tFWT0iIgpfTVNHX0FERElOR19SRVBPPSIiCl9NU0dfVVBEQVRJTkdfUEFDS0FHRVM9IiIKX01TR19BVE9NX0ZPVU5EPSIiCl9NU0dfUlVOTklOR19JTlNUQUxMQVRJT05fU0NSSVBUPSIiCl9NU0dfRVJST1JfSU5TVEFMTElOR19BVE9NPSIiCklOREVOVF9TVFJJTkc9IiIKZnVuY3Rpb24gdXNhZ2UgewogICAgY2F0IDw8SEVMUF9VU0FHRQpVc286IHVuaXgvZGViaWFuL2luc3RhbGwvYXRvbS8kX1NDUklQVF9GSUxFTkFNRSBbLWhdIFstaSBTVFJJTkddIAoKICBJbnN0YWxscyBBdG9tIHVzaW5nIGh0dHBzOi8vcGFja2FnZWNsb3VkLmlvL0F0b21FZGl0b3IgcmVwb3NpdG9yeSBhcyBzb3VyY2UuCgpPcGNpb25lczoKICAtaCwgLS1oZWxwICAgICAgICAgICAgICAgICAgICAgICAgU2hvdyB0aGlzIGhlbHAgbWVzc2FnZSBhbmQgZXhpdC4KICAtaSBTVFJJTkcsIC0taW5kZW50IFNUUklORyAgICAgICAgRWFjaCBsaW5lIG9mIHRoZSBzY3JpcHQgb3V0cHV0IHdpbGwgYmUgcHJlY2VkZWQgd2l0aCB0aGUgc3RyaW5nIGRlZmluZWQgaW4gdGhpcyBwYXJhbWV0ZXIuCkhFTFBfVVNBR0UKICAgIGV4aXQgMQp9CmZvciBhcmcgaW4gIiRAIjsgZG8KICBjYXNlICRhcmcgaW4KICAgIC1pfC0taW5kZW50KQogICAgSU5ERU5UX1NUUklORz0iJDIiCiAgICBzaGlmdCAyCiAgICA7OwogICAgLWh8LS1oZWxwKQogICAgc2hpZnQKICAgIHVzYWdlCiAgICA7OyAgICAgIGVzYWMKZG9uZQpmdW5jdGlvbiBwcmludEluZGVudCgpIHsKICBwcmludGYgIiVzIiAiJElOREVOVF9TVFJJTkciCn0KZnVuY3Rpb24gaW5zdGFsbFBhY21hbklmTm90SW5zdGFsbGVkKCkgewogIGlmIFsgIiQoY29tbWFuZCAtdiBwYWNtYW4pIiA9ICIiIF07IHRoZW4KICAgIHVybD0iaHR0cHM6Ly9tb25kZWphLmdpdGh1Yi5pby9zaHJlYWQvdW5peC9fL2Rvd25sb2FkL3BhY2FwdC8kX1NDUklQVF9GSUxFTkFNRSIKICAgIGN1cmwgLXNMICIkdXJsIiB8IHN1ZG8gYmFzaCAtID4gL2Rldi9udWxsCiAgZmk7Cn0KZnVuY3Rpb24gaW5zdGFsbFNjcmlwdERlcGVuZGVuY2llcygpIHsKICBpbnN0YWxsUGFjbWFuSWZOb3RJbnN0YWxsZWQKICBJTlNUQUxMQVRJT05fREVQRU5ERU5DSUVTPSgKICAgICJ3Z2V0IgogICAgImpxIgogICAgImdudXBnMiIKICApCiAgZm9yIERFUCBpbiAiJHtJTlNUQUxMQVRJT05fREVQRU5ERU5DSUVTW0BdfSI7IGRvCiAgICBpZiBbWyAiJChzdWRvIHBhY21hbiAtUWkgIiRERVAiIDI+IC9kZXYvbnVsbCB8IGdyZXAgU3RhdHVzKSIgIT0gIlN0YXR1czogaW5zdGFsbCBvayBpbnN0YWxsZWQiIF1dOyB0aGVuCiAgICAgIHN1ZG8gcGFjbWFuIC1TIC0tIC15ICIkREVQIiA+IC9kZXYvbnVsbCB8fCBleGl0ICQ/CiAgICBmaTsKICBkb25lOwp9CmZ1bmN0aW9uIHNpZ25BdG9tR3BnS2V5KCkgewogIFNJR05fQVRPTV9HUEdfS0VZX1NUREVSUj0kKAogICAgd2dldCAtcU8gLSBodHRwczovL3BhY2thZ2VjbG91ZC5pby9BdG9tRWRpdG9yL2F0b20vZ3Bna2V5IHwgICAgIHN1ZG8gYXB0LWtleSBhZGQgLSAyPiYxID4gL2Rldi9udWxsKQogIFNJR05fQVRPTV9HUEdfS0VZX0VYSVRfQ09ERT0kPwogIGlmIFsgJFNJR05fQVRPTV9HUEdfS0VZX0VYSVRfQ09ERSAtbmUgMCBdOyB0aGVuCiAgICBwcmludGYgIiBcZVs5MW1ceEUyXHg5Q1x4OTVcZVszOW1cbiIgPiYyCiAgICBwcmludGYgIlxuJXNcbiIgIiRfTVNHX0VSUk9SX09CVEFJTklOR19BVE9NX1BVQkxJQ19LRVkiID4mMgogICAgcHJpbnRmICIlc1xuIiAiJFNJR05fQVRPTV9HUEdfS0VZX1NUREVSUiIgPiYyCiAgICBleGl0ICRTSUdOX0FUT01fR1BHX0tFWV9FWElUX0NPREUKICBmaTsKfQpmdW5jdGlvbiBhZGRBdG9tUmVwb3NpdG9yeVRvU291cmNlcygpIHsKICBpZiBbICEgLWYgIi9ldGMvYXB0L3NvdXJjZXMubGlzdC5kL2F0b20ubGlzdCIgXTsgdGhlbgogICAgQVJDSD0iYW1kNjQiCiAgICBjYXNlICQodW5hbWUgLW0pIGluCiAgICAgICAgaTM4NikgICBBUkNIPSIzODYiIDs7CiAgICAgICAgaTY4NikgICBBUkNIPSIzODYiIDs7CiAgICAgICAgeDg2XzY0KSBBUkNIPSJhbWQ2NCIgOzsKICAgICAgICBhcm0pICAgIGRwa2cgLS1wcmludC1hcmNoaXRlY3R1cmUgfCBncmVwIC1xICJhcm02NCIgJiYgQVJDSD0iYXJtNjQiIHx8IEFSQ0g9ImFybSIgOzsKICAgIGVzYWMKICAgIGVjaG8gICAgICAgImRlYiBbYXJjaD0ke0FSQ0h9XSBodHRwczovL3BhY2thZ2VjbG91ZC5pby9BdG9tRWRpdG9yL2F0b20vYW55LyBhbnkgbWFpbiIgICAgICAgfCBzdWRvIHRlZSAvZXRjL2FwdC9zb3VyY2VzLmxpc3QuZC9hdG9tLmxpc3QKICBmaTsKfQpmdW5jdGlvbiB1cGRhdGVQYWNrYWdlcygpIHsKICBzdWRvIHBhY21hbiB1cGRhdGUgPiAvZGV2L251bGwKfQpBVE9NX1ZFUlNJT049IiIKZnVuY3Rpb24gZ2V0QXRvbVZlcnNpb24oKSB7CiAgQVRPTV9WRVJTSU9OPSIkKHBhY21hbiAtU2kgYXRvbSB8IGdyZXAgVmVyc2lvbjogfCBoZWFkIC1uIDEgfCBjdXQgLWQgJyAnIC1mMikiCn0KZnVuY3Rpb24gaW5zdGFsbEF0b20oKSB7CiAgcHJpbnRJbmRlbnQKICBwcmludGYgIiVzXG4iICIkX01TR19DSEVDS0lOR19BVE9NIgogIGluc3RhbGxTY3JpcHREZXBlbmRlbmNpZXMKICBwcmludEluZGVudAogIHByaW50ZiAiICAlcy4uLiIgIiRfTVNHX0FERElOR19SRVBPIgogIHNpZ25BdG9tR3BnS2V5CiAgYWRkQXRvbVJlcG9zaXRvcnlUb1NvdXJjZXMKICBwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKICBwcmludEluZGVudAogIHByaW50ZiAiICAlcyIgIiRfTVNHX1VQREFUSU5HX1BBQ0tBR0VTIgogIHVwZGF0ZVBhY2thZ2VzCiAgcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCiAgZ2V0QXRvbVZlcnNpb24KICBpZiBbICIkQVRPTV9WRVJTSU9OIiAhPSAiIiBdOyB0aGVuCiAgICBwcmludEluZGVudAogICAgcHJpbnRmICIgICVzICh2JXMpIiAiJF9NU0dfQVRPTV9GT1VORCIgIiRBVE9NX1ZFUlNJT04iCiAgICBwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKICBmaTsKICBwcmludEluZGVudAogIHByaW50ZiAiICAlcyIgIiRfTVNHX1JVTk5JTkdfSU5TVEFMTEFUSU9OX1NDUklQVCIKICBJTlNUQUxMX0FUT01fU1RERVJSPSIkKHN1ZG8gcGFjbWFuIC1TIC0tIC15IGF0b20gPiAvZGV2L251bGwpIgogIElOU1RBTExfQVRPTV9FWElUX0NPREU9JD8KICBpZiBbICIkSU5TVEFMTF9BVE9NX0VYSVRfQ09ERSIgLW5lIDAgXTsgdGhlbgogICAgcHJpbnRmICIgXGVbOTFtXHhFMlx4OUNceDk1XGVbMzltXG4iID4mMgogICAgcHJpbnRmICJcbiVzIiAiJF9NU0dfRVJST1JfSU5TVEFMTElOR19BVE9NIiA+JjIKICAgIGlmIFsgIiRBVE9NX1ZFUlNJT04iICE9ICIiIF07IHRoZW4KICAgICAgcHJpbnRmICIgKHYlcykiICIkQVRPTV9WRVJTSU9OIiA+JjIKICAgIGZpOwogICAgcHJpbnRmICI6XG4lc1xuIiAiJElOU1RBTExfQVRPTV9TVERFUlIiID4mMgogICAgZXhpdCAkSU5TVEFMTF9BVE9NX0VYSVRfQ09ERQogIGZpOwogIHByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgp9CmZ1bmN0aW9uIHByaW50QXRvbUluc3RhbGxlZE1zZygpIHsKICBwcmludEluZGVudAogIEFUT01fVkVSU0lPTj0kKAogICAgYXBtIC12IHwgICAgIHNlZCAtbiA0cCB8ICAgICBjdXQgLWQnICcgLWYyIHwgICAgIHNlZCAtciAicy9ceDFCXFsoWzAtOV17MSwyfSg7WzAtOV17MSwyfSk/KT9bbUdLXS8vZyIpCiAgcHJpbnRmICJBdG9tIHYlcyAlcyIgIiRBVE9NX1ZFUlNJT04iICIkX01TR19BTFJFQURZX0lOU1RBTExFRCIKICBwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKfQpmdW5jdGlvbiBtYWluKCkgewogIEFUT01fQklOQVJZX1BBVEg9IiQoY29tbWFuZCAtdiBhdG9tKSIKICBpZiBbICIkQVRPTV9CSU5BUllfUEFUSCIgIT0gIiIgXTsgdGhlbgogICAgcHJpbnRBdG9tSW5zdGFsbGVkTXNnCiAgZWxzZQogICAgaW5zdGFsbEF0b20KICBmaTsKfQpmdW5jdGlvbiBleHBvcnRWYXJpYWJsZXMoKSB7CiAgc2lnbkF0b21HcGdLZXkKICBhZGRBdG9tUmVwb3NpdG9yeVRvU291cmNlcwogIHVwZGF0ZVBhY2thZ2VzCiAgZ2V0QXRvbVZlcnNpb24KICBleHBvcnQgQVRPTV9WRVJTSU9OCn0KaWYgKHJldHVybiAwIDI+L2Rldi9udWxsKTsgdGhlbgogIGV4cG9ydFZhcmlhYmxlcwplbHNlCiAgbWFpbgpmaTs='
if (return 0 2>/dev/null); then
  source <(printf "%s" "$H" | base64 -d)
else
  echo "$(echo "$H" | base64 -d)" | bash -s -- "$@"
fi;
