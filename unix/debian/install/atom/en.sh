#!/bin/bash
source <(printf 'IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfTVNHX0VYRUNVVEVEX0FTX1NVUEVSVVNFUj0iVGhpcyBzY3JpcHQgbmVlZHMgdG8gYmUgZXhlY3V0ZWQgYXMgc3VwZXJ1c2VyLiIKX01TR19BTFJFQURZX0lOU1RBTExFRD0iaXMgYWxyZWFkeSBpbnN0YWxsZWQiCl9NU0dfQ0hFQ0tJTkdfQVRPTT0iQ2hlY2tpbmcgQXRvbS4uLiIKX01TR19FUlJPUl9PQlRBSU5JTkdfQVRPTV9QVUJMSUNfS0VZPSJBbiBlcnJvciBoYXBwZW4gcmVyaWV2aW5nIEF0b20gcHVibGljIGtleToiCl9NU0dfQURESU5HX1JFUE89IkFkZGluZyByZXBvc2l0b3J5Li4uIgpfTVNHX1VQREFUSU5HX1BBQ0tBR0VTPSJVcGRhdGluZyBwYWNrYWdlcy4uLiIKX01TR19BVE9NX0ZPVU5EPSJBdG9tIGZvdW5kIgpfTVNHX1JVTk5JTkdfSU5TVEFMTEFUSU9OX1NDUklQVD0iUnVubmluZyBpbnN0YWxsYXRpb24gc2NyaXB0Li4uIgpfTVNHX0VSUk9SX0lOU1RBTExJTkdfQVRPTT0iQW4gZXJyb3IgaGFwcGVuIGluc3RhbGxpbmcgQXRvbSIKaWYgW1sgJCgvdXNyL2Jpbi9pZCAtdSkgLW5lIDAgXV07IHRoZW4KICBwcmludGYgIiVzXG4iICIkX01TR19FWEVDVVRFRF9BU19TVVBFUlVTRVIiID4mMgogIGV4aXQgMQpmaTsKSU5ERU5UX1NUUklORz0iIgpmb3IgYXJnIGluICIkQCI7IGRvCiAgY2FzZSAkYXJnIGluCiAgICAtLWluZGVudCkKICAgIHNoaWZ0CiAgICBJTkRFTlRfU1RSSU5HPSQxCiAgICBzaGlmdAogICAgOzsKICBlc2FjCmRvbmUKZnVuY3Rpb24gcHJpbnRJbmRlbnQoKSB7CiAgcHJpbnRmICIlcyIgIiRJTkRFTlRfU1RSSU5HIgp9CnByaW50SW5kZW50CkFUT01fQklOQVJZX1BBVEg9IiQoY29tbWFuZCAtdiBhdG9tKSIKaWYgWyAiJEFUT01fQklOQVJZX1BBVEgiICE9ICIiIF07IHRoZW4KICBBVE9NX1ZFUlNJT049JCgKICAgIGFwbSAtdiB8IFwKICAgIHNlZCAtbiA0cCB8IFwKICAgIGN1dCAtZCcgJyAtZjIgfCBcCiAgICBzZWQgLXIgInMvXHgxQlxbKFswLTldezEsMn0oO1swLTldezEsMn0pPyk/W21HS10vL2ciKQogIHByaW50ZiAiQXRvbSB2JXMgJXMiICIkQVRPTV9WRVJTSU9OIiAiJF9NU0dfQUxSRUFEWV9JTlNUQUxMRUQiCiAgcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCmVsc2UKICBwcmludGYgIiVzXG4iICIkX01TR19DSEVDS0lOR19BVE9NIgogIGlmIFsgIiQoY29tbWFuZCAtdiBwYWNtYW4pIiA9ICIiIF07IHRoZW4KICAgIFNDUklQVF9GSUxFTkFNRT0iJChiYXNlbmFtZSAiJDAiKSIKICAgIGlmIFsgIiRTQ1JJUFRfRklMRU5BTUUiID0gIm1haW4uc2giIF07IHRoZW4KICAgICAgZmlsZXBhdGg9InNyYy91bml4L18vZG93bmxvYWQvcGFjYXB0L21haW4uc2giCiAgICAgIGJhc2ggIiRmaWxlcGF0aCIgPiAvZGV2L251bGwKICAgIGVsc2UKICAgICAgdXJsPSJodHRwczovL21vbmRlamEuZ2l0aHViLmlvL3NocmVhZC91bml4L18vZG93bmxvYWQvcGFjYXB0LyRTQ1JJUFRfRklMRU5BTUUiCiAgICAgIGN1cmwgLXNMICIkdXJsIiB8IHN1ZG8gYmFzaCAtID4gL2Rldi9udWxsCiAgICBmaTsKICBmaTsKICBJTlNUQUxMQVRJT05fREVQRU5ERU5DSUVTPSgKICAgICJ3Z2V0IgogICAgImpxIgogICkKICBmb3IgREVQIGluICIke0lOU1RBTExBVElPTl9ERVBFTkRFTkNJRVNbQF19IjsgZG8KICAgIGlmIFtbICIkKHN1ZG8gcGFjbWFuIC1RaSAiJERFUCIgMj4gL2Rldi9udWxsIHwgZ3JlcCBTdGF0dXMpIiAhPSAiU3RhdHVzOiBpbnN0YWxsIG9rIGluc3RhbGxlZCIgXV07IHRoZW4KICAgICAgc3VkbyBwYWNtYW4gLVMgIiRERVAiID4gL2Rldi9udWxsIHx8IGV4aXQgJD8KICAgIGZpOwogIGRvbmU7CiAgcHJpbnRJbmRlbnQKICBwcmludGYgIiAgJXMuLi4iICIkX01TR19BRERJTkdfUkVQTyIKICBTSUdOX0FUT01fR1BHX0tFWV9TVERFUlI9JCgKICAgIHdnZXQgLXFPIC0gaHR0cHM6Ly9wYWNrYWdlY2xvdWQuaW8vQXRvbUVkaXRvci9hdG9tL2dwZ2tleSB8IFwKICAgIHN1ZG8gYXB0LWtleSBhZGQgLSAyPiYxID4gL2Rldi9udWxsKQogIFNJR05fQVRPTV9HUEdfS0VZX0VYSVRfQ09ERT0kPwogIGlmIFsgJFNJR05fQVRPTV9HUEdfS0VZX0VYSVRfQ09ERSAtbmUgMCBdOyB0aGVuCiAgICBwcmludGYgIiBcZVs5MW1ceEUyXHg5Q1x4OTVcZVszOW1cbiIgPiYyCiAgICBwcmludGYgIlxuJXNcbiIgIiRfTVNHX0VSUk9SX09CVEFJTklOR19BVE9NX1BVQkxJQ19LRVkiID4mMgogICAgcHJpbnRmICIlc1xuIiAiJFNJR05fQVRPTV9HUEdfS0VZX1NUREVSUiIgPiYyCiAgICBleGl0ICRTSUdOX0FUT01fR1BHX0tFWV9FWElUX0NPREUKICBmaTsKICBBUkNIPSJhbWQ2NCIKICBjYXNlICQodW5hbWUgLW0pIGluCiAgICAgIGkzODYpICAgQVJDSD0iMzg2IiA7OwogICAgICBpNjg2KSAgIEFSQ0g9IjM4NiIgOzsKICAgICAgeDg2XzY0KSBBUkNIPSJhbWQ2NCIgOzsKICAgICAgYXJtKSAgICBkcGtnIC0tcHJpbnQtYXJjaGl0ZWN0dXJlIHwgZ3JlcCAtcSAiYXJtNjQiICYmIEFSQ0g9ImFybTY0IiB8fCBBUkNIPSJhcm0iIDs7CiAgZXNhYwogIGVjaG8gXAogICAgImRlYiBbYXJjaD0ke0FSQ0h9XSBodHRwczovL3BhY2thZ2VjbG91ZC5pby9BdG9tRWRpdG9yL2F0b20vYW55LyBhbnkgbWFpbiIgXAogICAgfCBzdWRvIHRlZSAvZXRjL2FwdC9zb3VyY2VzLmxpc3QuZC9hdG9tLmxpc3QKICBwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKICBwcmludEluZGVudAogIHByaW50ZiAiICAlcyIgIiRfTVNHX1VQREFUSU5HX1BBQ0tBR0VTIgogIHN1ZG8gcGFjbWFuIHVwZGF0ZSA+IC9kZXYvbnVsbAogIHByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgogIEFUT01fVkVSU0lPTj0iJChwYWNtYW4gLVFpIGF0b20gfCBncmVwIFZlcnNpb24gfCBjdXQgLWQnICcgLWYyKSIKICBpZiBbICIkQVRPTV9WRVJTSU9OIiAhPSAiIiBdOyB0aGVuCiAgICBwcmludEluZGVudAogICAgcHJpbnRmICIgICVzICh2JXMpIiAiJF9NU0dfQVRPTV9GT1VORCIgIiRBVE9NX1ZFUlNJT04iCiAgICBwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKICBmaTsKICBwcmludEluZGVudAogIHByaW50ZiAiICAlcyIgIiRfTVNHX1JVTk5JTkdfSU5TVEFMTEFUSU9OX1NDUklQVCIKICBJTlNUQUxMX0FUT01fU1RERVJSPSIkKHN1ZG8gcGFjbWFuIC1TIGF0b20gPiAvZGV2L251bGwpIgogIElOU1RBTExfQVRPTV9FWElUX0NPREU9JD8KICBpZiBbICIkSU5TVEFMTF9BVE9NX0VYSVRfQ09ERSIgLW5lIDAgXTsgdGhlbgogICAgcHJpbnRmICIgXGVbOTFtXHhFMlx4OUNceDk1XGVbMzltXG4iID4mMgogICAgcHJpbnRmICJcbiVzIiAiJF9NU0dfRVJST1JfSU5TVEFMTElOR19BVE9NIiA+JjIKICAgIGlmIFsgIiRBVE9NX1ZFUlNJT04iICE9ICIiIF07IHRoZW4KICAgICAgcHJpbnRmICIgKHYlcykiICIkQVRPTV9WRVJTSU9OIiA+JjIKICAgIGZpOwogICAgcHJpbnRmICI6XG4lc1xuIiAiJElOU1RBTExfQVRPTV9TVERFUlIiID4mMgogICAgZXhpdCAkSU5TVEFMTF9BVE9NX0VYSVRfQ09ERQogIGZpOwogIHByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgpmaTsK' | base64 -d)
