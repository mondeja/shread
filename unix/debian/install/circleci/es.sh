#!/bin/bash
_SCRIPT_FILENAME="$(basename "$0")" source <(printf 'IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfTVNHX0VYRUNVVEVEX0FTX1NVUEVSVVNFUj0iRXN0ZSBzY3JpcHQgbmVjZXNpdGEgc2VyIGVqZWN1dGFkbyBjb21vIHN1cGVydXN1YXJpby4iCl9NU0dfSU5TVEFMTElOR19DSVJDTEVDST0iSW5zdGFsYW5kbyBDaXJjbGVDSSIKX01TR19VUERBVElOR19DSVJDTEVDST0iQWN0dWFsaXphbmRvIENpcmNsZUNJIgpfTVNHX0ZPVU5EX0NJUkNMRUNJX0lOU1RBTExFRD0iRW5jb250cmFkbyBDaXJjbGVDSSBpbnN0YWxhZG8iCmlmIFtbICQoL3Vzci9iaW4vaWQgLXUpIC1uZSAwIF1dOyB0aGVuCiAgcHJpbnRmICIlc1xuIiAiJF9NU0dfRVhFQ1VURURfQVNfU1VQRVJVU0VSIiA+JjIKICBleGl0IDEKZmk7CklOREVOVF9TVFJJTkc9IiIKZm9yIGFyZyBpbiAiJEAiOyBkbwogIGNhc2UgJGFyZyBpbgogICAgLS1pbmRlbnQpCiAgICBzaGlmdAogICAgSU5ERU5UX1NUUklORz0kMQogICAgc2hpZnQKICAgIDs7CiAgZXNhYwpkb25lCmZ1bmN0aW9uIHByaW50SW5kZW50KCkgewogIHByaW50ZiAiJXMiICIkSU5ERU5UX1NUUklORyIKfQppZiBbICIkKGNvbW1hbmQgLXYgcGFjbWFuKSIgPSAiIiBdOyB0aGVuCiAgaWYgWyAiJF9TQ1JJUFRfRklMRU5BTUUiID0gIm1haW4uc2giIF07IHRoZW4KICAgIGZpbGVwYXRoPSJzcmMvdW5peC9fL2Rvd25sb2FkL3BhY2FwdC9tYWluLnNoIgogICAgYmFzaCAiJGZpbGVwYXRoIiA+IC9kZXYvbnVsbAogIGVsc2UKICAgIHVybD0iaHR0cHM6Ly9tb25kZWphLmdpdGh1Yi5pby9zaHJlYWQvdW5peC9fL2Rvd25sb2FkL3BhY2FwdC8kX1NDUklQVF9GSUxFTkFNRSIKICAgIGN1cmwgLXNMICIkdXJsIiB8IHN1ZG8gYmFzaCAtID4gL2Rldi9udWxsCiAgZmk7CmZpOwppZiBbWyAiJChzdWRvIHBhY21hbiAtUWkgY3VybCAyPiAvZGV2L251bGwgfCBncmVwIFN0YXR1cykiICE9ICJTdGF0dXM6IGluc3RhbGwgb2sgaW5zdGFsbGVkIiBdXTsgdGhlbgogIHN1ZG8gcGFjbWFuIC1TIGN1cmwgPiAvZGV2L251bGwgfHwgZXhpdCAkPwpmaTsKX0NJUkNMRUNJX0JJTkFSWV9QQVRIPSIkKGNvbW1hbmQgLXYgY2lyY2xlY2kpIgpfQ0lSQ0xFQ0lfTEFURVNUX1JFTEVBU0VfVkVSU0lPTj0kKAogIGN1cmwgLXNMSSAtbyAvZGV2L251bGwgLXcgJyV7dXJsX2VmZmVjdGl2ZX0nIFwKICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9DaXJjbGVDSS1QdWJsaWMvY2lyY2xlY2ktY2xpL3JlbGVhc2VzL2xhdGVzdC8gIHwgXAogICAgY3V0IC1kICJ2IiAtZjIpCmRvd25sb2FkQ2lyY2xlQ0koKSB7CiAgY3VybCAtZkxTcyBodHRwczovL2NpcmNsZS5jaS9jbGkgPiBpbnN0YWxsLWNpcmNsZWNpLnNoCiAgY2htb2QgK3ggaW5zdGFsbC1jaXJjbGVjaS5zaAogIHN1ZG8gREVTVERJUj0iJDEiIFZFUlNJT049IiQyIiBiYXNoIGluc3RhbGwtY2lyY2xlY2kuc2ggPiAvZGV2L251bGwKICBybSAtZiBpbnN0YWxsLWNpcmNsZWNpLnNoCn0KcHJpbnRJbmRlbnQKaWYgWyAiJF9DSVJDTEVDSV9CSU5BUllfUEFUSCIgPSAiIiBdOyB0aGVuCiAgcHJpbnRmICIlcyAodiVzKS4uLiIgIiRfTVNHX0lOU1RBTExJTkdfQ0lSQ0xFQ0kiICIkX0NJUkNMRUNJX0xBVEVTVF9SRUxFQVNFX1ZFUlNJT04iCiAgZG93bmxvYWRDaXJjbGVDSSAvdXNyL2JpbiAiJF9DSVJDTEVDSV9MQVRFU1RfUkVMRUFTRV9WRVJTSU9OIgplbHNlCiAgX0NJUkNMRUNJX0lOU1RBTExFRF9WRVJTSU9OPSQoCiAgICAiJF9DSVJDTEVDSV9CSU5BUllfUEFUSCIgdmVyc2lvbiB8ICBjdXQgLWQnKycgLWYxKQogIGlmIFsgIiRfQ0lSQ0xFQ0lfSU5TVEFMTEVEX1ZFUlNJT04iICE9ICIkX0NJUkNMRUNJX0xBVEVTVF9SRUxFQVNFX1ZFUlNJT04iIF07IHRoZW4KICAgIHByaW50ZiAiJXMgKHYlcyIgIiRfTVNHX1VQREFUSU5HX0NJUkNMRUNJIiAiJF9DSVJDTEVDSV9JTlNUQUxMRURfVkVSU0lPTiIKICAgIHByaW50ZiAiIC0+IHYlcykuLi4iICIkX0NJUkNMRUNJX0xBVEVTVF9SRUxFQVNFX1ZFUlNJT04iCiAgICBzdWRvIHJtIC1mICIkX0NJUkNMRUNJX0JJTkFSWV9QQVRIIgogICAgZG93bmxvYWRDaXJjbGVDSSAvdXNyL2JpbiAiJF9DSVJDTEVDSV9MQVRFU1RfUkVMRUFTRV9WRVJTSU9OIgogIGVsc2UKICAgIHByaW50ZiAiJXMgKHYlcykiICIkX01TR19GT1VORF9DSVJDTEVDSV9JTlNUQUxMRUQiICIkX0NJUkNMRUNJX0lOU1RBTExFRF9WRVJTSU9OIgogIGZpOwpmaTsKcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCg==' | base64 -d)
