#!/bin/bash
source <(printf 'IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfTVNHX0VYRUNVVEVEX0FTX1NVUEVSVVNFUj0iRXN0ZSBzY3JpcHQgbmVjZXNpdGEgc2VyIGVqZWN1dGFkbyBjb21vIHN1cGVydXN1YXJpby4iCl9NU0dfQ0hFQ0tJTkdfTU9aSUxMQV9FQ09TWVNURU09IkNvbXByb2JhbmRvIGVjb3Npc3RlbWEgTW96aWxsYS4uLiIKX01TR19GT1VORF9NT1pJTExBX0ZJUkVGT1hfSU5TVEFMTEVEPSJFY29udHJhZG8gTW96aWxsYSBGaXJlZm94IGluc3RhbGFkbyBlbiBlbCBzaXN0ZW1hIgpfTVNHX0lOU1RBTExJTkdfTU9aSUxMQV9GSVJFRk9YX1BBQ0tBR0VTPSJJbnN0YWxhbmRvIHBhcXVldGVzIGRlIE1vemlsbGEgRmlyZWZveC4uLiIKX01TR19GT1VORF9DSEVDS09EUklWRVJfSU5TVEFMTEVEPSJFbmNvbnRyYWRvIEdlY2tvZHJpdmVyIGluc3RhbGFkbyBlbiBlbCBzaXN0ZW1hIgpfTVNHX0lOU1RBTExJTkdfR0VDS09EUklWRVI9Ikluc3RhbGFuZG8gZ2Vja29kcml2ZXIuLi4iCmlmIFtbICQoL3Vzci9iaW4vaWQgLXUpIC1uZSAwIF1dOyB0aGVuCiAgcHJpbnRmICIlc1xuIiAiJF9NU0dfRVhFQ1VURURfQVNfU1VQRVJVU0VSIiA+JjIKICBleGl0IDEKZmk7Cl9QUkVQRU5EX1NURE9VVF9TVFJJTkc9IiIKZm9yIGFyZyBpbiAiJEAiCmRvCiAgICBjYXNlICRhcmcgaW4KICAgICAgICAtLXByZXBlbmQtc3Rkb3V0KQogICAgICAgIHNoaWZ0CiAgICAgICAgX1BSRVBFTkRfU1RET1VUX1NUUklORz0kMQogICAgICAgIHNoaWZ0CiAgICAgICAgOzsKICAgIGVzYWMKZG9uZQpmdW5jdGlvbiBwcmludFByZXBlbmRlZFN0ZG91dCgpIHsKICBwcmludGYgIiVzIiAiJF9QUkVQRU5EX1NURE9VVF9TVFJJTkciCn0KaWYgWyAteiAiJFVOSVhfRElTVFJPIiBdOyB0aGVuCiAgaWYgW1sgIiQoc3VkbyBkcGtnIC1zIGN1cmwgMj4gL2Rldi9udWxsIHwgZ3JlcCBTdGF0dXMpIiAhPSAiU3RhdHVzOiBpbnN0YWxsIG9rIGluc3RhbGxlZCIgXV07IHRoZW4KICAgIHN1ZG8gYXB0LWdldCBpbnN0YWxsIC15IC1xcXEgY3VybCA+IC9kZXYvbnVsbAogIGZpOwogIHNvdXJjZSA8KGN1cmwgLXNMIGh0dHBzOi8vbW9uZGVqYS5naXRodWIuaW8vc2hyZWFkL3VuaXgvXy91dGlsL2dldC1kaXN0cm8uc2gpCmZpOwpwcmludFByZXBlbmRlZFN0ZG91dApwcmludGYgIiVzXG4iICIkX01TR19DSEVDS0lOR19NT1pJTExBX0VDT1NZU1RFTSIKcHJpbnRQcmVwZW5kZWRTdGRvdXQKaWYgY29tbWFuZCAtdiBmaXJlZm94ICY+IC9kZXYvbnVsbDsgdGhlbgogIF9NT1pJTExBX0ZJUkVGT1hfVkVSU0lPTj0kKAogICAgc3VkbyAtdSAiJFNVRE9fVVNFUiIgZmlyZWZveCAtLXZlcnNpb24gfCBjdXQgLWQnICcgLWYzKQogIHByaW50ZiAiICAlcyAodiVzKSIgIiRfTVNHX0ZPVU5EX01PWklMTEFfRklSRUZPWF9JTlNUQUxMRUQiICIkX01PWklMTEFfRklSRUZPWF9WRVJTSU9OIgogIHByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgplbHNlCiAgcHJpbnRmICIgICVzXG4iICIkX01TR19JTlNUQUxMSU5HX01PWklMTEFfRklSRUZPWF9QQUNLQUdFUyIKICBpZiBbICIkVU5JWF9ESVNUUk8iID0gImRlYmlhbiIgXTsgdGhlbgogICAgX0ZJUkVGT1hfTEFURVNUX1ZFUlNJT049JCgKICAgICAgc3VkbyBhcHQtY2FjaGUgcG9saWN5IGZpcmVmb3gtZXNyIHwgZ3JlcCAtUG8gJyhcZCtcLikrXGQrJyB8IGhlYWQgLW4gMSkKICBlbHNlCiAgICBfRklSRUZPWF9MQVRFU1RfVkVSU0lPTj0kKAogICAgICBzdWRvIGFwdC1jYWNoZSBwb2xpY3kgZmlyZWZveCB8IGdyZXAgLVBvICcoXGQrXC4pK1xkKycgfCBoZWFkIC1uIDEpCiAgZmk7CiAgcHJpbnRmICIgKHYlcykuLi4iICIkX0ZJUkVGT1hfTEFURVNUX1ZFUlNJT04iCiAgaWYgWyAiJFVOSVhfRElTVFJPIiA9ICJkZWJpYW4iIF07IHRoZW4KICAgIF9NT1pJTExBX0ZJUkVGT1hfUEFDS0FHRVM9KAogICAgICAiZmlyZWZveC1lc3IiCiAgICAgICJmaXJlZm94LWVzci1sMTBuLWVzLWVzIgogICAgKQogIGVsc2UKICAgIF9NT1pJTExBX0ZJUkVGT1hfUEFDS0FHRVM9KAogICAgICAiZmlyZWZveCIKICAgICkKICBmaTsKICBmb3IgUEFDS0FHRSBpbiAiJHtfTU9aSUxMQV9GSVJFRk9YX1BBQ0tBR0VTW0BdfSI7IGRvCiAgICBwcmludFByZXBlbmRlZFN0ZG91dAogICAgcHJpbnRmICIgICAgJXMiICIkUEFDS0FHRSIKICAgIGlmIFtbICIkKHN1ZG8gZHBrZyAtcyAiJFBBQ0tBR0UiIDI+IC9kZXYvbnVsbCB8IGdyZXAgU3RhdHVzKSIgIT0gIlN0YXR1czogaW5zdGFsbCBvayBpbnN0YWxsZWQiIF1dOyB0aGVuCiAgICAgIHN1ZG8gYXB0LWdldCBpbnN0YWxsIC15IC1xcXEgIiRQQUNLQUdFIiA+IC9kZXYvbnVsbCB8fCBleGl0ICQ/CiAgICBmaTsKICAgIHByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgogIGRvbmUKZmk7CnByaW50UHJlcGVuZGVkU3Rkb3V0Cl9HRUNLT0RSSVZFUl9QQVRIPSIkKGNvbW1hbmQgLXYgZ2Vja29kcml2ZXIpIgppZiBbICIkX0dFQ0tPRFJJVkVSX1BBVEgiICE9ICIiIF07IHRoZW4KICBwcmludGYgIiAgJXMiICIkX01TR19GT1VORF9DSEVDS09EUklWRVJfSU5TVEFMTEVEIgogIHByaW50ZiAiICh2JXMpIiAiJChnZWNrb2RyaXZlciAtLXZlcnNpb24gfCBoZWFkIC1uMSB8IGN1dCAtZCcgJyAtZjIpIgplbHNlCiAgcHJpbnRmICIgICVzIiAiJF9NU0dfSU5TVEFMTElOR19HRUNLT0RSSVZFUiIKICBzdWRvIGFwdC1nZXQgaW5zdGFsbCAteSAtcXFxIGZpcmVmb3gtZ2Vja29kcml2ZXIgPiAvZGV2L251bGwKZmk7CnByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgo=' | base64 -d)
