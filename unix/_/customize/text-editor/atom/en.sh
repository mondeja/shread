#!/bin/bash
H='IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfU0NSSVBUX0ZJTEVOQU1FPWVuLnNoCl9NU0dfRVhFQ1VURURfQVNfU1VQRVJVU0VSPSJUaGlzIHNjcmlwdCBuZWVkcyB0byBiZSBleGVjdXRlZCBhcyBzdXBlcnVzZXIuIgpfTVNHX0FUT01fTk9UX0lOU1RBTExFRF9GT1JfTE9DQUxfVVNFUj0iQXRvbSBpcyBub3QgaW5zdGFsbGVkIGZvciBsb2NhbCB1c2VyIgpfTVNHX0RJUkVDVE9SWV9ET0VTTlRfRVhJU1RTPSJUaGUgZGlyZWN0b3J5ICckSE9NRS8uYXRvbScgZG9lc24ndCBleGlzdHMuIgpfTVNHX05PREVKU19NVVNUX0JFX0lOU1RBTExFRD0iTm9kZUpTIG5lZWRzIHRvIGJlIGluc3RhbGxlZCBiZWZvcmUgY3VzdG9taXplIEF0b20uIgpfTVNHX0NVU1RPTUlaSU5HX0FUT009IkN1c3RvbWl6aW5nIEF0b20gdGV4dCBlZGl0b3IiCl9NU0dfQ0hFQ0tJTkdfSU5TVEFMTEVEX0FUT01fUEFDS0FHRVM9IkNoZWNraW5nIEF0b20gcGFja2FnZXMgaW5zdGFsbGVkLi4uIgpfTVNHX0NPTkZJR1VSSU5HX0VESVRPUj0iU2V0dGluZyB1cCBlZGl0b3IuLi4iCl9NU0dfRElTQUJMSU5HX0lOQ09NUEFUSUJMRV9QQUNLQUdFUz0iRGlzYWJsaW5nIGluY29tcGF0aWJsZSBwYWNrYWdlcy4uLiIKX01TR19FUlJPUl9JTlNUQUxMSU5HX0FUT01fUEFDS0FHRT0iQW4gZXJyb3IgaGFwcGVuIGluc3RhbGxpbmcgdGhlIEF0b20gcGFja2FnZSIKX01TR19FUlJPUl9ESVNBQkxJTkdfQVRPTV9QQUNLQUdFPSJBbiBlcnJvciBoYXBwZW4gZGlzYWJsaW5nIHRoZSBBdG9tIHBhY2thZ2UiCmlmIFtbICQoL3Vzci9iaW4vaWQgLXUpIC1uZSAwIF1dOyB0aGVuCiAgcHJpbnRmICIlc1xuIiAiJF9NU0dfRVhFQ1VURURfQVNfU1VQRVJVU0VSIiA+JjIKICBleGl0IDEKZmk7CmlmIFsgISAtZCB+Ly5hdG9tIF07IHRoZW4KICBwcmludGYgIiVzICgkVVNFUikuXG4iICIkX01TR19BVE9NX05PVF9JTlNUQUxMRURfRk9SX0xPQ0FMX1VTRVIiCiAgcHJpbnRmICIlc1xuIiAiJF9NU0dfRElSRUNUT1JZX0RPRVNOVF9FWElTVFMiCiAgZXhpdCAxCmZpOwppZiBbICIkKGNvbW1hbmQgLXYgbm9kZSkiID0gIiIgXTsgdGhlbgogIHByaW50ZiAiJXNcbiIgIiRfTVNHX05PREVKU19NVVNUX0JFX0lOU1RBTExFRCIgPiYyCiAgZXhpdCAxCmZpOwpJTkRFTlRfU1RSSU5HPSIiCmZvciBhcmcgaW4gIiRAIjsgZG8KICBjYXNlICRhcmcgaW4KICAgIC0taW5kZW50KQogICAgc2hpZnQKICAgIElOREVOVF9TVFJJTkc9JDEKICAgIHNoaWZ0CiAgICA7OwogIGVzYWMKZG9uZQpmdW5jdGlvbiBwcmludEluZGVudCgpIHsKICBwcmludGYgIiVzIiAiJElOREVOVF9TVFJJTkciCn0KaWYgWyAiJChjb21tYW5kIC12IHBhY21hbikiID0gIiIgXTsgdGhlbgogIGlmIFsgLXogIiRfU0NSSVBUX0ZJTEVOQU1FIiBdOyB0aGVuCiAgICBmaWxlcGF0aD0ic3JjL3VuaXgvXy9kb3dubG9hZC9wYWNhcHQvbWFpbi5zaCIKICAgIGJhc2ggIiRmaWxlcGF0aCIgPiAvZGV2L251bGwKICBlbHNlCiAgICB1cmw9Imh0dHBzOi8vbW9uZGVqYS5naXRodWIuaW8vc2hyZWFkL3VuaXgvXy9kb3dubG9hZC9wYWNhcHQvJF9TQ1JJUFRfRklMRU5BTUUiCiAgICBjdXJsIC1zTCAiJHVybCIgfCBzdWRvIGJhc2ggLSA+IC9kZXYvbnVsbAogIGZpOwpmaTsKQVRPTV9WRVJTSU9OPSQoCiAgYXBtIC12IHwgXAogIHNlZCAtbiA0cCB8IFwKICBjdXQgLWQnICcgLWYyIHwgXAogIHNlZCAtciAicy9ceDFCXFsoWzAtOV17MSwyfSg7WzAtOV17MSwyfSk/KT9bbUdLXS8vZyIpCnByaW50SW5kZW50CnByaW50ZiAiJXMgKHYlcykuLi5cbiIgIiRfTVNHX0NVU1RPTUlaSU5HX0FUT00iICIkQVRPTV9WRVJTSU9OIgpwcmludEluZGVudApwcmludGYgIiAgJXNcbiIgIiRfTVNHX0NIRUNLSU5HX0lOU1RBTExFRF9BVE9NX1BBQ0tBR0VTIgpfQVRPTV9QQUNLQUdFU19JTlNUQUxMRUQ9IiQoYXBtIGxpc3QgLS1pbnN0YWxsZWQgLS1iYXJlKSIKX0FUT01fUEFDS0FHRVNfVE9fSU5TVEFMTD0oCiAgIi0tcHJvZHVjdGlvbiBmaWxlLWljb25zIgogICJsYW5ndWFnZS1iYXRjaGZpbGUiCiAgInBpZ21lbnRzIgogICJjb2xvci1waWNrZXIiCiAgImF0b20tYmVhdXRpZnkiCiAgInplbnRhYnMiCiAgImVkaXRvcmNvbmZpZyIKICAibWluaW1hcCIKICAiaGlnaGxpZ2h0LXNlbGVjdGVkIgogICJnb3RvLWRlZmluaXRpb24iCiAgImF1dG9jb21wbGV0ZS1wYXRocyIKICAibGludGVyIgogICJsaW50ZXItdWktZGVmYXVsdCIKICAiaW50ZW50aW9ucyIKICAiYnVzeS1zaWduYWwiCiAgImxpbnRlci1jc3NsaW50IgogICJsaW50ZXItanNvbmxpbnQiCiAgImxpbnRlci1zd2FnZ2VyIgogICJsaW50ZXIteG1sbGludCIKICAibWluaW1hcC1saW50ZXIiCiAgImxhbmd1YWdlLXZ1ZSIKKQpmb3IgUEFDS0FHRSBpbiAiJHtfQVRPTV9QQUNLQUdFU19UT19JTlNUQUxMW0BdfSI7IGRvCiAgX1BBQ0tBR0VfRkxBR1M9IiQocHJpbnRmICIlcyIgIiRQQUNLQUdFIiB8IGN1dCAtZCcgJyAtZjEpIgogIGlmIFsgIiRfUEFDS0FHRV9GTEFHUyIgIT0gIiIgXTsgdGhlbgogICAgUEFDS0FHRT0kKHByaW50ZiAiJXMiICIkUEFDS0FHRSIgfCBjdXQgLWQnICcgLWYyKQogIGZpOwogIHByaW50SW5kZW50CiAgcHJpbnRmICIgICAgJXMiICIkUEFDS0FHRSIKICBpZiBbWyAiJChwcmludGYgIiVzIiAiJF9BVE9NX1BBQ0tBR0VTX0lOU1RBTExFRCIgfCBncmVwICIkUEFDS0FHRSIpIiA9ICIiIF1dOyB0aGVuCiAgICBfQU1QX0lOU1RBTExfU1RERVJSPSIkKGFwbSBpbnN0YWxsICIkX1BBQ0tBR0VfRkxBR1MgJFBBQ0tBR0UiIDI+JjEgPiAvZGV2L251bGwpIgogICAgX0FNUF9JTlNUQUxMX0VYSVRfQ09ERT0kPwogICAgaWYgWyAkX0FNUF9JTlNUQUxMX0VYSVRfQ09ERSAtbmUgMCBdOyB0aGVuCiAgICAgIHByaW50ZiAiIFxlWzkxbVx4RTJceDlDXHg5NVxlWzM5bVxuIiA+JjIKICAgICAgcHJpbnRmICJcbiVzICclcyc6XG4iICIkX01TR19FUlJPUl9JTlNUQUxMSU5HX0FUT01fUEFDS0FHRSIgIiRQQUNLQUdFIiA+JjIKICAgICAgcHJpbnRmICIlc1xuIiAiJF9BTVBfSU5TVEFMTF9TVERFUlIiID4mMgogICAgICBleGl0ICRfQU1QX0lOU1RBTExfRVhJVF9DT0RFCiAgICBmaTsKICBmaTsKICBwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKZG9uZQp5YXJuIGluc3RhbGwgLS1zaWxlbnQgLS1uby1wcm9ncmVzcyAtLWlnbm9yZS1vcHRpb25hbCAtLW5vbi1pbnRlcmFjdGl2ZQpwcmludEluZGVudApwcmludGYgIiAgJXMiICIkX01TR19DT05GSUdVUklOR19FRElUT1IiCmN1cmwgLXNMIGh0dHBzOi8vbW9uZGVqYS5naXRodWIuaW8vc2hyZWFkL18vY3VzdG9taXplL3RleHQtZWRpdG9yL2F0b20vY29uZmlndXJlLmpzIHwgXAogIG5vZGUgLSBcCiAgZXhpdCAkPwpwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKcHJpbnRJbmRlbnQKcHJpbnRmICIgICVzXG4iICIkX01TR19ESVNBQkxJTkdfSU5DT01QQVRJQkxFX1BBQ0tBR0VTIgpfQVRPTV9QQUNLQUdFU19UT19ESVNBQkxFPSgKICAid2hpdGVzcGFjZSIKKQpmb3IgUEFDS0FHRSBpbiAiJHtfQVRPTV9QQUNLQUdFU19UT19ESVNBQkxFW0BdfSI7IGRvCiAgcHJpbnRJbmRlbnQKICBwcmludGYgIiAgICAlcyIgIiRQQUNLQUdFIgogIF9BTVBfRElTQUJMRV9TVERFUlI9IiQoc3VkbyAtdSAiJFNVRE9fVVNFUiIgYXBtIGRpc2FibGUgIiRQQUNLQUdFIiAyPiYxID4gL2Rldi9udWxsKSIKICBfQU1QX0RJU0FCTEVfRVhJVF9DT0RFPSQ/CiAgaWYgWyAkX0FNUF9ESVNBQkxFX0VYSVRfQ09ERSAtbmUgMCBdOyB0aGVuCiAgICBwcmludGYgIiBcZVs5MW1ceEUyXHg5Q1x4OTVcZVszOW1cbiIgPiYyCiAgICBwcmludGYgIlxuJXMgJyVzJzpcbiIgIiRfTVNHX0VSUk9SX0RJU0FCTElOR19BVE9NX1BBQ0tBR0UiICIkUEFDS0FHRSIgPiYyCiAgICBwcmludGYgIiVzXG4iICIkX0FNUF9ESVNBQkxFX1NUREVSUiIgPiYyCiAgICBleGl0ICRfQU1QX0RJU0FCTEVfRVhJVF9DT0RFCiAgZmk7CiAgcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCmRvbmUK'
if (return 0 2>/dev/null); then
  source <(printf "%s" "$H" | base64 -d)
else
  echo "$(echo "$H" | base64 -d)" | bash -s -
fi;
