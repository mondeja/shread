#!/bin/bash
source <(printf 'IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfTVNHX0VYRUNVVEVEX0FTX1NVUEVSVVNFUj0iRXN0ZSBzY3JpcHQgbmVjZXNpdGEgc2VyIGVqZWN1dGFkbyBjb21vIHN1cGVydXN1YXJpby4iCl9NU0dfQVRPTV9OT1RfSU5TVEFMTEVEX0ZPUl9MT0NBTF9VU0VSPSJBdG9tIG5vIGVzdMOhIGluc3RhbGFkbyBwYXJhIGVsIHVzdWFyaW8gbG9jYWwiCl9NU0dfRElSRUNUT1JZX0RPRVNOVF9FWElTVFM9IkVsIGRpcmVjdG9yaW8gJyRIT01FLy5hdG9tJyBubyBleGlzdGUuIgpfTVNHX05PREVKU19NVVNUX0JFX0lOU1RBTExFRD0iTm9kZUpTIG5lY2VzaXRhIGVzdGFyIGluc3RhbGFkbyBhbnRlcyBkZSBwZXJzb25hbGl6YXIgQXRvbS4iCl9NU0dfQ1VTVE9NSVpJTkdfQVRPTT0iUGVyc29uYWxpemFuZG8gZWwgZWRpdG9yIGRlIHRleHRvcyBBdG9tIgpfTVNHX0NIRUNLSU5HX0lOU1RBTExFRF9BVE9NX1BBQ0tBR0VTPSJDb21wcm9iYW5kbyBwYXF1ZXRlcyBkZSBBdG9tIGluc3RhbGFkb3MuLi4iCl9NU0dfQ09ORklHVVJJTkdfRURJVE9SPSJDb25maWd1cmFuZG8gZWwgZWRpdG9yLi4uIgpfTVNHX0RJU0FCTElOR19JTkNPTVBBVElCTEVfUEFDS0FHRVM9IkRlc2hhYmlsaXRhbmRvIHBhcXVldGVzIGluY29tcGF0aWJsZXMuLi4iCl9NU0dfRVJST1JfSU5TVEFMTElOR19BVE9NX1BBQ0tBR0U9Ik9jdXJyacOzIHVuIGVycm9yIGluc3RhbGFuZG8gcGFxdWV0ZSBkZSBBdG9tIgpfTVNHX0VSUk9SX0RJU0FCTElOR19BVE9NX1BBQ0tBR0U9Ik9jdXJyacOzIHVuIGVycm9yIGRlc2hhYmlsaXRhbmRvIGVsIHBhcXVldGUgZGUgQXRvbSIKaWYgW1sgJCgvdXNyL2Jpbi9pZCAtdSkgLW5lIDAgXV07IHRoZW4KICBwcmludGYgIiVzXG4iICIkX01TR19FWEVDVVRFRF9BU19TVVBFUlVTRVIiID4mMgogIGV4aXQgMQpmaTsKaWYgWyAhIC1kIH4vLmF0b20gXTsgdGhlbgogIHByaW50ZiAiJXMgKCRVU0VSKS5cbiIgIiRfTVNHX0FUT01fTk9UX0lOU1RBTExFRF9GT1JfTE9DQUxfVVNFUiIKICBwcmludGYgIiVzXG4iICIkX01TR19ESVJFQ1RPUllfRE9FU05UX0VYSVNUUyIKICBleGl0IDEKZmk7CmlmIFsgIiQoY29tbWFuZCAtdiBub2RlKSIgPSAiIiBdOyB0aGVuCiAgcHJpbnRmICIlc1xuIiAiJF9NU0dfTk9ERUpTX01VU1RfQkVfSU5TVEFMTEVEIiA+JjIKICBleGl0IDEKZmk7CklOREVOVF9TVFJJTkc9IiIKZm9yIGFyZyBpbiAiJEAiOyBkbwogIGNhc2UgJGFyZyBpbgogICAgLS1pbmRlbnQpCiAgICBzaGlmdAogICAgSU5ERU5UX1NUUklORz0kMQogICAgc2hpZnQKICAgIDs7CiAgZXNhYwpkb25lCmZ1bmN0aW9uIHByaW50SW5kZW50KCkgewogIHByaW50ZiAiJXMiICIkSU5ERU5UX1NUUklORyIKfQppZiBbICIkKGNvbW1hbmQgLXYgcGFjbWFuKSIgPSAiIiBdOyB0aGVuCiAgU0NSSVBUX0ZJTEVOQU1FPSIkKGJhc2VuYW1lICIkMCIpIgogIGlmIFsgIiRTQ1JJUFRfRklMRU5BTUUiID0gIm1haW4uc2giIF07IHRoZW4KICAgIGZpbGVwYXRoPSJzcmMvdW5peC9fL2Rvd25sb2FkL3BhY2FwdC9tYWluLnNoIgogICAgYmFzaCAiJGZpbGVwYXRoIiA+IC9kZXYvbnVsbAogIGVsc2UKICAgIHVybD0iaHR0cHM6Ly9tb25kZWphLmdpdGh1Yi5pby9zaHJlYWQvdW5peC9fL2Rvd25sb2FkL3BhY2FwdC8kU0NSSVBUX0ZJTEVOQU1FIgogICAgY3VybCAtc0wgIiR1cmwiIHwgc3VkbyBiYXNoIC0gPiAvZGV2L251bGwKICBmaTsKZmk7CmlmIFtbICIkKHN1ZG8gcGFjbWFuIC1RaSBjdXJsIDI+IC9kZXYvbnVsbCB8IGdyZXAgU3RhdHVzKSIgIT0gIlN0YXR1czogaW5zdGFsbCBvayBpbnN0YWxsZWQiIF1dOyB0aGVuCiAgc3VkbyBwYWNtYW4gLVMgY3VybCA+IC9kZXYvbnVsbCB8fCBleGl0ICQ/CmZpOwpBVE9NX1ZFUlNJT049JCgKICBhcG0gLXYgfCBcCiAgc2VkIC1uIDRwIHwgXAogIGN1dCAtZCcgJyAtZjIgfCBcCiAgc2VkIC1yICJzL1x4MUJcWyhbMC05XXsxLDJ9KDtbMC05XXsxLDJ9KT8pP1ttR0tdLy9nIikKcHJpbnRJbmRlbnQKcHJpbnRmICIlcyAodiVzKS4uLlxuIiAiJF9NU0dfQ1VTVE9NSVpJTkdfQVRPTSIgIiRBVE9NX1ZFUlNJT04iCnByaW50SW5kZW50CnByaW50ZiAiICAlc1xuIiAiJF9NU0dfQ0hFQ0tJTkdfSU5TVEFMTEVEX0FUT01fUEFDS0FHRVMiCl9BVE9NX1BBQ0tBR0VTX0lOU1RBTExFRD0iJChhcG0gbGlzdCAtLWluc3RhbGxlZCAtLWJhcmUpIgpfQVRPTV9QQUNLQUdFU19UT19JTlNUQUxMPSgKICAiLS1wcm9kdWN0aW9uIGZpbGUtaWNvbnMiCiAgImxhbmd1YWdlLWJhdGNoZmlsZSIKICAicGlnbWVudHMiCiAgImNvbG9yLXBpY2tlciIKICAiYXRvbS1iZWF1dGlmeSIKICAiemVudGFicyIKICAiZWRpdG9yY29uZmlnIgogICJtaW5pbWFwIgogICJoaWdobGlnaHQtc2VsZWN0ZWQiCiAgImdvdG8tZGVmaW5pdGlvbiIKICAiYXV0b2NvbXBsZXRlLXBhdGhzIgogICJsaW50ZXIiCiAgImxpbnRlci11aS1kZWZhdWx0IgogICJpbnRlbnRpb25zIgogICJidXN5LXNpZ25hbCIKICAibGludGVyLWNzc2xpbnQiCiAgImxpbnRlci1qc29ubGludCIKICAibGludGVyLXN3YWdnZXIiCiAgImxpbnRlci14bWxsaW50IgogICJtaW5pbWFwLWxpbnRlciIKICAibGFuZ3VhZ2UtdnVlIgopCmZvciBQQUNLQUdFIGluICIke19BVE9NX1BBQ0tBR0VTX1RPX0lOU1RBTExbQF19IjsgZG8KICBfUEFDS0FHRV9GTEFHUz0iJChwcmludGYgIiVzIiAiJFBBQ0tBR0UiIHwgY3V0IC1kJyAnIC1mMSkiCiAgaWYgWyAiJF9QQUNLQUdFX0ZMQUdTIiAhPSAiIiBdOyB0aGVuCiAgICBQQUNLQUdFPSQocHJpbnRmICIlcyIgIiRQQUNLQUdFIiB8IGN1dCAtZCcgJyAtZjIpCiAgZmk7CiAgcHJpbnRJbmRlbnQKICBwcmludGYgIiAgICAlcyIgIiRQQUNLQUdFIgogIGlmIFtbICIkKHByaW50ZiAiJXMiICIkX0FUT01fUEFDS0FHRVNfSU5TVEFMTEVEIiB8IGdyZXAgIiRQQUNLQUdFIikiID0gIiIgXV07IHRoZW4KICAgIF9BTVBfSU5TVEFMTF9TVERFUlI9IiQoYXBtIGluc3RhbGwgIiRfUEFDS0FHRV9GTEFHUyAkUEFDS0FHRSIgMj4mMSA+IC9kZXYvbnVsbCkiCiAgICBfQU1QX0lOU1RBTExfRVhJVF9DT0RFPSQ/CiAgICBpZiBbICRfQU1QX0lOU1RBTExfRVhJVF9DT0RFIC1uZSAwIF07IHRoZW4KICAgICAgcHJpbnRmICIgXGVbOTFtXHhFMlx4OUNceDk1XGVbMzltXG4iID4mMgogICAgICBwcmludGYgIlxuJXMgJyVzJzpcbiIgIiRfTVNHX0VSUk9SX0lOU1RBTExJTkdfQVRPTV9QQUNLQUdFIiAiJFBBQ0tBR0UiID4mMgogICAgICBwcmludGYgIiVzXG4iICIkX0FNUF9JTlNUQUxMX1NUREVSUiIgPiYyCiAgICAgIGV4aXQgJF9BTVBfSU5TVEFMTF9FWElUX0NPREUKICAgIGZpOwogIGZpOwogIHByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgpkb25lCnlhcm4gaW5zdGFsbCAtLXNpbGVudCAtLW5vLXByb2dyZXNzIC0taWdub3JlLW9wdGlvbmFsIC0tbm9uLWludGVyYWN0aXZlCnByaW50SW5kZW50CnByaW50ZiAiICAlcyIgIiRfTVNHX0NPTkZJR1VSSU5HX0VESVRPUiIKY3VybCAtc0wgaHR0cHM6Ly9tb25kZWphLmdpdGh1Yi5pby9zaHJlYWQvXy9jdXN0b21pemUvdGV4dC1lZGl0b3IvYXRvbS9jb25maWd1cmUuanMgfCBcCiAgbm9kZSAtIFwKICBleGl0ICQ/CnByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgpwcmludEluZGVudApwcmludGYgIiAgJXNcbiIgIiRfTVNHX0RJU0FCTElOR19JTkNPTVBBVElCTEVfUEFDS0FHRVMiCl9BVE9NX1BBQ0tBR0VTX1RPX0RJU0FCTEU9KAogICJ3aGl0ZXNwYWNlIgopCmZvciBQQUNLQUdFIGluICIke19BVE9NX1BBQ0tBR0VTX1RPX0RJU0FCTEVbQF19IjsgZG8KICBwcmludEluZGVudAogIHByaW50ZiAiICAgICVzIiAiJFBBQ0tBR0UiCiAgX0FNUF9ESVNBQkxFX1NUREVSUj0iJChzdWRvIC11ICIkU1VET19VU0VSIiBhcG0gZGlzYWJsZSAiJFBBQ0tBR0UiIDI+JjEgPiAvZGV2L251bGwpIgogIF9BTVBfRElTQUJMRV9FWElUX0NPREU9JD8KICBpZiBbICRfQU1QX0RJU0FCTEVfRVhJVF9DT0RFIC1uZSAwIF07IHRoZW4KICAgIHByaW50ZiAiIFxlWzkxbVx4RTJceDlDXHg5NVxlWzM5bVxuIiA+JjIKICAgIHByaW50ZiAiXG4lcyAnJXMnOlxuIiAiJF9NU0dfRVJST1JfRElTQUJMSU5HX0FUT01fUEFDS0FHRSIgIiRQQUNLQUdFIiA+JjIKICAgIHByaW50ZiAiJXNcbiIgIiRfQU1QX0RJU0FCTEVfU1RERVJSIiA+JjIKICAgIGV4aXQgJF9BTVBfRElTQUJMRV9FWElUX0NPREUKICBmaTsKICBwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKZG9uZQo=' | base64 -d)
