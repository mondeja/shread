#!/bin/bash
source <(printf 'X01TR19FWEVDVVRFRF9BU19TVVBFUlVTRVI9IkVzdGUgc2NyaXB0IG5lY2VzaXRhIHNlciBlamVjdXRhZG8gY29tbyBzdXBlcnVzdWFyaW8uIgpfTVNHX0FUT01fTk9UX0lOU1RBTExFRF9GT1JfTE9DQUxfVVNFUj0iQXRvbSBubyBlc3TDoSBpbnN0YWxhZG8gcGFyYSBlbCB1c3VhcmlvIGxvY2FsIgpfTVNHX0RJUkVDVE9SWV9ET0VTTlRfRVhJU1RTPSJFbCBkaXJlY3RvcmlvICckSE9NRS8uYXRvbScgbm8gZXhpc3RlLiIKX01TR19OT0RFSlNfTVVTVF9CRV9JTlNUQUxMRUQ9Ik5vZGVKUyBuZWNlc2l0YSBlc3RhciBpbnN0YWxhZG8gYW50ZXMgZGUgcGVyc29uYWxpemFyIEF0b20uIgpfTVNHX0NVU1RPTUlaSU5HX0FUT009IlBlcnNvbmFsaXphbmRvIGVsIGVkaXRvciBkZSB0ZXh0b3MgQXRvbSIKX01TR19DSEVDS0lOR19JTlNUQUxMRURfQVRPTV9QQUNLQUdFUz0iQ29tcHJvYmFuZG8gcGFxdWV0ZXMgZGUgQXRvbSBpbnN0YWxhZG9zLi4uIgpfTVNHX0NPTkZJR1VSSU5HX0VESVRPUj0iQ29uZmlndXJhbmRvIGVsIGVkaXRvci4uLiIKX01TR19ESVNBQkxJTkdfSU5DT01QQVRJQkxFX1BBQ0tBR0VTPSJEZXNoYWJpbGl0YW5kbyBwYXF1ZXRlcyBpbmNvbXBhdGlibGVzLi4uIgpfTVNHX0VSUk9SX0lOU1RBTExJTkdfQVRPTV9QQUNLQUdFPSJPY3VycmnDsyB1biBlcnJvciBpbnN0YWxhbmRvIHBhcXVldGUgZGUgQXRvbSIKX01TR19FUlJPUl9ESVNBQkxJTkdfQVRPTV9QQUNLQUdFPSJPY3VycmnDsyB1biBlcnJvciBkZXNoYWJpbGl0YW5kbyBlbCBwYXF1ZXRlIGRlIEF0b20iCmlmIFtbICQoL3Vzci9iaW4vaWQgLXUpIC1uZSAwIF1dOyB0aGVuCiAgcHJpbnRmICIlc1xuIiAiJF9NU0dfRVhFQ1VURURfQVNfU1VQRVJVU0VSIiA+JjIKICBleGl0IDEKZmk7CmlmIFsgISAtZCB+Ly5hdG9tIF07IHRoZW4KICBwcmludGYgIiVzICgkVVNFUikuXG4iICIkX01TR19BVE9NX05PVF9JTlNUQUxMRURfRk9SX0xPQ0FMX1VTRVIiCiAgcHJpbnRmICIlc1xuIiAiJF9NU0dfRElSRUNUT1JZX0RPRVNOVF9FWElTVFMiCiAgZXhpdCAxCmZpOwppZiBbICIkKGNvbW1hbmQgLXYgbm9kZSkiID0gIiIgXTsgdGhlbgogIHByaW50ZiAiJXNcbiIgIiRfTVNHX05PREVKU19NVVNUX0JFX0lOU1RBTExFRCIgPiYyCiAgZXhpdCAxCmZpOwpfUFJFUEVORF9TVERPVVRfU1RSSU5HPSIiCmZvciBhcmcgaW4gIiRAIjsgZG8KICBjYXNlICRhcmcgaW4KICAgIC0tcHJlcGVuZC1zdGRvdXQpCiAgICBzaGlmdAogICAgX1BSRVBFTkRfU1RET1VUX1NUUklORz0kMQogICAgc2hpZnQKICAgIDs7CiAgZXNhYwpkb25lCmZ1bmN0aW9uIHByaW50UHJlcGVuZGVkU3Rkb3V0KCkgewogIHByaW50ZiAiJXMiICIkX1BSRVBFTkRfU1RET1VUX1NUUklORyIKfQppZiBbWyAiJChzdWRvIGRwa2cgLXMgY3VybCAyPiAvZGV2L251bGwgfCBncmVwIFN0YXR1cykiICE9ICJTdGF0dXM6IGluc3RhbGwgb2sgaW5zdGFsbGVkIiBdXTsgdGhlbgogIHN1ZG8gYXB0LWdldCBpbnN0YWxsIC15IC1xcXEgY3VybCA+IC9kZXYvbnVsbApmaTsKQVRPTV9WRVJTSU9OPSQoCiAgYXBtIC12IHwgXAogIHNlZCAtbiA0cCB8IFwKICBjdXQgLWQnICcgLWYyIHwgXAogIHNlZCAtciAicy9ceDFCXFsoWzAtOV17MSwyfSg7WzAtOV17MSwyfSk/KT9bbUdLXS8vZyIpCnByaW50UHJlcGVuZGVkU3Rkb3V0CnByaW50ZiAiJXMgKHYlcykuLi5cbiIgIiRfTVNHX0NVU1RPTUlaSU5HX0FUT00iICIkQVRPTV9WRVJTSU9OIgpwcmludFByZXBlbmRlZFN0ZG91dApwcmludGYgIiAgJXNcbiIgIiRfTVNHX0NIRUNLSU5HX0lOU1RBTExFRF9BVE9NX1BBQ0tBR0VTIgpfQVRPTV9QQUNLQUdFU19JTlNUQUxMRUQ9IiQoYXBtIGxpc3QgLS1pbnN0YWxsZWQgLS1iYXJlKSIKX0FUT01fUEFDS0FHRVNfVE9fSU5TVEFMTD0oCiAgIi0tcHJvZHVjdGlvbiBmaWxlLWljb25zIgogICJsYW5ndWFnZS1iYXRjaGZpbGUiCiAgInBpZ21lbnRzIgogICJjb2xvci1waWNrZXIiCiAgImF0b20tYmVhdXRpZnkiCiAgInplbnRhYnMiCiAgImVkaXRvcmNvbmZpZyIKICAibWluaW1hcCIKICAiaGlnaGxpZ2h0LXNlbGVjdGVkIgogICJnb3RvLWRlZmluaXRpb24iCiAgImF1dG9jb21wbGV0ZS1wYXRocyIKICAibGludGVyIgogICJsaW50ZXItdWktZGVmYXVsdCIKICAiaW50ZW50aW9ucyIKICAiYnVzeS1zaWduYWwiCiAgImxpbnRlci1jc3NsaW50IgogICJsaW50ZXItanNvbmxpbnQiCiAgImxpbnRlci1zd2FnZ2VyIgogICJsaW50ZXIteG1sbGludCIKICAibWluaW1hcC1saW50ZXIiCiAgImxhbmd1YWdlLXZ1ZSIKKQpmb3IgUEFDS0FHRSBpbiAiJHtfQVRPTV9QQUNLQUdFU19UT19JTlNUQUxMW0BdfSI7IGRvCiAgX1BBQ0tBR0VfRkxBR1M9IiQocHJpbnRmICIlcyIgIiRQQUNLQUdFIiB8IGN1dCAtZCcgJyAtZjEpIgogIGlmIFsgIiRfUEFDS0FHRV9GTEFHUyIgIT0gIiIgXTsgdGhlbgogICAgUEFDS0FHRT0kKHByaW50ZiAiJXMiICIkUEFDS0FHRSIgfCBjdXQgLWQnICcgLWYyKQogIGZpOwogIHByaW50UHJlcGVuZGVkU3Rkb3V0CiAgcHJpbnRmICIgICAgJXMiICIkUEFDS0FHRSIKICBpZiBbWyAiJChwcmludGYgIiVzIiAiJF9BVE9NX1BBQ0tBR0VTX0lOU1RBTExFRCIgfCBncmVwICIkUEFDS0FHRSIpIiA9ICIiIF1dOyB0aGVuCiAgICBfQU1QX0lOU1RBTExfU1RERVJSPSIkKGFwbSBpbnN0YWxsICIkX1BBQ0tBR0VfRkxBR1MgJFBBQ0tBR0UiIDI+JjEgPiAvZGV2L251bGwpIgogICAgX0FNUF9JTlNUQUxMX0VYSVRfQ09ERT0kPwogICAgaWYgWyAkX0FNUF9JTlNUQUxMX0VYSVRfQ09ERSAtbmUgMCBdOyB0aGVuCiAgICAgIHByaW50ZiAiIFxlWzkxbVx4RTJceDlDXHg5NVxlWzM5bVxuIiA+JjIKICAgICAgcHJpbnRmICJcbiVzICclcyc6XG4iICIkX01TR19FUlJPUl9JTlNUQUxMSU5HX0FUT01fUEFDS0FHRSIgIiRQQUNLQUdFIiA+JjIKICAgICAgcHJpbnRmICIlc1xuIiAiJF9BTVBfSU5TVEFMTF9TVERFUlIiID4mMgogICAgICBleGl0ICRfQU1QX0lOU1RBTExfRVhJVF9DT0RFCiAgICBmaTsKICBmaTsKICBwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKZG9uZQp5YXJuIGluc3RhbGwgLS1zaWxlbnQgLS1uby1wcm9ncmVzcyAtLWlnbm9yZS1vcHRpb25hbCAtLW5vbi1pbnRlcmFjdGl2ZQpwcmludFByZXBlbmRlZFN0ZG91dApwcmludGYgIiAgJXMiICIkX01TR19DT05GSUdVUklOR19FRElUT1IiCmN1cmwgLXNMIGh0dHBzOi8vbW9uZGVqYS5naXRodWIuaW8vc2hyZWFkL18vY3VzdG9taXplL3RleHQtZWRpdG9yL2F0b20vY29uZmlndXJlLmpzIHwgXAogIG5vZGUgLSBcCiAgZXhpdCAkPwpwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKcHJpbnRQcmVwZW5kZWRTdGRvdXQKcHJpbnRmICIgICVzXG4iICIkX01TR19ESVNBQkxJTkdfSU5DT01QQVRJQkxFX1BBQ0tBR0VTIgpfQVRPTV9QQUNLQUdFU19UT19ESVNBQkxFPSgKICAid2hpdGVzcGFjZSIKKQpmb3IgUEFDS0FHRSBpbiAiJHtfQVRPTV9QQUNLQUdFU19UT19ESVNBQkxFW0BdfSI7IGRvCiAgcHJpbnRQcmVwZW5kZWRTdGRvdXQKICBwcmludGYgIiAgICAlcyIgIiRQQUNLQUdFIgogIF9BTVBfRElTQUJMRV9TVERFUlI9IiQoc3VkbyAtdSAiJFNVRE9fVVNFUiIgYXBtIGRpc2FibGUgIiRQQUNLQUdFIiAyPiYxID4gL2Rldi9udWxsKSIKICBfQU1QX0RJU0FCTEVfRVhJVF9DT0RFPSQ/CiAgaWYgWyAkX0FNUF9ESVNBQkxFX0VYSVRfQ09ERSAtbmUgMCBdOyB0aGVuCiAgICBwcmludGYgIiBcZVs5MW1ceEUyXHg5Q1x4OTVcZVszOW1cbiIgPiYyCiAgICBwcmludGYgIlxuJXMgJyVzJzpcbiIgIiRfTVNHX0VSUk9SX0RJU0FCTElOR19BVE9NX1BBQ0tBR0UiICIkUEFDS0FHRSIgPiYyCiAgICBwcmludGYgIiVzXG4iICIkX0FNUF9ESVNBQkxFX1NUREVSUiIgPiYyCiAgICBleGl0ICRfQU1QX0RJU0FCTEVfRVhJVF9DT0RFCiAgZmk7CiAgcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCmRvbmUK' | base64 -d)
