#!/bin/bash
source <(printf 'IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfTVNHX0VYRUNVVEVEX0FTX1NVUEVSVVNFUj0iRXN0ZSBzY3JpcHQgbmVjZXNpdGEgc2VyIGVqZWN1dGFkbyBjb21vIHN1cGVydXN1YXJpby4iCl9NU0dfVVBEQVRJTkdfU1lTVEVNX1BBQ0tBR0VTPSJBY3R1YWxpemFuZG8gcGFxdWV0ZXMgZGVsIHNpc3RlbWEuLi4iCl9NU0dfRVJST1JfVVBEQVRJTkdfU1lTVEVNX1BBQ0tBR0VTPSJPY3VycmnDsyB1biBlcnJvciBhY3R1YWxpemFuZG8gbG9zIHBhcXVldGVzIGRlbCBzaXN0ZW1hLiIKX01TR19SRUxBVU5DSElOR19XSVRIX1NURE9VVD0iUmVsYW56YW5kbyBjb24gc2FsaWRhIGVzdMOhbmRhciB5IGNhbmNlbGFuZG8gbGEgaW5zdGFsYWNpw7NuLi4uIgppZiBbWyAkKC91c3IvYmluL2lkIC11KSAtbmUgMCBdXTsgdGhlbgogIHByaW50ZiAiJXNcbiIgIiRfTVNHX0VYRUNVVEVEX0FTX1NVUEVSVVNFUiIgPiYyCiAgZXhpdCAxCmZpOwpJTkRFTlRfU1RSSU5HPSIiCl9VUERBVEU9MApmb3IgYXJnIGluICIkQCI7IGRvCiAgY2FzZSAkYXJnIGluCiAgICAtLWluZGVudCkKICAgIHNoaWZ0CiAgICBJTkRFTlRfU1RSSU5HPSQxCiAgICBzaGlmdAogICAgOzsKICAgIC0tdXBkYXRlKQogICAgX1VQREFURT0xCiAgICBzaGlmdAogICAgOzsKICBlc2FjCmRvbmUKZnVuY3Rpb24gcHJpbnRQcmVwZW5kZWRTdGRvdXQoKSB7CiAgcHJpbnRmICIlcyIgIiRJTkRFTlRfU1RSSU5HIgp9CmlmIFsgIiQoY29tbWFuZCAtdiBwYWNtYW4pIiA9ICIiIF07IHRoZW4KICBTQ1JJUFRfRklMRU5BTUU9IiQoYmFzZW5hbWUgIiQwIikiCiAgaWYgWyAiJFNDUklQVF9GSUxFTkFNRSIgPSAibWFpbi5zaCIgXTsgdGhlbgogICAgZmlsZXBhdGg9InNyYy91bml4L18vZG93bmxvYWQvcGFjYXB0L21haW4uc2giCiAgICBiYXNoICIkZmlsZXBhdGgiID4gL2Rldi9udWxsCiAgZWxzZQogICAgdXJsPSJodHRwczovL21vbmRlamEuZ2l0aHViLmlvL3NocmVhZC91bml4L18vZG93bmxvYWQvcGFjYXB0LyRTQ1JJUFRfRklMRU5BTUUiCiAgICBjdXJsIC1zTCAiJHVybCIgfCBzdWRvIGJhc2ggLSA+IC9kZXYvbnVsbAogIGZpOwpmaTsKZnVuY3Rpb24gdXBkYXRlUGFja2FnZXMoKSB7CiAgcHJpbnRQcmVwZW5kZWRTdGRvdXQKICBwcmludGYgIiVzIiAiJF9NU0dfVVBEQVRJTkdfU1lTVEVNX1BBQ0tBR0VTIgogIHN1ZG8gcGFjbWFuIHVwZGF0ZSA+IC9kZXYvbnVsbCB8fCBleGl0ICQ/CiAgaWYgWyAkX1VQREFURSAtZXEgMSBdOyB0aGVuCiAgICBzdWRvIHBhY21hbiAtU3l1IC15ID4mMiA+IC9kZXYvbnVsbCB8fCBleGl0ICQ/CiAgZmk7CiAgcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCn0KaWYgWyAtZiAiL3Zhci9jYWNoZS9hcHQvcGtnY2FjaGUuYmluIiBdOyB0aGVuCiAgX0xBU1RfREFZX0VYRUNVVEVEPSQoCiAgICBzdGF0IC92YXIvY2FjaGUvYXB0L3BrZ2NhY2hlLmJpbiB8IFwKICAgIHRhaWwgLW4gMyB8IFwKICAgIGhlYWQgLW4gMSB8IFwKICAgIGN1dCAtZCcgJyAtZjIpCiAgX05PV19EQVRFPSQoZGF0ZSArIiVZLSVtLSVkIikKICBpZiBbICIkX0xBU1RfREFZX0VYRUNVVEVEIiAhPSAiJF9OT1dfREFURSIgXTsgdGhlbgogICAgdXBkYXRlUGFja2FnZXMKICBmaTsKZWxzZQogIHVwZGF0ZVBhY2thZ2VzCmZpOwo=' | base64 -d)
