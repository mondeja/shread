#!/bin/bash
source <(printf 'IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfTVNHX0VYRUNVVEVEX0FTX1NVUEVSVVNFUj0iRXN0ZSBzY3JpcHQgbmVjZXNpdGEgc2VyIGVqZWN1dGFkbyBjb21vIHN1cGVydXN1YXJpby4iCl9NU0dfVVBEQVRJTkdfU1lTVEVNX1BBQ0tBR0VTPSJBY3R1YWxpemFuZG8gcGFxdWV0ZXMgZGVsIHNpc3RlbWEuLi4iCmlmIFtbICQoL3Vzci9iaW4vaWQgLXUpIC1uZSAwIF1dOyB0aGVuCiAgcHJpbnRmICIlc1xuIiAiJF9NU0dfRVhFQ1VURURfQVNfU1VQRVJVU0VSIiA+JjIKICBleGl0IDEKZmk7CklOREVOVF9TVFJJTkc9IiIKX1VQREFURT0wCmZvciBhcmcgaW4gIiRAIjsgZG8KICBjYXNlICRhcmcgaW4KICAgIC0taW5kZW50KQogICAgc2hpZnQKICAgIElOREVOVF9TVFJJTkc9JDEKICAgIHNoaWZ0CiAgICA7OwogICAgLS11cGRhdGUpCiAgICBfVVBEQVRFPTEKICAgIHNoaWZ0CiAgICA7OwogIGVzYWMKZG9uZQpmdW5jdGlvbiBwcmludEluZGVudCgpIHsKICBwcmludGYgIiVzIiAiJElOREVOVF9TVFJJTkciCn0KaWYgWyAiJChjb21tYW5kIC12IHBhY21hbikiID0gIiIgXTsgdGhlbgogIFNDUklQVF9GSUxFTkFNRT0iJChiYXNlbmFtZSAiJDAiKSIKICBpZiBbICIkU0NSSVBUX0ZJTEVOQU1FIiA9ICJtYWluLnNoIiBdOyB0aGVuCiAgICBmaWxlcGF0aD0ic3JjL3VuaXgvXy9kb3dubG9hZC9wYWNhcHQvbWFpbi5zaCIKICAgIGJhc2ggIiRmaWxlcGF0aCIgPiAvZGV2L251bGwKICBlbHNlCiAgICB1cmw9Imh0dHBzOi8vbW9uZGVqYS5naXRodWIuaW8vc2hyZWFkL3VuaXgvXy9kb3dubG9hZC9wYWNhcHQvJFNDUklQVF9GSUxFTkFNRSIKICAgIGN1cmwgLXNMICIkdXJsIiB8IHN1ZG8gYmFzaCAtID4gL2Rldi9udWxsCiAgZmk7CmZpOwpmdW5jdGlvbiB1cGRhdGVQYWNrYWdlcygpIHsKICBwcmludEluZGVudAogIHByaW50ZiAiJXMiICIkX01TR19VUERBVElOR19TWVNURU1fUEFDS0FHRVMiCiAgc3VkbyBwYWNtYW4gdXBkYXRlID4gL2Rldi9udWxsIHx8IGV4aXQgJD8KICBpZiBbICRfVVBEQVRFIC1lcSAxIF07IHRoZW4KICAgIHN1ZG8gcGFjbWFuIC1TeXUgLXkgPiYyID4gL2Rldi9udWxsIHx8IGV4aXQgJD8KICBmaTsKICBwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKfQppZiBbIC1mICIvdmFyL2NhY2hlL2FwdC9wa2djYWNoZS5iaW4iIF07IHRoZW4KICBfTEFTVF9EQVlfRVhFQ1VURUQ9JCgKICAgIHN0YXQgL3Zhci9jYWNoZS9hcHQvcGtnY2FjaGUuYmluIHwgXAogICAgdGFpbCAtbiAzIHwgXAogICAgaGVhZCAtbiAxIHwgXAogICAgY3V0IC1kJyAnIC1mMikKICBfTk9XX0RBVEU9JChkYXRlICsiJVktJW0tJWQiKQogIGlmIFsgIiRfTEFTVF9EQVlfRVhFQ1VURUQiICE9ICIkX05PV19EQVRFIiBdOyB0aGVuCiAgICB1cGRhdGVQYWNrYWdlcwogIGZpOwplbHNlCiAgdXBkYXRlUGFja2FnZXMKZmk7Cg==' | base64 -d)
