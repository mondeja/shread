#!/bin/bash
_SCRIPT_FILENAME="$(basename "$0")" source <(printf 'IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfTVNHX0VYRUNVVEVEX0FTX1NVUEVSVVNFUj0iRXN0ZSBzY3JpcHQgbmVjZXNpdGEgc2VyIGVqZWN1dGFkbyBjb21vIHN1cGVydXN1YXJpby4iCl9NU0dfVVBEQVRJTkdfU1lTVEVNX1BBQ0tBR0VTPSJBY3R1YWxpemFuZG8gcGFxdWV0ZXMgZGVsIHNpc3RlbWEuLi4iCmlmIFtbICQoL3Vzci9iaW4vaWQgLXUpIC1uZSAwIF1dOyB0aGVuCiAgcHJpbnRmICIlc1xuIiAiJF9NU0dfRVhFQ1VURURfQVNfU1VQRVJVU0VSIiA+JjIKICBleGl0IDEKZmk7CklOREVOVF9TVFJJTkc9IiIKX1VQREFURT0wCmZvciBhcmcgaW4gIiRAIjsgZG8KICBjYXNlICRhcmcgaW4KICAgIC0taW5kZW50KQogICAgc2hpZnQKICAgIElOREVOVF9TVFJJTkc9JDEKICAgIHNoaWZ0CiAgICA7OwogICAgLS11cGRhdGUpCiAgICBfVVBEQVRFPTEKICAgIHNoaWZ0CiAgICA7OwogIGVzYWMKZG9uZQpmdW5jdGlvbiBwcmludEluZGVudCgpIHsKICBwcmludGYgIiVzIiAiJElOREVOVF9TVFJJTkciCn0KaWYgWyAiJChjb21tYW5kIC12IHBhY21hbikiID0gIiIgXTsgdGhlbgogIGlmIFsgIiRfU0NSSVBUX0ZJTEVOQU1FIiA9ICJtYWluLnNoIiBdOyB0aGVuCiAgICBmaWxlcGF0aD0ic3JjL3VuaXgvXy9kb3dubG9hZC9wYWNhcHQvbWFpbi5zaCIKICAgIGJhc2ggIiRmaWxlcGF0aCIgPiAvZGV2L251bGwKICBlbHNlCiAgICB1cmw9Imh0dHBzOi8vbW9uZGVqYS5naXRodWIuaW8vc2hyZWFkL3VuaXgvXy9kb3dubG9hZC9wYWNhcHQvJF9TQ1JJUFRfRklMRU5BTUUiCiAgICBjdXJsIC1zTCAiJHVybCIgfCBzdWRvIGJhc2ggLSA+IC9kZXYvbnVsbAogIGZpOwpmaTsKZnVuY3Rpb24gdXBkYXRlUGFja2FnZXMoKSB7CiAgcHJpbnRJbmRlbnQKICBwcmludGYgIiVzIiAiJF9NU0dfVVBEQVRJTkdfU1lTVEVNX1BBQ0tBR0VTIgogIHN1ZG8gcGFjbWFuIHVwZGF0ZSA+IC9kZXYvbnVsbCB8fCBleGl0ICQ/CiAgaWYgWyAkX1VQREFURSAtZXEgMSBdOyB0aGVuCiAgICBzdWRvIHBhY21hbiAtU3l1IC15ID4mMiA+IC9kZXYvbnVsbCB8fCBleGl0ICQ/CiAgZmk7CiAgcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCn0KaWYgWyAtZiAiL3Zhci9jYWNoZS9hcHQvcGtnY2FjaGUuYmluIiBdOyB0aGVuCiAgX0xBU1RfREFZX0VYRUNVVEVEPSQoCiAgICBzdGF0IC92YXIvY2FjaGUvYXB0L3BrZ2NhY2hlLmJpbiB8IFwKICAgIHRhaWwgLW4gMyB8IFwKICAgIGhlYWQgLW4gMSB8IFwKICAgIGN1dCAtZCcgJyAtZjIpCiAgX05PV19EQVRFPSQoZGF0ZSArIiVZLSVtLSVkIikKICBpZiBbICIkX0xBU1RfREFZX0VYRUNVVEVEIiAhPSAiJF9OT1dfREFURSIgXTsgdGhlbgogICAgdXBkYXRlUGFja2FnZXMKICBmaTsKZWxzZQogIHVwZGF0ZVBhY2thZ2VzCmZpOwo=' | base64 -d)
