#!/bin/bash
_SCRIPT_FILENAME="$(basename "$0")" source <(printf 'IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfTVNHX0VYRUNVVEVEX0FTX1NVUEVSVVNFUj0iVGhpcyBzY3JpcHQgbmVlZHMgdG8gYmUgZXhlY3V0ZWQgYXMgc3VwZXJ1c2VyLiIKX01TR19VUERBVElOR19TWVNURU1fUEFDS0FHRVM9IlVwZGF0aW5nIHN5c3RlbSBwYWNrYWdlcy4uLiIKaWYgW1sgJCgvdXNyL2Jpbi9pZCAtdSkgLW5lIDAgXV07IHRoZW4KICBwcmludGYgIiVzXG4iICIkX01TR19FWEVDVVRFRF9BU19TVVBFUlVTRVIiID4mMgogIGV4aXQgMQpmaTsKSU5ERU5UX1NUUklORz0iIgpfVVBEQVRFPTAKZm9yIGFyZyBpbiAiJEAiOyBkbwogIGNhc2UgJGFyZyBpbgogICAgLS1pbmRlbnQpCiAgICBzaGlmdAogICAgSU5ERU5UX1NUUklORz0kMQogICAgc2hpZnQKICAgIDs7CiAgICAtLXVwZGF0ZSkKICAgIF9VUERBVEU9MQogICAgc2hpZnQKICAgIDs7CiAgZXNhYwpkb25lCmZ1bmN0aW9uIHByaW50SW5kZW50KCkgewogIHByaW50ZiAiJXMiICIkSU5ERU5UX1NUUklORyIKfQppZiBbICIkKGNvbW1hbmQgLXYgcGFjbWFuKSIgPSAiIiBdOyB0aGVuCiAgaWYgWyAiJF9TQ1JJUFRfRklMRU5BTUUiID0gIm1haW4uc2giIF07IHRoZW4KICAgIGZpbGVwYXRoPSJzcmMvdW5peC9fL2Rvd25sb2FkL3BhY2FwdC9tYWluLnNoIgogICAgYmFzaCAiJGZpbGVwYXRoIiA+IC9kZXYvbnVsbAogIGVsc2UKICAgIHVybD0iaHR0cHM6Ly9tb25kZWphLmdpdGh1Yi5pby9zaHJlYWQvdW5peC9fL2Rvd25sb2FkL3BhY2FwdC8kX1NDUklQVF9GSUxFTkFNRSIKICAgIGN1cmwgLXNMICIkdXJsIiB8IHN1ZG8gYmFzaCAtID4gL2Rldi9udWxsCiAgZmk7CmZpOwpmdW5jdGlvbiB1cGRhdGVQYWNrYWdlcygpIHsKICBwcmludEluZGVudAogIHByaW50ZiAiJXMiICIkX01TR19VUERBVElOR19TWVNURU1fUEFDS0FHRVMiCiAgc3VkbyBwYWNtYW4gdXBkYXRlID4gL2Rldi9udWxsIHx8IGV4aXQgJD8KICBpZiBbICRfVVBEQVRFIC1lcSAxIF07IHRoZW4KICAgIHN1ZG8gcGFjbWFuIC1TeXUgLXkgPiYyID4gL2Rldi9udWxsIHx8IGV4aXQgJD8KICBmaTsKICBwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKfQppZiBbIC1mICIvdmFyL2NhY2hlL2FwdC9wa2djYWNoZS5iaW4iIF07IHRoZW4KICBfTEFTVF9EQVlfRVhFQ1VURUQ9JCgKICAgIHN0YXQgL3Zhci9jYWNoZS9hcHQvcGtnY2FjaGUuYmluIHwgXAogICAgdGFpbCAtbiAzIHwgXAogICAgaGVhZCAtbiAxIHwgXAogICAgY3V0IC1kJyAnIC1mMikKICBfTk9XX0RBVEU9JChkYXRlICsiJVktJW0tJWQiKQogIGlmIFsgIiRfTEFTVF9EQVlfRVhFQ1VURUQiICE9ICIkX05PV19EQVRFIiBdOyB0aGVuCiAgICB1cGRhdGVQYWNrYWdlcwogIGZpOwplbHNlCiAgdXBkYXRlUGFja2FnZXMKZmk7Cg==' | base64 -d)
