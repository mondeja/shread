#!/bin/bash
source <(printf 'IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfTVNHX0VYRUNVVEVEX0FTX1NVUEVSVVNFUj0iVGhpcyBzY3JpcHQgbmVlZHMgdG8gYmUgZXhlY3V0ZWQgYXMgc3VwZXJ1c2VyLiIKX01TR19VUERBVElOR19TWVNURU1fUEFDS0FHRVM9IlVwZGF0aW5nIHN5c3RlbSBwYWNrYWdlcy4uLiIKaWYgW1sgJCgvdXNyL2Jpbi9pZCAtdSkgLW5lIDAgXV07IHRoZW4KICBwcmludGYgIiVzXG4iICIkX01TR19FWEVDVVRFRF9BU19TVVBFUlVTRVIiID4mMgogIGV4aXQgMQpmaTsKSU5ERU5UX1NUUklORz0iIgpfVVBEQVRFPTAKZm9yIGFyZyBpbiAiJEAiOyBkbwogIGNhc2UgJGFyZyBpbgogICAgLS1pbmRlbnQpCiAgICBzaGlmdAogICAgSU5ERU5UX1NUUklORz0kMQogICAgc2hpZnQKICAgIDs7CiAgICAtLXVwZGF0ZSkKICAgIF9VUERBVEU9MQogICAgc2hpZnQKICAgIDs7CiAgZXNhYwpkb25lCmZ1bmN0aW9uIHByaW50UHJlcGVuZGVkU3Rkb3V0KCkgewogIHByaW50ZiAiJXMiICIkSU5ERU5UX1NUUklORyIKfQppZiBbICIkKGNvbW1hbmQgLXYgcGFjbWFuKSIgPSAiIiBdOyB0aGVuCiAgU0NSSVBUX0ZJTEVOQU1FPSIkKGJhc2VuYW1lICIkMCIpIgogIGlmIFsgIiRTQ1JJUFRfRklMRU5BTUUiID0gIm1haW4uc2giIF07IHRoZW4KICAgIGZpbGVwYXRoPSJzcmMvdW5peC9fL2Rvd25sb2FkL3BhY2FwdC9tYWluLnNoIgogICAgYmFzaCAiJGZpbGVwYXRoIiA+IC9kZXYvbnVsbAogIGVsc2UKICAgIHVybD0iaHR0cHM6Ly9tb25kZWphLmdpdGh1Yi5pby9zaHJlYWQvdW5peC9fL2Rvd25sb2FkL3BhY2FwdC8kU0NSSVBUX0ZJTEVOQU1FIgogICAgY3VybCAtc0wgIiR1cmwiIHwgc3VkbyBiYXNoIC0gPiAvZGV2L251bGwKICBmaTsKZmk7CmZ1bmN0aW9uIHVwZGF0ZVBhY2thZ2VzKCkgewogIHByaW50UHJlcGVuZGVkU3Rkb3V0CiAgcHJpbnRmICIlcyIgIiRfTVNHX1VQREFUSU5HX1NZU1RFTV9QQUNLQUdFUyIKICBzdWRvIHBhY21hbiB1cGRhdGUgPiAvZGV2L251bGwgfHwgZXhpdCAkPwogIGlmIFsgJF9VUERBVEUgLWVxIDEgXTsgdGhlbgogICAgc3VkbyBwYWNtYW4gLVN5dSAteSA+JjIgPiAvZGV2L251bGwgfHwgZXhpdCAkPwogIGZpOwogIHByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgp9CmlmIFsgLWYgIi92YXIvY2FjaGUvYXB0L3BrZ2NhY2hlLmJpbiIgXTsgdGhlbgogIF9MQVNUX0RBWV9FWEVDVVRFRD0kKAogICAgc3RhdCAvdmFyL2NhY2hlL2FwdC9wa2djYWNoZS5iaW4gfCBcCiAgICB0YWlsIC1uIDMgfCBcCiAgICBoZWFkIC1uIDEgfCBcCiAgICBjdXQgLWQnICcgLWYyKQogIF9OT1dfREFURT0kKGRhdGUgKyIlWS0lbS0lZCIpCiAgaWYgWyAiJF9MQVNUX0RBWV9FWEVDVVRFRCIgIT0gIiRfTk9XX0RBVEUiIF07IHRoZW4KICAgIHVwZGF0ZVBhY2thZ2VzCiAgZmk7CmVsc2UKICB1cGRhdGVQYWNrYWdlcwpmaTsK' | base64 -d)
