#!/bin/bash
source <(printf 'IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfTVNHX0VYRUNVVEVEX0FTX1NVUEVSVVNFUj0iVGhpcyBzY3JpcHQgbmVlZHMgdG8gYmUgZXhlY3V0ZWQgYXMgc3VwZXJ1c2VyLiIKX01TR19VUERBVElOR19TWVNURU1fUEFDS0FHRVM9IlVwZGF0aW5nIHN5c3RlbSBwYWNrYWdlcy4uLiIKX01TR19FUlJPUl9VUERBVElOR19TWVNURU1fUEFDS0FHRVM9IkFuIGVycm9yIGhhcHBlbiB1cGRhdGluZyBzeXN0ZW0gcGFja2FnZXMuIgpfTVNHX1JFTEFVTkNISU5HX1dJVEhfU1RET1VUPSJSZWxhdW5jaGluZyB3aXRoIHN0YW5kYXJkIG91dHB1dCBhbmQgY2FuY2VsaW5nIHRoZSBpbnN0YWxsYXRpb24uLi4iCmlmIFtbICQoL3Vzci9iaW4vaWQgLXUpIC1uZSAwIF1dOyB0aGVuCiAgcHJpbnRmICIlc1xuIiAiJF9NU0dfRVhFQ1VURURfQVNfU1VQRVJVU0VSIiA+JjIKICBleGl0IDEKZmk7Cl9QUkVQRU5EX1NURE9VVF9TVFJJTkc9IiIKX1VQREFURT0wCmZvciBhcmcgaW4gIiRAIgpkbwogICAgY2FzZSAkYXJnIGluCiAgICAgICAgLS1wcmVwZW5kLXN0ZG91dCkKICAgICAgICBzaGlmdAogICAgICAgIF9QUkVQRU5EX1NURE9VVF9TVFJJTkc9JDEKICAgICAgICBzaGlmdAogICAgICAgIDs7CiAgICAgICAgLS11cGRhdGUpCiAgICAgICAgX1VQREFURT0xCiAgICAgICAgc2hpZnQKICAgICAgICA7OwogICAgZXNhYwpkb25lCmZ1bmN0aW9uIHByaW50UHJlcGVuZGVkU3Rkb3V0KCkgewogIHByaW50ZiAiJXMiICIkX1BSRVBFTkRfU1RET1VUX1NUUklORyIKfQpmdW5jdGlvbiB1cGRhdGVQYWNrYWdlcygpIHsKICBwcmludFByZXBlbmRlZFN0ZG91dAogIHByaW50ZiAiJXMiICIkX01TR19VUERBVElOR19TWVNURU1fUEFDS0FHRVMiCiAgc3VkbyBhcHQtZ2V0IHVwZGF0ZSAteSAtcXFxIHx8IGV4aXQgJD8KICBpZiBbICRfVVBEQVRFIC1lcSAxIF07IHRoZW4KICAgIHN1ZG8gYXB0LWdldCB1cGdyYWRlIC15IC1xcXEgPiAvZGV2L251bGwKICAgIF9VUEdSQURFX0NPTU1BTkRfRVhJVF9DT0RFPSQ/CiAgICBpZiBbICRfVVBHUkFERV9DT01NQU5EX0VYSVRfQ09ERSAtbmUgMCBdOyB0aGVuCiAgICAgIHByaW50ZiAiJXNcbiIgIiRfTVNHX0VSUk9SX1VQREFUSU5HX1NZU1RFTV9QQUNLQUdFUyIgPiYyCiAgICAgIHByaW50ZiAiJXNcbiIgIiRfTVNHX1JFTEFVTkNISU5HX1dJVEhfU1RET1VUIiA+JjIKICAgICAgc3VkbyBhcHQtZ2V0IHVwZ3JhZGUgLXkKICAgICAgZXhpdCAkX1VQR1JBREVfQ09NTUFORF9FWElUX0NPREUKICAgIGZpOwogIGZpOwogIHByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgp9CmlmIFsgLWYgIi92YXIvY2FjaGUvYXB0L3BrZ2NhY2hlLmJpbiIgXTsgdGhlbgogIF9MQVNUX0RBWV9FWEVDVVRFRD0kKAogICAgc3RhdCAvdmFyL2NhY2hlL2FwdC9wa2djYWNoZS5iaW4gfCBcCiAgICB0YWlsIC1uIDMgfCBcCiAgICBoZWFkIC1uIDEgfCBcCiAgICBjdXQgLWQnICcgLWYyKQogIF9OT1dfREFURT0kKGRhdGUgKyIlWS0lbS0lZCIpCiAgaWYgWyAiJF9MQVNUX0RBWV9FWEVDVVRFRCIgIT0gIiRfTk9XX0RBVEUiIF07IHRoZW4KICAgIHVwZGF0ZVBhY2thZ2VzCiAgZmk7CmVsc2UKICB1cGRhdGVQYWNrYWdlcwpmaTsK' | base64 -d)
