#!/bin/bash
H='IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfU0NSSVBUX0ZJTEVOQU1FPWVzLnNoCiMhL2Jpbi9iYXNoCl9NU0dfTEVBVklOR19QT1JUU19GUkVFPSIiCklOREVOVF9TVFJJTkc9IiIKX1BPUlRTX1NUUklORz0iIgpmdW5jdGlvbiB1c2FnZSB7CiAgICBjYXQgPDxIRUxQX1VTQUdFClVzbzogdW5peC9fL3V0aWwvcHJvY2Vzcy9raWxsLXJ1bm5pbmctb24tcG9ydHMvJF9TQ1JJUFRfRklMRU5BTUUgWy1oXSBbLWkgU1RSSU5HXSBbLXAgUE9SVDEsUE9SVDIuLi5dCgogICBLaWxscyBhbGwgdGhlIHByb2Nlc3NlcyBydW5uaW5nIGluIHRoZSBzeXN0ZW0gdGhhdCBhcmUgdXNpbmcgdGhlIHBvcnRzIHNwZWNpZmllZCB3aXRoIHRoZSBwYXJhbWV0ZXIgJy0tcG9ydHMnLgoKT3BjaW9uZXM6CiAgLWgsIC0taGVscCAgICAgICAgICAgICAgICAgICAgICAgIFNob3cgdGhpcyBoZWxwIG1lc3NhZ2UgYW5kIGV4aXQuCiAgLWkgU1RSSU5HLCAtLWluZGVudCBTVFJJTkcgICAgICAgIEVhY2ggbGluZSBvZiB0aGUgc2NyaXB0IG91dHB1dCB3aWxsIGJlIHByZWNlZGVkIHdpdGggdGhlIHN0cmluZyBkZWZpbmVkIGluIHRoaXMgcGFyYW1ldGVyLgogIC1wIFBPUlQxLFBPUlQyLi4uLCAtLXBvcnRzIFBPUlQxLFBPUlQyLi4uCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExpc3Qgb2YgcG9ydHMgc2VwYXJhdGVkIGJ5IGNvbW1hcywgd2hpY2ggcHJvY2VzcyB3aWxsIGJlIHN0b3BwZWQuCgpIRUxQX1VTQUdFCiAgICBleGl0IDEKfQpmb3IgYXJnIGluICIkQCI7IGRvCiAgY2FzZSAkYXJnIGluCiAgICAtaXwtLWluZGVudCkKICAgIElOREVOVF9TVFJJTkc9IiQyIgogICAgc2hpZnQgMgogICAgOzsKICAgIC1ofC0taGVscCkKICAgIHNoaWZ0CiAgICB1c2FnZQogICAgOzsgICAgCiAgICAtcHwtLXBvcnRzKQogICAgc2hpZnQKICAgIF9QT1JUU19TVFJJTkc9JDEKICAgIHNoaWZ0CiAgICA7OwogIGVzYWMKZG9uZQpmdW5jdGlvbiBwcmludEluZGVudCgpIHsKICBwcmludGYgIiVzIiAiJElOREVOVF9TVFJJTkciCn0KZnVuY3Rpb24gaW5zdGFsbFBhY21hbklmTm90SW5zdGFsbGVkKCkgewogIGlmIFsgIiQoY29tbWFuZCAtdiBwYWNtYW4pIiA9ICIiIF07IHRoZW4KICAgIHVybD0iaHR0cHM6Ly9tb25kZWphLmdpdGh1Yi5pby9zaHJlYWQvdW5peC9fL2Rvd25sb2FkL3BhY2FwdC8kX1NDUklQVF9GSUxFTkFNRSIKICAgIGN1cmwgLXNMICIkdXJsIiB8IHN1ZG8gYmFzaCAtID4gL2Rldi9udWxsCiAgZmk7Cn0KZnVuY3Rpb24gaW5zdGFsbFNjcmlwdERlcGVuZGVuY2llcygpIHsKICBpbnN0YWxsUGFjbWFuSWZOb3RJbnN0YWxsZWQKICBpZiBbWyAiJChzdWRvIHBhY21hbiAtUWkgbmV0LXRvb2xzIDI+IC9kZXYvbnVsbCB8IGdyZXAgU3RhdHVzKSIgIT0gIlN0YXR1czogaW5zdGFsbCBvayBpbnN0YWxsZWQiIF1dOyB0aGVuCiAgICBzdWRvIHBhY21hbiAtUyBuZXQtdG9vbHMgPiAvZGV2L251bGwgfHwgZXhpdCAkPwogIGZpOwp9CmZ1bmN0aW9uIG1haW4gewogIGluc3RhbGxTY3JpcHREZXBlbmRlbmNpZXMKICBwcmludEluZGVudAogIHByaW50ZiAiJXMuLi5cbiIgIiRfTVNHX0xFQVZJTkdfUE9SVFNfRlJFRSIKICBfUE9SVFM9JChlY2hvICIkX1BPUlRTX1NUUklORyIgfCB0ciAiLCIgIlxuIikKICBmb3IgUE9SVCBpbiAkX1BPUlRTOyBkbwogICAgcHJpbnRJbmRlbnQKICAgIHByaW50ZiAiICAlcyIgIiRQT1JUIgogICAgVU5LTk9XTl9TRVJWSUNFX1BJRD0kKAogICAgICBzdWRvIG5ldHN0YXQgLW5scCB8IGdyZXAgLUUgIlswLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cOiRQT1JUfFw6XDpcOiRQT1JUIiB8ICAgICAgIGF3ayAne3ByaW50ICQ3fScgfCAgICAgICBzZWQgLWUgInMvXC8uKi8vZyIpCiAgICBpZiBbWyAtbiAiJFVOS05PV05fU0VSVklDRV9QSUQiIF1dOyB0aGVuCiAgICAgIHN1ZG8ga2lsbCAiJFVOS05PV05fU0VSVklDRV9QSUQiCiAgICBmaTsKICAgIHByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgogIGRvbmUKfQppZiAocmV0dXJuIDAgMj4vZGV2L251bGwpOyB0aGVuCiAgZXhwb3J0VmFyaWFibGVzCmVsc2UKICBtYWluCmZpOw=='
if (return 0 2>/dev/null); then
  source <(printf "%s" "$H" | base64 -d)
else
  echo "$(echo "$H" | base64 -d)" | bash -s -- "$@"
fi;
