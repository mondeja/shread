#!/bin/bash
H='IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfU0NSSVBUX0ZJTEVOQU1FPWVuLnNoCiMhL2Jpbi9iYXNoCl9NU0dfTEVBVklOR19QT1JUU19GUkVFPSJMZWF2aW5nIHBvcnRzIGZyZWUgb2YgcHJvY2Vzc2VzLi4uIgpJTkRFTlRfU1RSSU5HPSIiCl9QT1JUU19TVFJJTkc9IiIKZnVuY3Rpb24gdXNhZ2UgewogICAgY2F0IDw8SEVMUF9VU0FHRQpVc2FnZTogdW5peC9fL3V0aWwvcHJvY2Vzcy9raWxsLXJ1bm5pbmctb24tcG9ydHMvJF9TQ1JJUFRfRklMRU5BTUUgWy1oXSBbLWkgU1RSSU5HXSBbLXAgUE9SVDEsUE9SVDIuLi5dCgogIEtpbGxzIGFsbCB0aGUgcHJvY2Vzc2VzIHJ1bm5pbmcgaW4gdGhlIHN5c3RlbSB0aGF0IGFyZSB1c2luZyB0aGUgcG9ydHMgc3BlY2lmaWVkIHdpdGggdGhlIHBhcmFtZXRlciAnLS1wb3J0cycuCgpPcHRpb25zOgogIC1oLCAtLWhlbHAgICAgICAgICAgICAgICAgICAgICAgICBTaG93IHRoaXMgaGVscCBtZXNzYWdlIGFuZCBleGl0LgogIC1pIFNUUklORywgLS1pbmRlbnQgU1RSSU5HICAgICAgICBFYWNoIGxpbmUgb2YgdGhlIHNjcmlwdCBvdXRwdXQgd2lsbCBiZSBwcmVjZWRlZCB3aXRoIHRoZSBzdHJpbmcgZGVmaW5lZCBpbiB0aGlzIHBhcmFtZXRlci4KICAtcCBQT1JUMSxQT1JUMi4uLiwgLS1wb3J0cyBQT1JUMSxQT1JUMi4uLgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMaXN0IG9mIHBvcnRzIHNlcGFyYXRlZCBieSBjb21tYXMgd2hpY2ggcHJvY2VzcyB3aWxsIGJlIHRlcm1pbmF0ZWQuCgpIRUxQX1VTQUdFCiAgICBleGl0IDEKfQpmb3IgYXJnIGluICIkQCI7IGRvCiAgY2FzZSAkYXJnIGluCiAgICAtaXwtLWluZGVudCkKICAgIElOREVOVF9TVFJJTkc9IiQyIgogICAgc2hpZnQgMgogICAgOzsKICAgIC1ofC0taGVscCkKICAgIHNoaWZ0CiAgICB1c2FnZQogICAgOzsgICAgCiAgICAtcHwtLXBvcnRzKQogICAgc2hpZnQKICAgIF9QT1JUU19TVFJJTkc9JDEKICAgIHNoaWZ0CiAgICA7OwogIGVzYWMKZG9uZQpmdW5jdGlvbiBwcmludEluZGVudCgpIHsKICBwcmludGYgIiVzIiAiJElOREVOVF9TVFJJTkciCn0KZnVuY3Rpb24gaW5zdGFsbFBhY21hbklmTm90SW5zdGFsbGVkKCkgewogIGlmIFsgIiQoY29tbWFuZCAtdiBwYWNtYW4pIiA9ICIiIF07IHRoZW4KICAgIHVybD0iaHR0cHM6Ly9tb25kZWphLmdpdGh1Yi5pby9zaHJlYWQvdW5peC9fL2Rvd25sb2FkL3BhY2FwdC8kX1NDUklQVF9GSUxFTkFNRSIKICAgIGN1cmwgLXNMICIkdXJsIiB8IHN1ZG8gYmFzaCAtID4gL2Rldi9udWxsCiAgZmk7Cn0KZnVuY3Rpb24gaW5zdGFsbFNjcmlwdERlcGVuZGVuY2llcygpIHsKICBpbnN0YWxsUGFjbWFuSWZOb3RJbnN0YWxsZWQKICBpZiBbWyAiJChzdWRvIHBhY21hbiAtUWkgbmV0LXRvb2xzIDI+IC9kZXYvbnVsbCB8IGdyZXAgU3RhdHVzKSIgIT0gIlN0YXR1czogaW5zdGFsbCBvayBpbnN0YWxsZWQiIF1dOyB0aGVuCiAgICBzdWRvIHBhY21hbiAtUyBuZXQtdG9vbHMgPiAvZGV2L251bGwgfHwgZXhpdCAkPwogIGZpOwp9CmZ1bmN0aW9uIG1haW4gewogIGluc3RhbGxTY3JpcHREZXBlbmRlbmNpZXMKICBwcmludEluZGVudAogIHByaW50ZiAiJXMuLi5cbiIgIiRfTVNHX0xFQVZJTkdfUE9SVFNfRlJFRSIKICBfUE9SVFM9JChlY2hvICIkX1BPUlRTX1NUUklORyIgfCB0ciAiLCIgIlxuIikKICBmb3IgUE9SVCBpbiAkX1BPUlRTOyBkbwogICAgcHJpbnRJbmRlbnQKICAgIHByaW50ZiAiICAlcyIgIiRQT1JUIgogICAgVU5LTk9XTl9TRVJWSUNFX1BJRD0kKAogICAgICBzdWRvIG5ldHN0YXQgLW5scCB8IGdyZXAgLUUgIlswLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cOiRQT1JUfFw6XDpcOiRQT1JUIiB8ICAgICAgIGF3ayAne3ByaW50ICQ3fScgfCAgICAgICBzZWQgLWUgInMvXC8uKi8vZyIpCiAgICBpZiBbWyAtbiAiJFVOS05PV05fU0VSVklDRV9QSUQiIF1dOyB0aGVuCiAgICAgIHN1ZG8ga2lsbCAiJFVOS05PV05fU0VSVklDRV9QSUQiCiAgICBmaTsKICAgIHByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgogIGRvbmUKfQppZiAocmV0dXJuIDAgMj4vZGV2L251bGwpOyB0aGVuCiAgZXhwb3J0VmFyaWFibGVzCmVsc2UKICBtYWluCmZpOw=='
if (return 0 2>/dev/null); then
  source <(printf "%s" "$H" | base64 -d)
else
  echo "$(echo "$H" | base64 -d)" | bash -s -- "$@"
fi;
