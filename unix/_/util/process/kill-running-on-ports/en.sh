#!/bin/bash
H='IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfU0NSSVBUX0ZJTEVOQU1FPWVuLnNoCiMhL2Jpbi9iYXNoCl9NU0dfTEVBVklOR19QT1JUU19GUkVFPSJMZWF2aW5nIHBvcnRzIGZyZWUgb2YgcHJvY2Vzc2VzLi4uIgpJTkRFTlRfU1RSSU5HPSIiClNFVFg9MApfUE9SVFNfU1RSSU5HPSIiCmZ1bmN0aW9uIHVzYWdlIHsKICAgIGNhdCA8PEhFTFBfVVNBR0UKVXNhZ2U6IHVuaXgvXy91dGlsL3Byb2Nlc3Mva2lsbC1ydW5uaW5nLW9uLXBvcnRzLyRfU0NSSVBUX0ZJTEVOQU1FIFstaF0gWy1pIFNUUklOR10gWy1wIFBPUlQxLFBPUlQyLi4uXQoKICBLaWxscyBhbGwgdGhlIHByb2Nlc3NlcyBydW5uaW5nIGluIHRoZSBzeXN0ZW0gdGhhdCBhcmUgdXNpbmcgdGhlIHBvcnRzIHNwZWNpZmllZCB3aXRoIHRoZSBwYXJhbWV0ZXIgJy0tcG9ydHMnLgoKT3B0aW9uczoKICAtaCwgLS1oZWxwICAgICAgICAgICAgICAgICAgICAgICAgU2hvdyB0aGlzIGhlbHAgbWVzc2FnZSBhbmQgZXhpdC4KICAtaSBTVFJJTkcsIC0taW5kZW50IFNUUklORyAgICAgICAgRWFjaCBsaW5lIG9mIHRoZSBzY3JpcHQgb3V0cHV0IHdpbGwgYmUgcHJlY2VkZWQgd2l0aCB0aGUgc3RyaW5nIGRlZmluZWQgaW4gdGhpcyBwYXJhbWV0ZXIuCiAgLS1zZXQteCAgICAgICAgICAgICAgICAgICAgICAgICAgIFNldHMgdGhlIC14IG9wdGlvbiBpbiBCYXNoIHRvIHByaW50IG91dCB0aGUgc3RhdGVtZW50cyBhcyB0aGV5IGFyZSBiZWluZyBleGVjdXRlZC4gVXNlZnVsIGZvciBkZWJ1Z2dpbmcgcHVycG9zZXMuCiAgLXAgUE9SVDEsUE9SVDIuLi4sIC0tcG9ydHMgUE9SVDEsUE9SVDIuLi4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTGlzdCBvZiBwb3J0cyBzZXBhcmF0ZWQgYnkgY29tbWFzIHdoaWNoIHByb2Nlc3Mgd2lsbCBiZSB0ZXJtaW5hdGVkLgoKSEVMUF9VU0FHRQogICAgZXhpdCAxCn0KZm9yIGFyZyBpbiAiJEAiOyBkbwogIGNhc2UgJGFyZyBpbgogICAgLWl8LS1pbmRlbnQpCiAgICBJTkRFTlRfU1RSSU5HPSIkMiIKICAgIHNoaWZ0IDIKICAgIDs7CiAgICAtaHwtLWhlbHApCiAgICBzaGlmdAogICAgdXNhZ2UKICAgIDs7ICAgIC0tc2V0LXgpCiAgICBTRVRYPTEKICAgIHNoaWZ0CiAgICA7OyAgICAKICAgIC1wfC0tcG9ydHMpCiAgICBzaGlmdAogICAgX1BPUlRTX1NUUklORz0kMQogICAgc2hpZnQKICAgIDs7CiAgZXNhYwpkb25lCmZ1bmN0aW9uIHByaW50SW5kZW50KCkgewogIHByaW50ZiAiJXMiICIkSU5ERU5UX1NUUklORyIKfQppZiBbICIkU0VUWCIgLWVxIDEgXTsgdGhlbiBzZXQgLXg7IGZpCmZ1bmN0aW9uIGluc3RhbGxQYWNtYW5JZk5vdEluc3RhbGxlZCgpIHsKICBpZiBbICIkKGNvbW1hbmQgLXYgcGFjbWFuKSIgPSAiIiBdOyB0aGVuCiAgICB1cmw9Imh0dHBzOi8vbW9uZGVqYS5naXRodWIuaW8vc2hyZWFkL3VuaXgvXy9kb3dubG9hZC9wYWNhcHQvJF9TQ1JJUFRfRklMRU5BTUUiCiAgICBjdXJsIC1zTCAiJHVybCIgfCBzdWRvIGJhc2ggLSA+IC9kZXYvbnVsbAogIGZpOwp9CmZ1bmN0aW9uIGluc3RhbGxTY3JpcHREZXBlbmRlbmNpZXMoKSB7CiAgaW5zdGFsbFBhY21hbklmTm90SW5zdGFsbGVkCiAgaWYgW1sgIiQoc3VkbyBwYWNtYW4gLVFpIG5ldC10b29scyAyPiAvZGV2L251bGwgfCBncmVwIFN0YXR1cykiICE9ICJTdGF0dXM6IGluc3RhbGwgb2sgaW5zdGFsbGVkIiBdXTsgdGhlbgogICAgc3VkbyBwYWNtYW4gLVMgbmV0LXRvb2xzID4gL2Rldi9udWxsIHx8IGV4aXQgJD8KICBmaTsKfQpmdW5jdGlvbiBtYWluIHsKICBpbnN0YWxsU2NyaXB0RGVwZW5kZW5jaWVzCiAgcHJpbnRJbmRlbnQKICBwcmludGYgIiVzLi4uXG4iICIkX01TR19MRUFWSU5HX1BPUlRTX0ZSRUUiCiAgX1BPUlRTPSQoZWNobyAiJF9QT1JUU19TVFJJTkciIHwgdHIgIiwiICJcbiIpCiAgZm9yIFBPUlQgaW4gJF9QT1JUUzsgZG8KICAgIHByaW50SW5kZW50CiAgICBwcmludGYgIiAgJXMiICIkUE9SVCIKICAgIFVOS05PV05fU0VSVklDRV9QSUQ9JCgKICAgICAgc3VkbyBuZXRzdGF0IC1ubHAgfCBncmVwIC1FICJbMC05XXsxLDN9XC5bMC05XXsxLDN9XC5bMC05XXsxLDN9XC5bMC05XXsxLDN9XDokUE9SVHxcOlw6XDokUE9SVCIgfCAgICAgICBhd2sgJ3twcmludCAkN30nIHwgICAgICAgc2VkIC1lICJzL1wvLiovL2ciKQogICAgaWYgW1sgLW4gIiRVTktOT1dOX1NFUlZJQ0VfUElEIiBdXTsgdGhlbgogICAgICBzdWRvIGtpbGwgIiRVTktOT1dOX1NFUlZJQ0VfUElEIgogICAgZmk7CiAgICBwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKICBkb25lCn0KaWYgKHJldHVybiAwIDI+L2Rldi9udWxsKTsgdGhlbgogIGV4cG9ydFZhcmlhYmxlcwplbHNlCiAgbWFpbgpmaTsKaWYgWyAiJFNFVFgiIC1lcSAxIF07IHRoZW4gc2V0ICt4OyBmaQ=='
if (return 0 2>/dev/null); then
  source <(printf "%s" "$H" | base64 -d)
else
  echo "$(echo "$H" | base64 -d)" | bash -s -- "$@"
fi;
