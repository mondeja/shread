#!/bin/bash
H='IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfU0NSSVBUX0ZJTEVOQU1FPWVzLnNoCiMhL2Jpbi9iYXNoCklOREVOVF9TVFJJTkc9IiIKZnVuY3Rpb24gdXNhZ2UgewogICAgY2F0IDw8SEVMUF9VU0FHRQpVc2FnZTogc3JjL3VuaXgvXy91dGlsL2dldC1kaXN0cm8gWy1oXSBbLWldIAoKICBFeHBvc2VzIGluZm9ybWF0aW9uIGFib3V0IHRoZSBkaXN0aWJ1dGlvbiBvZiB0aGUgc3lzdGVtLiBUaGlzIHNjcmlwdCBtdXN0IGJlIHNvdXJjZWQuCiAgWW91IGNhbiBjaGVjayB0aGUgaW5mb3JtYXRpb24gb2YgdGhlIGRpc3RyaWJ1dGlvbiBpbiB0aGUgbmV4dCBlbnZpcm9ubWVudCB2YXJpYWJsZXM6CgogIC0gJ1VOSVhfRElTVFJPJzogTG93ZXJjYXNlZCBkaXN0cmlidXRpb24gaWRlbnRpZmljYXRvciBuYW1lIG9mIHRoZSBzeXN0ZW0uIEZvciBleGFtcGxlOiAndWJ1bnR1Jy4KICAtICdVTklYX0RJU1RST19DQVBJVEFMSVpFRCc6IENhcGl0YWxpemVkIGRpc3RyaWJ1dGlvbiBpZGVudGlmaWNhdG9yIG5hbWUgb2YgdGhlIHN5c3RlbS4gRm9yIGV4YW1wbGU6ICdVYnVudHUnLgogIC0gJ1VOSVhfRElTVFJPX1ZFUlNJT05fTkFNRSc6IExvd2VyY2FzZWQgZGlzdHJpYnV0aW9uIHZlcnNpb24gbmFtZS4gRm9yIGV4YW1wbGU6ICdmb2NhbCcuCiAgLSAnVU5JWF9ESVNUUk9fVkVSU0lPTl9OVU1CRVInOiBEZXN0cmlidXRpb24gdmVyc2lvbiBudW1iZXIuIEZvciBleGFtcGxlOiAnMjAuMDQnLgogIC0gJ1VOSVhfRElTVFJPX1ZFUlNJT05fTlVNQkVSX01BSk9SJzogRGlzdHJpYnV0aW9uIG1ham9yIHZlcnNpb24gbnVtYmVyLiBGb3IgZXhhbXBsZTogJzIwJy4KICAtICdVTklYX0RJU1RST19WRVJTSU9OX05VTUJFUl9NSU5PUic6IERpc3RyaWJ1dGlvbiBtaW5vciB2ZXJzaW9uIG51bWJlci4gRm9yIGV4YW1wbGU6ICcwNCcuCgpPcHRpb25zOgogIC1oLCAtLWhlbHAgICAgICAgICAgICAgICAgICAgICAgICBTaG93IHRoaXMgaGVscCBtZXNzYWdlIGFuZCBleGl0LgogIC1pLCAtLWluZGVudCBTVFJJTkcgICAgICAgICAgICAgICBFYWNoIGxpbmUgb2YgdGhlIHNjcmlwdCBvdXRwdXQgd2lsbCBiZSBwcmVjZWRlZCB3aXRoIHRoZSBzdHJpbmcgZGVmaW5lZCBpbiB0aGlzIHBhcmFtZXRlci4KCkhFTFBfVVNBR0UKICAgIGV4aXQgMQp9CmZvciBhcmcgaW4gIiRAIjsgZG8KICBjYXNlICRhcmcgaW4KICAgIC1pfC0taW5kZW50KQogICAgc2hpZnQKICAgIElOREVOVF9TVFJJTkc9JDEKICAgIHNoaWZ0CiAgICA7OwogICAgLWh8LS1oZWxwKQogICAgc2hpZnQKICAgIHVzYWdlCiAgICA7OwogIGVzYWMKZG9uZQpmdW5jdGlvbiBwcmludEluZGVudCgpIHsKICBwcmludGYgIiVzIiAiJElOREVOVF9TVFJJTkciCn0KZnVuY3Rpb24gZXhwb3J0VmFyaWFibGVzIHsKICBpZiBbICIkKGNvbW1hbmQgLXYgbHNiX3JlbGVhc2UpIiA9ICIiIF07IHRoZW4KICAgIHN1ZG8gYXB0LWdldCBpbnN0YWxsIC15IC1xcXEgbHNiLXJlbGVhc2UgPiAvZGV2L251bGwKICBmaTsKICBpZiBbIC1mIC9ldGMvbHNiLXJlbGVhc2UgXSB8fCBbIC1kIC9ldGMvbHNiLXJlbGVhc2UuZCBdOyB0aGVuCiAgICBVTklYX0RJU1RSTz0kKGxzYl9yZWxlYXNlIC1pIHwgY3V0IC1kOiAtZjIgfCBzZWQgcy8nXlx0Jy8vKQogIGVsc2UKICAgIFVOSVhfRElTVFJPPSQobHMgLWQgL2V0Yy9bQS1aYS16XSpbXy1dW3J2XWVbbHJdKiB8IGdyZXAgLXYgImxzYiIgfCBjdXQgLWQnLycgLWYzIHwgY3V0IC1kJy0nIC1mMSB8IGN1dCAtZCdfJyAtZjEpCiAgZmkKICBpZiBbICIkKGVjaG8gIiRVTklYX0RJU1RSTyIgfCBoZWFkIC1uIDEpIiA9ICJkZWJpYW4iIF07IHRoZW4KICAgIFVOSVhfRElTVFJPPSJkZWJpYW4iCiAgZWxpZiBbICIkVU5JWF9ESVNUUk8iID0gIlVidW50dSIgXTsgdGhlbgogICAgVU5JWF9ESVNUUk89InVidW50dSIKICBmaTsKICBVTklYX0RJU1RST19WRVJTSU9OX05BTUU9IiQobHNiX3JlbGVhc2UgLWNzKSIKICBVTklYX0RJU1RST19WRVJTSU9OX05VTUJFUj0iJChsc2JfcmVsZWFzZSAtcnMpIgogIFVOSVhfRElTVFJPX1ZFUlNJT05fTlVNQkVSX01BSk9SPSQoCiAgICBwcmludGYgIiVzIiAiJFVOSVhfRElTVFJPX1ZFUlNJT05fTlVNQkVSIiB8IGN1dCAtZCcuJyAtZjEpCiAgVU5JWF9ESVNUUk9fVkVSU0lPTl9OVU1CRVJfTUlOT1I9IiIKICBpZiBbWyAkVU5JWF9ESVNUUk9fVkVSU0lPTl9OVU1CRVIgPT0gKiIuIiogXV07IHRoZW4KICAgIFVOSVhfRElTVFJPX1ZFUlNJT05fTlVNQkVSX01JTk9SPSQoCiAgICAgIHByaW50ZiAiJXMiICIkVU5JWF9ESVNUUk9fVkVSU0lPTl9OVU1CRVIiIHwgY3V0IC1kJy4nIC1mMikKICBmaTsKICBVTklYX0RJU1RST19DQVBJVEFMSVpFRD0iJCh0ciAnWzpsb3dlcjpdJyAnWzp1cHBlcjpdJyA8PDwgJHtVTklYX0RJU1RSTzowOjF9KSR7VU5JWF9ESVNUUk86MX0iCiAgZXhwb3J0IFVOSVhfRElTVFJPCiAgZXhwb3J0IFVOSVhfRElTVFJPX0NBUElUQUxJWkVECiAgZXhwb3J0IFVOSVhfRElTVFJPX1ZFUlNJT05fTkFNRQogIGV4cG9ydCBVTklYX0RJU1RST19WRVJTSU9OX05VTUJFUgogIGV4cG9ydCBVTklYX0RJU1RST19WRVJTSU9OX05VTUJFUl9NQUpPUgogIGV4cG9ydCBVTklYX0RJU1RST19WRVJTSU9OX05VTUJFUl9NSU5PUgp9CmlmIChyZXR1cm4gMCAyPi9kZXYvbnVsbCk7IHRoZW4KICBleHBvcnRWYXJpYWJsZXMKZWxzZQogIG1haW4KZmk7'
if (return 0 2>/dev/null); then
  source <(printf "%s" "$H" | base64 -d)
else
  echo "$(echo "$H" | base64 -d)" | bash -s -- "$@"
fi;
