#!/bin/bash
H='IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfU0NSSVBUX0ZJTEVOQU1FPWVuLnNoCiMhL2Jpbi9iYXNoCklOREVOVF9TVFJJTkc9IiIKZnVuY3Rpb24gdXNhZ2UgewogICAgY2F0IDw8SEVMUF9VU0FHRQpVc2FnZTogdW5peC9fL3V0aWwvZ2V0LWRpc3Ryby8kX1NDUklQVF9GSUxFTkFNRSBbLWhdIFstaSBTVFJJTkddIAoKICBFeHBvc2VzIGluZm9ybWF0aW9uIGFib3V0IHRoZSBkaXN0aWJ1dGlvbiBvZiB0aGUgc3lzdGVtLiBUaGlzIHNjcmlwdCBtdXN0IGJlIHNvdXJjZWQuCiAgWW91IGNhbiBjaGVjayB0aGUgaW5mb3JtYXRpb24gb2YgdGhlIGRpc3RyaWJ1dGlvbiBpbiB0aGUgbmV4dCBlbnZpcm9ubWVudCB2YXJpYWJsZXM6CgogIC0gJ1VOSVhfRElTVFJPJzogTG93ZXJjYXNlZCBkaXN0cmlidXRpb24gaWRlbnRpZmljYXRvciBuYW1lIG9mIHRoZSBzeXN0ZW0uIEZvciBleGFtcGxlOiAndWJ1bnR1Jy4KICAtICdVTklYX0RJU1RST19DQVBJVEFMSVpFRCc6IENhcGl0YWxpemVkIGRpc3RyaWJ1dGlvbiBpZGVudGlmaWNhdG9yIG5hbWUgb2YgdGhlIHN5c3RlbS4gRm9yIGV4YW1wbGU6ICdVYnVudHUnLgogIC0gJ1VOSVhfRElTVFJPX1ZFUlNJT05fTkFNRSc6IExvd2VyY2FzZWQgZGlzdHJpYnV0aW9uIHZlcnNpb24gbmFtZS4gRm9yIGV4YW1wbGU6ICdmb2NhbCcuCiAgLSAnVU5JWF9ESVNUUk9fVkVSU0lPTl9OVU1CRVInOiBEZXN0cmlidXRpb24gdmVyc2lvbiBudW1iZXIuIEZvciBleGFtcGxlOiAnMjAuMDQnLgogIC0gJ1VOSVhfRElTVFJPX1ZFUlNJT05fTlVNQkVSX01BSk9SJzogRGlzdHJpYnV0aW9uIG1ham9yIHZlcnNpb24gbnVtYmVyLiBGb3IgZXhhbXBsZTogJzIwJy4KICAtICdVTklYX0RJU1RST19WRVJTSU9OX05VTUJFUl9NSU5PUic6IERpc3RyaWJ1dGlvbiBtaW5vciB2ZXJzaW9uIG51bWJlci4gRm9yIGV4YW1wbGU6ICcwNCcuCgpPcHRpb25zOgogIC1oLCAtLWhlbHAgICAgICAgICAgICAgICAgICAgICAgICBTaG93IHRoaXMgaGVscCBtZXNzYWdlIGFuZCBleGl0LgogIC1pIFNUUklORywgLS1pbmRlbnQgU1RSSU5HICAgICAgICBFYWNoIGxpbmUgb2YgdGhlIHNjcmlwdCBvdXRwdXQgd2lsbCBiZSBwcmVjZWRlZCB3aXRoIHRoZSBzdHJpbmcgZGVmaW5lZCBpbiB0aGlzIHBhcmFtZXRlci4KSEVMUF9VU0FHRQogICAgZXhpdCAxCn0KZm9yIGFyZyBpbiAiJEAiOyBkbwogIGNhc2UgJGFyZyBpbgogICAgLWl8LS1pbmRlbnQpCiAgICBzaGlmdAogICAgSU5ERU5UX1NUUklORz0iJDEiCiAgICBzaGlmdAogICAgOzsKICAgIC1ofC0taGVscCkKICAgIHNoaWZ0CiAgICB1c2FnZQogICAgOzsgICAgICBlc2FjCmRvbmUKZnVuY3Rpb24gcHJpbnRJbmRlbnQoKSB7CiAgcHJpbnRmICIlcyIgIiRJTkRFTlRfU1RSSU5HIgp9CmZ1bmN0aW9uIGV4cG9ydFZhcmlhYmxlcyB7CiAgaWYgWyAiJChjb21tYW5kIC12IGxzYl9yZWxlYXNlKSIgPSAiIiBdOyB0aGVuCiAgICBzdWRvIGFwdC1nZXQgaW5zdGFsbCAteSAtcXFxIGxzYi1yZWxlYXNlID4gL2Rldi9udWxsCiAgZmk7CiAgaWYgWyAtZiAvZXRjL2xzYi1yZWxlYXNlIF0gfHwgWyAtZCAvZXRjL2xzYi1yZWxlYXNlLmQgXTsgdGhlbgogICAgVU5JWF9ESVNUUk89JChsc2JfcmVsZWFzZSAtaSB8IGN1dCAtZDogLWYyIHwgc2VkIHMvJ15cdCcvLykKICBlbHNlCiAgICBVTklYX0RJU1RSTz0kKGxzIC1kIC9ldGMvW0EtWmEtel0qW18tXVtydl1lW2xyXSogfCBncmVwIC12ICJsc2IiIHwgY3V0IC1kJy8nIC1mMyB8IGN1dCAtZCctJyAtZjEgfCBjdXQgLWQnXycgLWYxKQogIGZpCiAgaWYgWyAiJChlY2hvICIkVU5JWF9ESVNUUk8iIHwgaGVhZCAtbiAxKSIgPSAiZGViaWFuIiBdOyB0aGVuCiAgICBVTklYX0RJU1RSTz0iZGViaWFuIgogIGVsaWYgWyAiJFVOSVhfRElTVFJPIiA9ICJVYnVudHUiIF07IHRoZW4KICAgIFVOSVhfRElTVFJPPSJ1YnVudHUiCiAgZmk7CiAgVU5JWF9ESVNUUk9fVkVSU0lPTl9OQU1FPSIkKGxzYl9yZWxlYXNlIC1jcykiCiAgVU5JWF9ESVNUUk9fVkVSU0lPTl9OVU1CRVI9IiQobHNiX3JlbGVhc2UgLXJzKSIKICBVTklYX0RJU1RST19WRVJTSU9OX05VTUJFUl9NQUpPUj0kKAogICAgcHJpbnRmICIlcyIgIiRVTklYX0RJU1RST19WRVJTSU9OX05VTUJFUiIgfCBjdXQgLWQnLicgLWYxKQogIFVOSVhfRElTVFJPX1ZFUlNJT05fTlVNQkVSX01JTk9SPSIiCiAgaWYgW1sgJFVOSVhfRElTVFJPX1ZFUlNJT05fTlVNQkVSID09ICoiLiIqIF1dOyB0aGVuCiAgICBVTklYX0RJU1RST19WRVJTSU9OX05VTUJFUl9NSU5PUj0kKAogICAgICBwcmludGYgIiVzIiAiJFVOSVhfRElTVFJPX1ZFUlNJT05fTlVNQkVSIiB8IGN1dCAtZCcuJyAtZjIpCiAgZmk7CiAgVU5JWF9ESVNUUk9fQ0FQSVRBTElaRUQ9IiQodHIgJ1s6bG93ZXI6XScgJ1s6dXBwZXI6XScgPDw8ICR7VU5JWF9ESVNUUk86MDoxfSkke1VOSVhfRElTVFJPOjF9IgogIGV4cG9ydCBVTklYX0RJU1RSTwogIGV4cG9ydCBVTklYX0RJU1RST19DQVBJVEFMSVpFRAogIGV4cG9ydCBVTklYX0RJU1RST19WRVJTSU9OX05BTUUKICBleHBvcnQgVU5JWF9ESVNUUk9fVkVSU0lPTl9OVU1CRVIKICBleHBvcnQgVU5JWF9ESVNUUk9fVkVSU0lPTl9OVU1CRVJfTUFKT1IKICBleHBvcnQgVU5JWF9ESVNUUk9fVkVSU0lPTl9OVU1CRVJfTUlOT1IKfQppZiAocmV0dXJuIDAgMj4vZGV2L251bGwpOyB0aGVuCiAgZXhwb3J0VmFyaWFibGVzCmVsc2UKICBtYWluCmZpOw=='
if (return 0 2>/dev/null); then
  source <(printf "%s" "$H" | base64 -d)
else
  echo "$(echo "$H" | base64 -d)" | bash -s -- "$@"
fi;
