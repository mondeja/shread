#!/bin/bash
H='IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfU0NSSVBUX0ZJTEVOQU1FPWVzLnNoCiMhL2Jpbi9iYXNoCl9NU0dfTVVTVF9TUEVDSUZZX0FERFJFU1M9IkRlYmVzIGVzcGVjaWZpY2FyIHVuYSBkaXJlY2Npw7NuIGNvbiBlbCBwYXLDoW1ldHJvIgpJTkRFTlRfU1RSSU5HPSIiCl9BRERSRVNTPSIiCl9NQVhfQVRURU1QVFM9NDAKX1NMRUVQPTEKX1BSSU5URl9CRVRXRUVOX1NMRUVQUz0iIgpfSU5TRUNVUkU9IiIKZnVuY3Rpb24gdXNhZ2UgewogICAgY2F0IDw8SEVMUF9VU0FHRQpVc2FnZTogdW5peC9fL3V0aWwvdGNwL2NoZWNrLWFkZHJlc3MvJF9TQ1JJUFRfRklMRU5BTUUgWy1oXSBbLWkgU1RSSU5HXSBbLWtdIFstYSBBRERSRVNTXSBbLW0gTUFYX0FUVEVNUFRTXSBbLXMgU0VDT05EU10gWy1wIFBSSU5UX0JFVFdFRU5fU0xFRVBTXQoKICBDaGVjayBpZiBhIFRDUCBhZGRyZXNzIGlzIG9wZXJhdGl2ZSB0aHJvdWdoIEhUVFAgdXNpbmcgY3VybC4KCk9wdGlvbnM6CiAgLWgsIC0taGVscCAgICAgICAgICAgICAgICAgICAgICAgIFNob3cgdGhpcyBoZWxwIG1lc3NhZ2UgYW5kIGV4aXQuCiAgLWkgU1RSSU5HLCAtLWluZGVudCBTVFJJTkcgICAgICAgIEVhY2ggbGluZSBvZiB0aGUgc2NyaXB0IG91dHB1dCB3aWxsIGJlIHByZWNlZGVkIHdpdGggdGhlIHN0cmluZyBkZWZpbmVkIGluIHRoaXMgcGFyYW1ldGVyLgogIC1hLCAtLWFkZHJlc3MgQUREUkVTUyAgICAgICAgICAgICBFbmRwb2ludCB0byBjaGVjayBpZiBpcyBvcGVyYXRpdmUuCiAgLW0sIC0tbWF4LWF0dGVtcHRzIEFUVEVNUFRTICAgICAgIE1heGltdW0gbnVtYmVyIG9mIGF0dGVtcHMgY2hlY2tpbmcgaWYgdGhlIHByb3ZpZGVkIGFkZHJlc3MgaXMgb3BlcmF0aXZlLiBBcyBkZWZhdWx0IDQwLgogIC1zLCAtLXNsZWVwIFNFQ09ORFMgICAgICAgICAgICAgICBOdW1iZXIgb2Ygc2Vjb25kcyB0byBzbGVlcCBiZXR3ZWVuIGF0dGVtcHRzLiBBcyBkZWZhdWx0IDEuCiAgLXAsIC0tcHJpbnQtYmV0d2Vlbi1zbGVlcHMgICAgICAgIFN0cmluZyB0byBwcmludGYgYmV0d2VlbiBhdHRlbXBzIChiZWZvcmUgc2xlZXApLgogIC1rLCAtLWluc2VjdXJlICAgICAgICAgICAgICAgICAgICBQZXJmb3JtIGluc2VjdXJlIFNTTCBjb25uZWN0aW9uIChwYXNzZXMgJy0taW5zZWN1cmUnIHRvIGN1cmwgY29tbWFuZCkuCgpIRUxQX1VTQUdFCiAgICBleGl0IDEKfQpmb3IgYXJnIGluICIkQCI7IGRvCiAgY2FzZSAkYXJnIGluCiAgICAtaXwtLWluZGVudCkKICAgIHNoaWZ0CiAgICBJTkRFTlRfU1RSSU5HPSIkMSIKICAgIHNoaWZ0CiAgICA7OwogICAgLWh8LS1oZWxwKQogICAgc2hpZnQKICAgIHVzYWdlCiAgICA7OyAgICAKICAgIC1hfC0tYWRkcmVzcykKICAgIHNoaWZ0CiAgICBfQUREUkVTUz0kMQogICAgc2hpZnQKICAgIDs7CiAgICAtbXwtLW1heC1hdHRlbXB0cykKICAgIHNoaWZ0CiAgICBfTUFYX0FUVEVNUFRTPSQxCiAgICBzaGlmdAogICAgOzsKICAgIC1zfC0tc2xlZXApCiAgICBzaGlmdAogICAgX1NMRUVQPSQxCiAgICBzaGlmdAogICAgOzsKICAgIC1wfC0tcHJpbnQtYmV0d2Vlbi1zbGVlcHMpCiAgICBzaGlmdAogICAgX1BSSU5URl9CRVRXRUVOX1NMRUVQUz0kMQogICAgc2hpZnQKICAgIDs7CiAgICAtLWluc2VjdXJlKQogICAgX0lOU0VDVVJFPSItLWluc2VjdXJlIgogICAgc2hpZnQKICAgIDs7CiAgICAqKQogICAgc2hpZnQKICAgIHVzYWdlCiAgICA7OwogIGVzYWMKZG9uZQpmdW5jdGlvbiBwcmludEluZGVudCgpIHsKICBwcmludGYgIiVzIiAiJElOREVOVF9TVFJJTkciCn0KZnVuY3Rpb24gaW5zdGFsbFBhY21hbklmTm90SW5zdGFsbGVkKCkgewogIGlmIFsgIiQoY29tbWFuZCAtdiBwYWNtYW4pIiA9ICIiIF07IHRoZW4KICAgIHVybD0iaHR0cHM6Ly9tb25kZWphLmdpdGh1Yi5pby9zaHJlYWQvdW5peC9fL2Rvd25sb2FkL3BhY2FwdC8kX1NDUklQVF9GSUxFTkFNRSIKICAgIGN1cmwgLXNMICIkdXJsIiB8IHN1ZG8gYmFzaCAtID4gL2Rldi9udWxsCiAgZmk7Cn0KZnVuY3Rpb24gaW5zdGFsbFNjcmlwdERlcGVuZGVuY2llcygpIHsKICBpbnN0YWxsUGFjbWFuSWZOb3RJbnN0YWxsZWQKICBpZiBbWyAiJChzdWRvIHBhY21hbiAtUWkgY3VybCAyPiAvZGV2L251bGwgfCBncmVwIFN0YXR1cykiICE9ICJTdGF0dXM6IGluc3RhbGwgb2sgaW5zdGFsbGVkIiBdXTsgdGhlbgogICAgc3VkbyBwYWNtYW4gLVMgLS0gLXkgY3VybCA+IC9kZXYvbnVsbCB8fCBleGl0ICQ/CiAgZmk7Cn0KZnVuY3Rpb24gbWFpbigpIHsKICBpZiBbIC16ICIkX0FERFJFU1MiIF07IHRoZW4KICAgIHByaW50SW5kZW50ID4mMgogICAgcHJpbnRmICIlcyAtLWFkZHJlc3MiICIkX01TR19NVVNUX1NQRUNJRllfQUREUkVTUyIgPiYyCiAgICBleGl0IDEKICBmaTsKICBpbnN0YWxsU2NyaXB0RGVwZW5kZW5jaWVzCiAgdW50aWwgY3VybCAtc0wgLS1vdXRwdXQgL2Rldi9udWxsICIkX0lOU0VDVVJFIiAtLWhlYWQgLS1mYWlsICIkX0FERFJFU1MiOyBkbwogICAgcHJpbnRmICIlcyIgIiRfUFJJTlRGX0JFVFdFRU5fU0xFRVBTIgogICAgc2xlZXAgIiRfU0xFRVAiCiAgICBfQVRURU1QVFM9IiQoKCIkX0FUVEVNUFRTIiArIDEpKSIKICAgIGlmIFsgIiRfQVRURU1QVFMiIC1ndCAiJF9NQVhfQVRURU1QVFMiIF07IHRoZW4KICAgICAgZXhpdCAxCiAgICBmaTsKICBkb25lCn0KaWYgKHJldHVybiAwIDI+L2Rldi9udWxsKTsgdGhlbgogIGV4cG9ydFZhcmlhYmxlcwplbHNlCiAgbWFpbgpmaTs='
if (return 0 2>/dev/null); then
  source <(printf "%s" "$H" | base64 -d)
else
  echo "$(echo "$H" | base64 -d)" | bash -s -- "$@"
fi;
