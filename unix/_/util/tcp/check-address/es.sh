#!/bin/bash
H='IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfU0NSSVBUX0ZJTEVOQU1FPWVzLnNoCiMhL2Jpbi9iYXNoCl9NU0dfTVVTVF9TUEVDSUZZX0FERFJFU1M9IiIKSU5ERU5UX1NUUklORz0iIgpfQUREUkVTUz0iIgpfTUFYX0FUVEVNUFRTPTQwCl9TTEVFUD0xCl9QUklOVEZfQkVUV0VFTl9TTEVFUFM9IiIKX0lOU0VDVVJFPSIiCmZ1bmN0aW9uIHVzYWdlIHsKICAgIGNhdCA8PEhFTFBfVVNBR0UKVXNvOiB1bml4L18vdXRpbC90Y3AvY2hlY2stYWRkcmVzcy8kX1NDUklQVF9GSUxFTkFNRSBbLWhdIFstaSBTVFJJTkddIFsta10gWy1hIEFERFJFU1NdIFstbSBNQVhfQVRURU1QVFNdIFstcyBTRUNPTkRTXSBbLXAgUFJJTlRfQkVUV0VFTl9TTEVFUFNdCgogICBDaGVjayBpZiBhIFRDUCBhZGRyZXNzIGlzIG9wZXJhdGl2ZSB0aHJvdWdoIEhUVFAgdXNpbmcgY3VybC4KCk9wY2lvbmVzOgogIC1oLCAtLWhlbHAgICAgICAgICAgICAgICAgICAgICAgICBTaG93IHRoaXMgaGVscCBtZXNzYWdlIGFuZCBleGl0LgogIC1pIFNUUklORywgLS1pbmRlbnQgU1RSSU5HICAgICAgICBFYWNoIGxpbmUgb2YgdGhlIHNjcmlwdCBvdXRwdXQgd2lsbCBiZSBwcmVjZWRlZCB3aXRoIHRoZSBzdHJpbmcgZGVmaW5lZCBpbiB0aGlzIHBhcmFtZXRlci4KICAtYSBBRERSRVNTLCAtLWFkZHJlc3MgQUREUkVTUyAgICAgRW5kcG9pbnQgdG8gY2hlY2sgaWYgaXQgaXMgb3BlcmF0aXZlLgogIC1tIEFUVEVNUFRTLCAtLW1heC1hdHRlbXB0cyBBVFRFTVBUUwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXhpbXVtIG51bWJlciBvZiBhdHRlbXBzIGNoZWNraW5nIGlmIHRoZSBwcm92aWRlZCBhZGRyZXNzIGlzIG9wZXJhdGl2ZS4gQXMgZGVmYXVsdCA0MC4KICAtcyBTRUNPTkRTLCAtLXNsZWVwIFNFQ09ORFMgICAgICAgTnVtYmVyIG9mIHNlY29uZHMgdG8gc2xlZXAgYmV0d2VlbiBhdHRlbXB0cy4gQXMgZGVmYXVsdCAxLgogIC1wLCAtLXByaW50LWJldHdlZW4tc2xlZXBzICAgICAgICBTdHJpbmcgdG8gcHJpbnRmIGJldHdlZW4gYXR0ZW1wcyAoYmVmb3JlIHNsZWVwKS4KICAtaywgLS1pbnNlY3VyZSAgICAgICAgICAgICAgICAgICAgUGVyZm9ybSBpbnNlY3VyZSBTU0wgY29ubmVjdGlvbiAocGFzc2VzICctLWluc2VjdXJlJyB0byBjdXJsIGNvbW1hbmQpLgoKSEVMUF9VU0FHRQogICAgZXhpdCAxCn0KZm9yIGFyZyBpbiAiJEAiOyBkbwogIGNhc2UgJGFyZyBpbgogICAgLWl8LS1pbmRlbnQpCiAgICBJTkRFTlRfU1RSSU5HPSIkMiIKICAgIHNoaWZ0IDIKICAgIDs7CiAgICAtaHwtLWhlbHApCiAgICBzaGlmdAogICAgdXNhZ2UKICAgIDs7ICAgIAogICAgLWF8LS1hZGRyZXNzKQogICAgc2hpZnQKICAgIF9BRERSRVNTPSQxCiAgICBzaGlmdAogICAgOzsKICAgIC1tfC0tbWF4LWF0dGVtcHRzKQogICAgc2hpZnQKICAgIF9NQVhfQVRURU1QVFM9JDEKICAgIHNoaWZ0CiAgICA7OwogICAgLXN8LS1zbGVlcCkKICAgIHNoaWZ0CiAgICBfU0xFRVA9JDEKICAgIHNoaWZ0CiAgICA7OwogICAgLXB8LS1wcmludC1iZXR3ZWVuLXNsZWVwcykKICAgIHNoaWZ0CiAgICBfUFJJTlRGX0JFVFdFRU5fU0xFRVBTPSQxCiAgICBzaGlmdAogICAgOzsKICAgIC0taW5zZWN1cmUpCiAgICBfSU5TRUNVUkU9Ii0taW5zZWN1cmUiCiAgICBzaGlmdAogICAgOzsKICBlc2FjCmRvbmUKZnVuY3Rpb24gcHJpbnRJbmRlbnQoKSB7CiAgcHJpbnRmICIlcyIgIiRJTkRFTlRfU1RSSU5HIgp9CmZ1bmN0aW9uIGluc3RhbGxQYWNtYW5JZk5vdEluc3RhbGxlZCgpIHsKICBpZiBbICIkKGNvbW1hbmQgLXYgcGFjbWFuKSIgPSAiIiBdOyB0aGVuCiAgICB1cmw9Imh0dHBzOi8vbW9uZGVqYS5naXRodWIuaW8vc2hyZWFkL3VuaXgvXy9kb3dubG9hZC9wYWNhcHQvJF9TQ1JJUFRfRklMRU5BTUUiCiAgICBjdXJsIC1zTCAiJHVybCIgfCBzdWRvIGJhc2ggLSA+IC9kZXYvbnVsbAogIGZpOwp9CmZ1bmN0aW9uIGluc3RhbGxTY3JpcHREZXBlbmRlbmNpZXMoKSB7CiAgaW5zdGFsbFBhY21hbklmTm90SW5zdGFsbGVkCiAgaWYgW1sgIiQoc3VkbyBwYWNtYW4gLVFpIGN1cmwgMj4gL2Rldi9udWxsIHwgZ3JlcCBTdGF0dXMpIiAhPSAiU3RhdHVzOiBpbnN0YWxsIG9rIGluc3RhbGxlZCIgXV07IHRoZW4KICAgIHN1ZG8gcGFjbWFuIC1TIC0tIC15IGN1cmwgPiAvZGV2L251bGwgfHwgZXhpdCAkPwogIGZpOwp9CmZ1bmN0aW9uIG1haW4oKSB7CiAgaWYgWyAteiAiJF9BRERSRVNTIiBdOyB0aGVuCiAgICBwcmludEluZGVudCA+JjIKICAgIHByaW50ZiAiJXMgLS1hZGRyZXNzIiAiJF9NU0dfTVVTVF9TUEVDSUZZX0FERFJFU1MiID4mMgogICAgZXhpdCAxCiAgZmk7CiAgaW5zdGFsbFNjcmlwdERlcGVuZGVuY2llcwogIHVudGlsIGN1cmwgLXNMIC0tb3V0cHV0IC9kZXYvbnVsbCAiJF9JTlNFQ1VSRSIgLS1oZWFkIC0tZmFpbCAiJF9BRERSRVNTIjsgZG8KICAgIHByaW50ZiAiJXMiICIkX1BSSU5URl9CRVRXRUVOX1NMRUVQUyIKICAgIHNsZWVwICIkX1NMRUVQIgogICAgX0FUVEVNUFRTPSIkKCgiJF9BVFRFTVBUUyIgKyAxKSkiCiAgICBpZiBbICIkX0FUVEVNUFRTIiAtZ3QgIiRfTUFYX0FUVEVNUFRTIiBdOyB0aGVuCiAgICAgIGV4aXQgMQogICAgZmk7CiAgZG9uZQp9CmlmIChyZXR1cm4gMCAyPi9kZXYvbnVsbCk7IHRoZW4KICBleHBvcnRWYXJpYWJsZXMKZWxzZQogIG1haW4KZmk7'
if (return 0 2>/dev/null); then
  source <(printf "%s" "$H" | base64 -d)
else
  echo "$(echo "$H" | base64 -d)" | bash -s -- "$@"
fi;
