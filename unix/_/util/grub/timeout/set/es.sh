#!/bin/bash
source <(printf 'IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfTVNHX0VYRUNVVEVEX0FTX1NVUEVSVVNFUj0iRXN0ZSBzY3JpcHQgbmVjZXNpdGEgc2VyIGVqZWN1dGFkbyBjb21vIHN1cGVydXN1YXJpby4iCl9NU0dfU0VUVElOR19HUlVCX1RJTUVPVVQ9IkRlZmluaWVuZG8gdGllbXBvIGRlIGV4cGlyYWNpw7NuIGRlIGFycmFucXVlIHBhcmEgR3J1YiIKX01TR19HUlVCX0ZJTEVfTk9UX0ZPVU5EPSJBcmNoaXZvIGRlIGNvbmZpZ3VyYWNpw7NuIGRlIEdydWIgbm8gZW5jb250cmFkbyIKaWYgW1sgJCgvdXNyL2Jpbi9pZCAtdSkgLW5lIDAgXV07IHRoZW4KICBwcmludGYgIiVzXG4iICIkX01TR19FWEVDVVRFRF9BU19TVVBFUlVTRVIiID4mMgogIGV4aXQgMQpmaTsKX1BSRVBFTkRfU1RET1VUX1NUUklORz0iIgpfTkVXX1RJTUVPVVQ9IjEwIgpfQ09ORklHX0ZJTEVQQVRIPSIvZXRjL2RlZmF1bHQvZ3J1YiIKZm9yIGFyZyBpbiAiJEAiOyBkbwogIGNhc2UgJGFyZyBpbgogICAgLS1wcmVwZW5kLXN0ZG91dCkKICAgIHNoaWZ0CiAgICBfUFJFUEVORF9TVERPVVRfU1RSSU5HPSQxCiAgICBzaGlmdAogICAgOzsKICAgIC0tdGltZW91dCkKICAgIHNoaWZ0CiAgICBfTkVXX1RJTUVPVVQ9JDEKICAgIHNoaWZ0CiAgICA7OwogICAgLS1jb25maWctZmlsZXBhdGgpCiAgICBzaGlmdAogICAgX0NPTkZJR19GSUxFUEFUSD0kMQogICAgc2hpZnQKICAgIDs7CiAgZXNhYwpkb25lCl9ORVdfVElNRU9VVD0iJChwcmludGYgIiVzIiAiJF9ORVdfVElNRU9VVCIgfCBzZWQgLWUgJ3MvW1s6c3BhY2U6XV0qLy9nJykiCmZ1bmN0aW9uIHByaW50UHJlcGVuZGVkU3Rkb3V0KCkgewogIHByaW50ZiAiJXMiICIkX1BSRVBFTkRfU1RET1VUX1NUUklORyIKfQpmdW5jdGlvbiBjaGVja0dydWJGaWxlRXhpc3RzKCkgewogIGlmIFsgISAtZiAiJF9DT05GSUdfRklMRVBBVEgiIF07IHRoZW4KICAgIHByaW50UHJlcGVuZGVkU3Rkb3V0CiAgICBwcmludGYgIiVzICglcykiICIkX01TR19HUlVCX0ZJTEVfTk9UX0ZPVU5EIiAiJF9DT05GSUdfRklMRVBBVEgiID4mMgogICAgcHJpbnRmICIgXGVbOTFtXHhFMlx4OUNceDk1XGVbMzltXG4iID4mMgogICAgZXhpdCAwCiAgZmk7Cn0KZnVuY3Rpb24gc2V0TmV3R3J1YlRpbWVvdXQoKSB7CiAgcHJpbnRQcmVwZW5kZWRTdGRvdXQKICBwcmludGYgIiVzICglcykuLi4iICIkX01TR19TRVRUSU5HX0dSVUJfVElNRU9VVCIgIiRfTkVXX1RJTUVPVVQiCiAgX0dSVUJfVElNRU9VVF9DT05GSUdfRVhJU1RTPSIkKCBncmVwICJHUlVCX1RJTUVPVVQ9IiA8ICIkX0NPTkZJR19GSUxFUEFUSCIpIgogIGlmIFsgIiRfR1JVQl9USU1FT1VUX0NPTkZJR19FWElTVFMiID0gIiIgXTsgdGhlbgogICAgcHJpbnRmICJcbkdSVUJfVElNRU9VVD0lc1xuIiAiJF9ORVdfVElNRU9VVCIgPj4gIiRfQ09ORklHX0ZJTEVQQVRIIgogIGVsc2UKICAgIF9DVVJSRU5UX1RJTUVPVVQ9IiQoCiAgICAgIChncmVwICJHUlVCX1RJTUVPVVQ9IiB8IGN1dCAtZCc9JyAtZjIpIDwgIiRfQ09ORklHX0ZJTEVQQVRIIiApIgogICAgaWYgWyAiJF9DVVJSRU5UX1RJTUVPVVQiICE9ICIkX05FV19USU1FT1VUIiBdOyB0aGVuCiAgICAgIHNlZCAtaSAicy9HUlVCX1RJTUVPVVQ9WzAtOV0qL0dSVUJfVElNRU9VVD0kX05FV19USU1FT1VULyIgIiRfQ09ORklHX0ZJTEVQQVRIIgogICAgZmk7CiAgZmk7CiAgcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCn0KZnVuY3Rpb24gbWFpbigpIHsKICBjaGVja0dydWJGaWxlRXhpc3RzCiAgc2V0TmV3R3J1YlRpbWVvdXQKfQptYWluCg==' | base64 -d)
