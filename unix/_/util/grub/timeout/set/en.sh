#!/bin/bash
source <(printf 'IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfTVNHX0VYRUNVVEVEX0FTX1NVUEVSVVNFUj0iVGhpcyBzY3JpcHQgbmVlZHMgdG8gYmUgZXhlY3V0ZWQgYXMgc3VwZXJ1c2VyLiIKX01TR19TRVRUSU5HX0dSVUJfVElNRU9VVD0iU2V0dGluZyBib290IHRpbWVvdXQgZm9yIEdydWIiCl9NU0dfR1JVQl9GSUxFX05PVF9GT1VORD0iR3J1YiBjb25maWd1cmF0aW9uIGZpbGUgbm90IGZvdW5kIgppZiBbWyAkKC91c3IvYmluL2lkIC11KSAtbmUgMCBdXTsgdGhlbgogIHByaW50ZiAiJXNcbiIgIiRfTVNHX0VYRUNVVEVEX0FTX1NVUEVSVVNFUiIgPiYyCiAgZXhpdCAxCmZpOwpJTkRFTlRfU1RSSU5HPSIiCl9ORVdfVElNRU9VVD0iMTAiCl9DT05GSUdfRklMRVBBVEg9Ii9ldGMvZGVmYXVsdC9ncnViIgpmb3IgYXJnIGluICIkQCI7IGRvCiAgY2FzZSAkYXJnIGluCiAgICAtLWluZGVudCkKICAgIHNoaWZ0CiAgICBJTkRFTlRfU1RSSU5HPSQxCiAgICBzaGlmdAogICAgOzsKICAgIC0tdGltZW91dCkKICAgIHNoaWZ0CiAgICBfTkVXX1RJTUVPVVQ9JDEKICAgIHNoaWZ0CiAgICA7OwogICAgLS1jb25maWctZmlsZXBhdGgpCiAgICBzaGlmdAogICAgX0NPTkZJR19GSUxFUEFUSD0kMQogICAgc2hpZnQKICAgIDs7CiAgZXNhYwpkb25lCl9ORVdfVElNRU9VVD0iJChwcmludGYgIiVzIiAiJF9ORVdfVElNRU9VVCIgfCBzZWQgLWUgJ3MvW1s6c3BhY2U6XV0qLy9nJykiCmZ1bmN0aW9uIHByaW50SW5kZW50KCkgewogIHByaW50ZiAiJXMiICIkSU5ERU5UX1NUUklORyIKfQpmdW5jdGlvbiBjaGVja0dydWJGaWxlRXhpc3RzKCkgewogIGlmIFsgISAtZiAiJF9DT05GSUdfRklMRVBBVEgiIF07IHRoZW4KICAgIHByaW50SW5kZW50CiAgICBwcmludGYgIiVzICglcykiICIkX01TR19HUlVCX0ZJTEVfTk9UX0ZPVU5EIiAiJF9DT05GSUdfRklMRVBBVEgiID4mMgogICAgcHJpbnRmICIgXGVbOTFtXHhFMlx4OUNceDk1XGVbMzltXG4iID4mMgogICAgZXhpdCAwCiAgZmk7Cn0KZnVuY3Rpb24gc2V0TmV3R3J1YlRpbWVvdXQoKSB7CiAgcHJpbnRJbmRlbnQKICBwcmludGYgIiVzICglcykuLi4iICIkX01TR19TRVRUSU5HX0dSVUJfVElNRU9VVCIgIiRfTkVXX1RJTUVPVVQiCiAgX0dSVUJfVElNRU9VVF9DT05GSUdfRVhJU1RTPSIkKCBncmVwICJHUlVCX1RJTUVPVVQ9IiA8ICIkX0NPTkZJR19GSUxFUEFUSCIpIgogIGlmIFsgIiRfR1JVQl9USU1FT1VUX0NPTkZJR19FWElTVFMiID0gIiIgXTsgdGhlbgogICAgcHJpbnRmICJcbkdSVUJfVElNRU9VVD0lc1xuIiAiJF9ORVdfVElNRU9VVCIgPj4gIiRfQ09ORklHX0ZJTEVQQVRIIgogIGVsc2UKICAgIF9DVVJSRU5UX1RJTUVPVVQ9IiQoCiAgICAgIChncmVwICJHUlVCX1RJTUVPVVQ9IiB8IGN1dCAtZCc9JyAtZjIpIDwgIiRfQ09ORklHX0ZJTEVQQVRIIiApIgogICAgaWYgWyAiJF9DVVJSRU5UX1RJTUVPVVQiICE9ICIkX05FV19USU1FT1VUIiBdOyB0aGVuCiAgICAgIHNlZCAtaSAicy9HUlVCX1RJTUVPVVQ9WzAtOV0qL0dSVUJfVElNRU9VVD0kX05FV19USU1FT1VULyIgIiRfQ09ORklHX0ZJTEVQQVRIIgogICAgZmk7CiAgZmk7CiAgcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCn0KZnVuY3Rpb24gbWFpbigpIHsKICBjaGVja0dydWJGaWxlRXhpc3RzCiAgc2V0TmV3R3J1YlRpbWVvdXQKfQptYWluCg==' | base64 -d)
