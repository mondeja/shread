#!/bin/bash
H='IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfU0NSSVBUX0ZJTEVOQU1FPWVuLnNoCl9NU0dfRVhFQ1VURURfQVNfU1VQRVJVU0VSPSJUaGlzIHNjcmlwdCBuZWVkcyB0byBiZSBleGVjdXRlZCBhcyBzdXBlcnVzZXIuIgpfTVNHX1NFVFRJTkdfR1JVQl9USU1FT1VUPSJTZXR0aW5nIGJvb3QgdGltZW91dCBmb3IgR3J1YiIKX01TR19HUlVCX0ZJTEVfTk9UX0ZPVU5EPSJHcnViIGNvbmZpZ3VyYXRpb24gZmlsZSBub3QgZm91bmQiCmlmIFtbICQoL3Vzci9iaW4vaWQgLXUpIC1uZSAwIF1dOyB0aGVuCiAgcHJpbnRmICIlc1xuIiAiJF9NU0dfRVhFQ1VURURfQVNfU1VQRVJVU0VSIiA+JjIKICBleGl0IDEKZmk7CklOREVOVF9TVFJJTkc9IiIKX05FV19USU1FT1VUPSIxMCIKX0NPTkZJR19GSUxFUEFUSD0iL2V0Yy9kZWZhdWx0L2dydWIiCmZvciBhcmcgaW4gIiRAIjsgZG8KICBjYXNlICRhcmcgaW4KICAgIC0taW5kZW50KQogICAgc2hpZnQKICAgIElOREVOVF9TVFJJTkc9JDEKICAgIHNoaWZ0CiAgICA7OwogICAgLS10aW1lb3V0KQogICAgc2hpZnQKICAgIF9ORVdfVElNRU9VVD0kMQogICAgc2hpZnQKICAgIDs7CiAgICAtLWNvbmZpZy1maWxlcGF0aCkKICAgIHNoaWZ0CiAgICBfQ09ORklHX0ZJTEVQQVRIPSQxCiAgICBzaGlmdAogICAgOzsKICBlc2FjCmRvbmUKX05FV19USU1FT1VUPSIkKHByaW50ZiAiJXMiICIkX05FV19USU1FT1VUIiB8IHNlZCAtZSAncy9bWzpzcGFjZTpdXSovL2cnKSIKZnVuY3Rpb24gcHJpbnRJbmRlbnQoKSB7CiAgcHJpbnRmICIlcyIgIiRJTkRFTlRfU1RSSU5HIgp9CmZ1bmN0aW9uIGNoZWNrR3J1YkZpbGVFeGlzdHMoKSB7CiAgaWYgWyAhIC1mICIkX0NPTkZJR19GSUxFUEFUSCIgXTsgdGhlbgogICAgcHJpbnRJbmRlbnQKICAgIHByaW50ZiAiJXMgKCVzKSIgIiRfTVNHX0dSVUJfRklMRV9OT1RfRk9VTkQiICIkX0NPTkZJR19GSUxFUEFUSCIgPiYyCiAgICBwcmludGYgIiBcZVs5MW1ceEUyXHg5Q1x4OTVcZVszOW1cbiIgPiYyCiAgICBleGl0IDAKICBmaTsKfQpmdW5jdGlvbiBzZXROZXdHcnViVGltZW91dCgpIHsKICBwcmludEluZGVudAogIHByaW50ZiAiJXMgKCVzKS4uLiIgIiRfTVNHX1NFVFRJTkdfR1JVQl9USU1FT1VUIiAiJF9ORVdfVElNRU9VVCIKICBfR1JVQl9USU1FT1VUX0NPTkZJR19FWElTVFM9IiQoIGdyZXAgIkdSVUJfVElNRU9VVD0iIDwgIiRfQ09ORklHX0ZJTEVQQVRIIikiCiAgaWYgWyAiJF9HUlVCX1RJTUVPVVRfQ09ORklHX0VYSVNUUyIgPSAiIiBdOyB0aGVuCiAgICBwcmludGYgIlxuR1JVQl9USU1FT1VUPSVzXG4iICIkX05FV19USU1FT1VUIiA+PiAiJF9DT05GSUdfRklMRVBBVEgiCiAgZWxzZQogICAgX0NVUlJFTlRfVElNRU9VVD0iJCgKICAgICAgKGdyZXAgIkdSVUJfVElNRU9VVD0iIHwgY3V0IC1kJz0nIC1mMikgPCAiJF9DT05GSUdfRklMRVBBVEgiICkiCiAgICBpZiBbICIkX0NVUlJFTlRfVElNRU9VVCIgIT0gIiRfTkVXX1RJTUVPVVQiIF07IHRoZW4KICAgICAgc2VkIC1pICJzL0dSVUJfVElNRU9VVD1bMC05XSovR1JVQl9USU1FT1VUPSRfTkVXX1RJTUVPVVQvIiAiJF9DT05GSUdfRklMRVBBVEgiCiAgICBmaTsKICBmaTsKICBwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKfQpmdW5jdGlvbiBtYWluKCkgewogIGNoZWNrR3J1YkZpbGVFeGlzdHMKICBzZXROZXdHcnViVGltZW91dAp9Cm1haW4K'
if (return 0 2>/dev/null); then
  source <(printf "%s" "$H" | base64 -d)
else
  echo "$(echo "$H" | base64 -d)" | bash -s -
fi;
