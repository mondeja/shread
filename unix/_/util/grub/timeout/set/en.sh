#!/bin/bash
H='IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfU0NSSVBUX0ZJTEVOQU1FPWVuLnNoCiMhL2Jpbi9iYXNoCl9NU0dfU0VUVElOR19HUlVCX1RJTUVPVVQ9IlNldHRpbmcgYm9vdCB0aW1lb3V0IGZvciBHcnViIgpfTVNHX0dSVUJfRklMRV9OT1RfRk9VTkQ9IkdydWIgY29uZmlndXJhdGlvbiBmaWxlIG5vdCBmb3VuZCIKSU5ERU5UX1NUUklORz0iIgpfTkVXX1RJTUVPVVQ9IjEwIgpfQ09ORklHX0ZJTEVQQVRIPSIvZXRjL2RlZmF1bHQvZ3J1YiIKZnVuY3Rpb24gdXNhZ2UgewogICAgY2F0IDw8SEVMUF9VU0FHRQpVc2FnZTogdW5peC9fL3V0aWwvZ3J1Yi90aW1lb3V0L3NldC8kX1NDUklQVF9GSUxFTkFNRSBbLWhdIFstaSBTVFJJTkddIFstdCBUSU1FT1VUXSBbLWYgQ09ORklHX0ZJTEVdCgogIERlZmluZXMgYSBuZXcgdGltZW91dCBmb3IgR1JVQiBib290IHByb21wdC4KCk9wdGlvbnM6CiAgLWgsIC0taGVscCAgICAgICAgICAgICAgICAgICAgICAgIFNob3cgdGhpcyBoZWxwIG1lc3NhZ2UgYW5kIGV4aXQuCiAgLWkgU1RSSU5HLCAtLWluZGVudCBTVFJJTkcgICAgICAgIEVhY2ggbGluZSBvZiB0aGUgc2NyaXB0IG91dHB1dCB3aWxsIGJlIHByZWNlZGVkIHdpdGggdGhlIHN0cmluZyBkZWZpbmVkIGluIHRoaXMgcGFyYW1ldGVyLgogIC10IFRJTUVPVVQsIC0tdGltZW91dCBUSU1FT1VUICAgICBOZXcgdGltZW91dCBmb3IgdGhlIEdSVUIgYm9vdCBwcm9tcHQsIGJ5IGRlZmF1bHQgJF9ORVdfVElNRU9VVC4KICAtZiBGSUxFUEFUSCwgLS1jb25maWctZmlsZXBhdGggRklMRVBBVEgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGF0aCBvZiB0aGUgR1JVQiBjb25maWd1cmF0aW9uIGZpbGUsIGJ5IGRlZmF1bHQgJyRfQ09ORklHX0ZJTEVQQVRIJy4KCkhFTFBfVVNBR0UKICAgIGV4aXQgMQp9CmZvciBhcmcgaW4gIiRAIjsgZG8KICBjYXNlICRhcmcgaW4KICAgIC1pfC0taW5kZW50KQogICAgSU5ERU5UX1NUUklORz0iJDIiCiAgICBzaGlmdCAyCiAgICA7OwogICAgLWh8LS1oZWxwKQogICAgc2hpZnQKICAgIHVzYWdlCiAgICA7OyAgICAKICAgIC10fC0tdGltZW91dCkKICAgIHNoaWZ0CiAgICBfTkVXX1RJTUVPVVQ9IiQocHJpbnRmICIlcyIgIiQxIiB8IHNlZCAtZSAncy9bWzpzcGFjZTpdXSovL2cnKSIKICAgIHNoaWZ0CiAgICA7OwogICAgLWZ8LS1jb25maWctZmlsZXBhdGgpCiAgICBzaGlmdAogICAgX0NPTkZJR19GSUxFUEFUSD0kMQogICAgc2hpZnQKICAgIDs7CiAgZXNhYwpkb25lCmZ1bmN0aW9uIHByaW50SW5kZW50KCkgewogIHByaW50ZiAiJXMiICIkSU5ERU5UX1NUUklORyIKfQpmdW5jdGlvbiBjaGVja0dydWJGaWxlRXhpc3RzKCkgewogIGlmIFsgISAtZiAiJF9DT05GSUdfRklMRVBBVEgiIF07IHRoZW4KICAgIHByaW50SW5kZW50CiAgICBwcmludGYgIiVzICglcykiICIkX01TR19HUlVCX0ZJTEVfTk9UX0ZPVU5EIiAiJF9DT05GSUdfRklMRVBBVEgiID4mMgogICAgcHJpbnRmICIgXGVbOTFtXHhFMlx4OUNceDk1XGVbMzltXG4iID4mMgogICAgZXhpdCAxCiAgZmk7Cn0KZnVuY3Rpb24gc2V0TmV3R3J1YlRpbWVvdXQoKSB7CiAgcHJpbnRJbmRlbnQKICBwcmludGYgIiVzICglcykuLi4iICIkX01TR19TRVRUSU5HX0dSVUJfVElNRU9VVCIgIiRfTkVXX1RJTUVPVVQiCiAgX0dSVUJfVElNRU9VVF9DT05GSUdfRVhJU1RTPSIkKCBncmVwICJHUlVCX1RJTUVPVVQ9IiA8ICIkX0NPTkZJR19GSUxFUEFUSCIpIgogIGlmIFsgIiRfR1JVQl9USU1FT1VUX0NPTkZJR19FWElTVFMiID0gIiIgXTsgdGhlbgogICAgcHJpbnRmICJcbkdSVUJfVElNRU9VVD0lc1xuIiAiJF9ORVdfVElNRU9VVCIgPj4gIiRfQ09ORklHX0ZJTEVQQVRIIgogIGVsc2UKICAgIF9DVVJSRU5UX1RJTUVPVVQ9IiQoCiAgICAgIChncmVwICJHUlVCX1RJTUVPVVQ9IiB8IGN1dCAtZCc9JyAtZjIpIDwgIiRfQ09ORklHX0ZJTEVQQVRIIiApIgogICAgaWYgWyAiJF9DVVJSRU5UX1RJTUVPVVQiICE9ICIkX05FV19USU1FT1VUIiBdOyB0aGVuCiAgICAgIHNlZCAtaSAicy9HUlVCX1RJTUVPVVQ9WzAtOV0qL0dSVUJfVElNRU9VVD0kX05FV19USU1FT1VULyIgIiRfQ09ORklHX0ZJTEVQQVRIIgogICAgZmk7CiAgZmk7CiAgcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCn0KZnVuY3Rpb24gbWFpbigpIHsKICBjaGVja0dydWJGaWxlRXhpc3RzCiAgc2V0TmV3R3J1YlRpbWVvdXQKfQppZiAocmV0dXJuIDAgMj4vZGV2L251bGwpOyB0aGVuCiAgZXhwb3J0VmFyaWFibGVzCmVsc2UKICBtYWluCmZpOw=='
if (return 0 2>/dev/null); then
  source <(printf "%s" "$H" | base64 -d)
else
  echo "$(echo "$H" | base64 -d)" | bash -s -- "$@"
fi;
