#!/bin/bash
source <(printf 'IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfTVNHX0NIRUNLSU5HX1BBQ0FQVD0iQ29tcHJvYmFuZG8gcGFjYXB0IgpfTVNHX1JFVFJJRVZJTkdfTEFTVEVTVF9WRVJTSU9OPSJPYnRlbmllbmRvIMO6bHRpbWEgdmVyc2nDs24iCl9NU0dfSU5TVEFMTEVEPSJJbnN0YWxhZG8iCl9NU0dfRk9VTkRfSU5TVEFMTEVEPSJFbmNvbnRyYWRvIGluc3RhbGFkbyIKX01TR19VUERBVEVEPSJBY3R1YWxpemFkbyIKX01TR19ERVNUX0VYSVNUUz0iRWwgYXJjaGl2byBkZSBkZXN0aW5vIHlhIGV4aXN0ZSIKX01TR19JTkRJQ0FURV9BTk9USEVSX0RFU1RfV0lUSF9QQVJBTT0iSW5kaWNhIG90cm8gZGVzdGlubyBwYXJhIHBhY2FwdCBjb24gZWwgcGFyw6FtZXRybyIKSU5ERU5UX1NUUklORz0iIgpfREVTVF9QQVRIPSIvdXNyL2xvY2FsL2Jpbi9wYWNhcHQiCmZvciBhcmcgaW4gIiRAIjsgZG8KICBjYXNlICRhcmcgaW4KICAgIC0taW5kZW50KQogICAgc2hpZnQKICAgIElOREVOVF9TVFJJTkc9JDEKICAgIHNoaWZ0CiAgICA7OwogICAgLS1kZXN0LXBhdGgpCiAgICBzaGlmdAogICAgX0RFU1RfUEFUSD0kMQogICAgc2hpZnQKICAgIDs7CiAgZXNhYwpkb25lCmZ1bmN0aW9uIHByaW50SW5kZW50KCkgewogIHByaW50ZiAiJXMiICIkSU5ERU5UX1NUUklORyIKfQppZiBbICEgLWQgIi91c3IvbG9jYWwvYmluIiBdOyB0aGVuCiAgaWYgWyAtZCAiL3Vzci9iaW4iIF07IHRoZW4KICAgIF9ERVNUX1BBVEg9Ii9iaW4vcGFjYXB0IgogIGVsc2UKICAgIF9ERVNUX1BBVEg9Ii91c3IvYmluL3BhY2FwdCIKICBmaTsKZmk7CmlmIFtbICIkKHN1ZG8gZHBrZyAtcyBjdXJsIDI+IC9kZXYvbnVsbCB8IGdyZXAgU3RhdHVzKSIgIT0gIlN0YXR1czogaW5zdGFsbCBvayBpbnN0YWxsZWQiIF1dOyB0aGVuCiAgc3VkbyBhcHQtZ2V0IGluc3RhbGwgLXkgLXFxcSBjdXJsID4gL2Rldi9udWxsIHx8IGV4aXQgJD8KZmk7ClBBQ0FQVF9ET1dOTE9BRF9MSU5LPSJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vaWN5L3BhY2FwdC9uZy9wYWNhcHQiCmZ1bmN0aW9uIGdldFBhY0FwdExhc3Rlc3RWZXJzaW9uIHsKICBybSAtZiAvdG1wL3BhY2FwdAogIGN1cmwgLXNMICIkUEFDQVBUX0RPV05MT0FEX0xJTksiIC0tb3V0cHV0ICIvdG1wL3BhY2FwdCIKICBfUEFDQVBUX0xBU1RFU1RfVkVSU0lPTj0iJCg8ICIvdG1wL3BhY2FwdCIgZ3JlcCAiCn0KZnVuY3Rpb24gZ2V0UGFjQXB0Q3VycmVudFZlcnNpb24gewogIF9QQUNBUFRfQ1VSUkVOVF9WRVJTSU9OPSIiCiAgUEFDQVBUX0JJTkFSWV9QQVRIPSIkKGNvbW1hbmQgLXYgcGFjYXB0KSIKICBpZiBbICIkKGNvbW1hbmQgLXYgcGFjbWFuKSIgPSAiIiBdICYmIFsgIiQoY29tbWFuZCAtdiBwYWNhcHQpIiAhPSAiIiBdOyB0aGVuCiAgICBzdWRvIGNwICIkKGNvbW1hbmQgLXYgcGFjYXB0KSIgIiQoY29tbWFuZCAtdiBwYWNtYW4pIgogICAgUEFDQVBUX0JJTkFSWV9QQVRIPSIkKGNvbW1hbmQgLXYgcGFjbWFuKSIKICBmaTsKICBpZiBbIC1uICIkUEFDQVBUX0JJTkFSWV9QQVRIIiBdOyB0aGVuCiAgICBfUEFDQVBUX0NVUlJFTlRfVkVSU0lPTj0kKAogICAgICA8ICIkUEFDQVBUX0JJTkFSWV9QQVRIIiBncmVwICJWZXJzaW9uOiIgfCBjdXQgLWQnICcgLWYzKQogIGZpOwp9CmZ1bmN0aW9uIGluc3RhbGxQYWNBcHQgewogIHN1ZG8gY3AgIi90bXAvcGFjYXB0IiAiJF9ERVNUX1BBVEgiCiAgc3VkbyBjaG1vZCA3NTUgIiRfREVTVF9QQVRIIgogIGlmIFsgLWYgIi91c3IvbG9jYWwvYmluL3BhY21hbiIgXTsgdGhlbgogICAgc3VkbyBybSAtZiAiL3Vzci9sb2NhbC9iaW4vcGFjbWFuIgogIGZpOwogIHN1ZG8gbG4gLXN2ICIkX0RFU1RfUEFUSCIgIi91c3IvbG9jYWwvYmluL3BhY21hbiIgPiAvZGV2L251bGwgfHwgdHJ1ZQogIGlmIFsgLWYgIi90bXAvcGFjYXB0IiBdOyB0aGVuCiAgICBybSAtZiAiL3RtcC9wYWNhcHQiCiAgZmk7Cn0KZnVuY3Rpb24gbWFpbiB7CiAgaWYgWyAtZiAiJF9ERVNUX1BBVEgiIF0gfHwgWyAtZCAiJF9ERVNUX1BBVEgiIF07IHRoZW4KICAgIF9QQUNBUFRfR1JFUF9TT1VSQ0U9IiQoPCAiJF9ERVNUX1BBVEgiIGdyZXAgIgogICAgaWYgWyAiJF9QQUNBUFRfR1JFUF9TT1VSQ0UiICE9ICJodHRwOi8vZ2l0aHViLmNvbS9pY3kvcGFjYXB0LyIgXTsgdGhlbgogICAgICBwcmludGYgIiVzICglcylcbiIgIiRfTVNHX0RFU1RfRVhJU1RTIiAiJF9ERVNUX1BBVEgiID4mMgogICAgICBwcmludGYgIiVzICctLWRlc3QtcGF0aCcuXG4iICIkX01TR19JTkRJQ0FURV9BTk9USEVSX0RFU1RfV0lUSF9QQVJBTSIgPiYyCiAgICAgIGV4aXQgMQogICAgZmk7CiAgZmk7CiAgcHJpbnRJbmRlbnQKICBwcmludGYgIiVzXG4iICIkX01TR19DSEVDS0lOR19QQUNBUFQuLi4iCiAgcHJpbnRJbmRlbnQKICBwcmludGYgIiAgJXMiICIkX01TR19SRVRSSUVWSU5HX0xBU1RFU1RfVkVSU0lPTi4uLiIKICBnZXRQYWNBcHRMYXN0ZXN0VmVyc2lvbgogIHByaW50ZiAiICh2JXMpIiAiJF9QQUNBUFRfTEFTVEVTVF9WRVJTSU9OIgogIHByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgogIGdldFBhY0FwdEN1cnJlbnRWZXJzaW9uCiAgaWYgWyAteiAiJF9QQUNBUFRfQ1VSUkVOVF9WRVJTSU9OIiBdOyB0aGVuCiAgICBpbnN0YWxsUGFjQXB0CiAgICBwcmludGYgIiAgJXMgKHYlcykiICIkX01TR19JTlNUQUxMRUQiICIkX1BBQ0FQVF9MQVNURVNUX1ZFUlNJT04iCiAgICBwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKICBlbGlmIFsgIiRfUEFDQVBUX0NVUlJFTlRfVkVSU0lPTiIgPSAiJF9QQUNBUFRfTEFTVEVTVF9WRVJTSU9OIiBdOyB0aGVuCiAgICBwcmludGYgIiAgJXMiICIkX01TR19GT1VORF9JTlNUQUxMRUQiCiAgICBwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKICBlbHNlCiAgICBwcmludGYgIiAgJXMgKHYlcyAtPiB2JXMpIiBcCiAgICAgICIkX01TR19VUERBVEVEIiAiJF9QQUNBUFRfQ1VSUkVOVF9WRVJTSU9OIiAiJF9QQUNBUFRfTEFTVEVTVF9WRVJTSU9OIgogICAgc3VkbyBybSAtZiAiJFBBQ0FQVF9CSU5BUllfUEFUSCIKICAgIGluc3RhbGxQYWNBcHQKICAgIHByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgogIGZpOwp9CiEgKHJldHVybiAwIDI+L2Rldi9udWxsKSAmJiBtYWluCg==' | base64 -d)
