#!/bin/bash
source <(printf 'IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfTVNHX0NIRUNLSU5HX1BBQ0FQVD0iQ29tcHJvYmFuZG8gcGFjYXB0IgpfTVNHX1JFVFJJRVZJTkdfTEFTVEVTVF9WRVJTSU9OPSJPYnRlbmllbmRvIMO6bHRpbWEgdmVyc2nDs24iCl9NU0dfSU5TVEFMTEVEPSJJbnN0YWxhZG8iCl9NU0dfRk9VTkRfSU5TVEFMTEVEPSJFbmNvbnRyYWRvIGluc3RhbGFkbyIKX01TR19VUERBVEVEPSJBY3R1YWxpemFkbyIKX01TR19ERVNUX0VYSVNUUz0iRWwgYXJjaGl2byBkZSBkZXN0aW5vIHlhIGV4aXN0ZSIKX01TR19JTkRJQ0FURV9BTk9USEVSX0RFU1RfV0lUSF9QQVJBTT0iSW5kaWNhIG90cm8gZGVzdGlubyBwYXJhIHBhY2FwdCBjb24gZWwgcGFyw6FtZXRybyIKSU5ERU5UX1NUUklORz0iIgpfREVTVF9QQVRIPSIvdXNyL2xvY2FsL2Jpbi9wYWNhcHQiCmZvciBhcmcgaW4gIiRAIjsgZG8KICBjYXNlICRhcmcgaW4KICAgIC0taW5kZW50KQogICAgc2hpZnQKICAgIElOREVOVF9TVFJJTkc9JDEKICAgIHNoaWZ0CiAgICA7OwogICAgLS1kZXN0LXBhdGgpCiAgICBzaGlmdAogICAgX0RFU1RfUEFUSD0kMQogICAgc2hpZnQKICAgIDs7CiAgZXNhYwpkb25lCmZ1bmN0aW9uIHByaW50UHJlcGVuZGVkU3Rkb3V0KCkgewogIHByaW50ZiAiJXMiICIkSU5ERU5UX1NUUklORyIKfQpJTlNUQUxMQVRJT05fREVQRU5ERU5DSUVTPSgKICAiY3VybCIKKQpmb3IgREVQIGluICIke0lOU1RBTExBVElPTl9ERVBFTkRFTkNJRVNbQF19IjsgZG8KICBpZiBbWyAiJChzdWRvIGRwa2cgLXMgIiRERVAiIDI+IC9kZXYvbnVsbCB8IGdyZXAgU3RhdHVzKSIgIT0gIlN0YXR1czogaW5zdGFsbCBvayBpbnN0YWxsZWQiIF1dOyB0aGVuCiAgICBzdWRvIGFwdC1nZXQgaW5zdGFsbCAteSAtcXFxICIkREVQIiA+IC9kZXYvbnVsbCB8fCBleGl0ICQ/CiAgZmk7CmRvbmU7ClBBQ0FQVF9ET1dOTE9BRF9MSU5LPSJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vaWN5L3BhY2FwdC9uZy9wYWNhcHQiCmZ1bmN0aW9uIGdldFBhY0FwdExhc3Rlc3RWZXJzaW9uIHsKICBybSAtZiAvdG1wL3BhY2FwdAogIGN1cmwgLXNMICIkUEFDQVBUX0RPV05MT0FEX0xJTksiIC0tb3V0cHV0ICIvdG1wL3BhY2FwdCIKICBfUEFDQVBUX0xBU1RFU1RfVkVSU0lPTj0iJCg8ICIvdG1wL3BhY2FwdCIgZ3JlcCAiCn0KZnVuY3Rpb24gZ2V0UGFjQXB0Q3VycmVudFZlcnNpb24gewogIF9QQUNBUFRfQ1VSUkVOVF9WRVJTSU9OPSIiCiAgUEFDQVBUX0JJTkFSWV9QQVRIPSIkKGNvbW1hbmQgLXYgcGFjYXB0KSIKICBpZiBbIC16ICIkUEFDQVBUX0JJTkFSWV9QQVRIIiBdOyB0aGVuCiAgICBQQUNBUFRfQklOQVJZX1BBVEg9IiQoY29tbWFuZCAtdiBwYWNtYW4pIgogIGZpOwogIGlmIFsgLW4gIiRQQUNBUFRfQklOQVJZX1BBVEgiIF07IHRoZW4KICAgIF9QQUNBUFRfQ1VSUkVOVF9WRVJTSU9OPSQoCiAgICAgIDwgIiRQQUNBUFRfQklOQVJZX1BBVEgiIGdyZXAgIlZlcnNpb246IiB8IGN1dCAtZCcgJyAtZjMpCiAgZmk7Cn0KZnVuY3Rpb24gaW5zdGFsbFBhY0FwdCB7CiAgc3VkbyBjcCAiL3RtcC9wYWNhcHQiICIkX0RFU1RfUEFUSCIKICBzdWRvIGNobW9kIDc1NSAiJF9ERVNUX1BBVEgiCiAgaWYgWyAtZiAiL3Vzci9sb2NhbC9iaW4vcGFjbWFuIiBdOyB0aGVuCiAgICBzdWRvIHJtIC1mICIvdXNyL2xvY2FsL2Jpbi9wYWNtYW4iCiAgZmk7CiAgc3VkbyBsbiAtc3YgIiRfREVTVF9QQVRIIiAiL3Vzci9sb2NhbC9iaW4vcGFjbWFuIiA+IC9kZXYvbnVsbCB8fCB0cnVlCiAgaWYgWyAtZiAiL3RtcC9wYWNhcHQiIF07IHRoZW4KICAgIHJtIC1mICIvdG1wL3BhY2FwdCIKICBmaTsKfQpmdW5jdGlvbiBtYWluIHsKICBpZiBbIC1mICIkX0RFU1RfUEFUSCIgXSB8fCBbIC1kICIkX0RFU1RfUEFUSCIgXTsgdGhlbgogICAgX1BBQ0FQVF9HUkVQX1NPVVJDRT0iJCg8ICIkX0RFU1RfUEFUSCIgZ3JlcCAiCiAgICBpZiBbICIkX1BBQ0FQVF9HUkVQX1NPVVJDRSIgIT0gImh0dHA6Ly9naXRodWIuY29tL2ljeS9wYWNhcHQvIiBdOyB0aGVuCiAgICAgIHByaW50ZiAiJXMgKCVzKVxuIiAiJF9NU0dfREVTVF9FWElTVFMiICIkX0RFU1RfUEFUSCIgPiYyCiAgICAgIHByaW50ZiAiJXMgJy0tZGVzdC1wYXRoJy5cbiIgIiRfTVNHX0lORElDQVRFX0FOT1RIRVJfREVTVF9XSVRIX1BBUkFNIiA+JjIKICAgICAgZXhpdCAxCiAgICBmaTsKICBmaTsKICBwcmludFByZXBlbmRlZFN0ZG91dAogIHByaW50ZiAiJXNcbiIgIiRfTVNHX0NIRUNLSU5HX1BBQ0FQVC4uLiIKICBwcmludFByZXBlbmRlZFN0ZG91dAogIHByaW50ZiAiICAlcyIgIiRfTVNHX1JFVFJJRVZJTkdfTEFTVEVTVF9WRVJTSU9OLi4uIgogIGdldFBhY0FwdExhc3Rlc3RWZXJzaW9uCiAgcHJpbnRmICIgKHYlcykiICIkX1BBQ0FQVF9MQVNURVNUX1ZFUlNJT04iCiAgcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCiAgZ2V0UGFjQXB0Q3VycmVudFZlcnNpb24KICBpZiBbIC16ICIkX1BBQ0FQVF9DVVJSRU5UX1ZFUlNJT04iIF07IHRoZW4KICAgIGluc3RhbGxQYWNBcHQKICAgIHByaW50ZiAiICAlcyAodiVzKSIgIiRfTVNHX0lOU1RBTExFRCIgIiRfUEFDQVBUX0xBU1RFU1RfVkVSU0lPTiIKICAgIHByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgogIGVsaWYgWyAiJF9QQUNBUFRfQ1VSUkVOVF9WRVJTSU9OIiA9ICIkX1BBQ0FQVF9MQVNURVNUX1ZFUlNJT04iIF07IHRoZW4KICAgIHByaW50ZiAiICAlcyIgIiRfTVNHX0ZPVU5EX0lOU1RBTExFRCIKICAgIHByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgogIGVsc2UKICAgIHByaW50ZiAiICAlcyAodiVzIC0+IHYlcykiIFwKICAgICAgIiRfTVNHX1VQREFURUQiICIkX1BBQ0FQVF9DVVJSRU5UX1ZFUlNJT04iICIkX1BBQ0FQVF9MQVNURVNUX1ZFUlNJT04iCiAgICBzdWRvIHJtIC1mICIkUEFDQVBUX0JJTkFSWV9QQVRIIgogICAgaW5zdGFsbFBhY0FwdAogICAgcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCiAgZmk7Cn0KISAocmV0dXJuIDAgMj4vZGV2L251bGwpICYmIG1haW4K' | base64 -d)
