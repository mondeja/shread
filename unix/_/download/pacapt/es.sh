#!/bin/bash
H='IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfU0NSSVBUX0ZJTEVOQU1FPWVzLnNoCiMhL2Jpbi9iYXNoCl9NU0dfQ0hFQ0tJTkdfUEFDQVBUPSJDb21wcm9iYW5kbyBwYWNhcHQiCl9NU0dfUkVUUklFVklOR19MQVNURVNUX1ZFUlNJT049Ik9idGVuaWVuZG8gw7psdGltYSB2ZXJzacOzbiIKX01TR19JTlNUQUxMRUQ9Ikluc3RhbGFkbyIKX01TR19GT1VORF9JTlNUQUxMRUQ9IkVuY29udHJhZG8gaW5zdGFsYWRvIgpfTVNHX1VQREFURUQ9IkFjdHVhbGl6YWRvIgpfTVNHX0RFU1RfRVhJU1RTPSJFbCBhcmNoaXZvIGRlIGRlc3Rpbm8geWEgZXhpc3RlIgpfTVNHX0lORElDQVRFX0FOT1RIRVJfREVTVF9XSVRIX1BBUkFNPSJJbmRpY2Egb3RybyBkZXN0aW5vIHBhcmEgcGFjYXB0IGNvbiBlbCBwYXLDoW1ldHJvIgpJTkRFTlRfU1RSSU5HPSIiCl9ERVNUX1BBVEg9Ii91c3IvbG9jYWwvYmluL3BhY2FwdCIKZnVuY3Rpb24gdXNhZ2UgewogICAgY2F0IDw8SEVMUF9VU0FHRQpVc2FnZTogc3JjL3VuaXgvXy9kb3dubG9hZC9wYWNhcHQgWy1oXSBbLWkgU1RSSU5HXSBbLS1kZXN0LXBhdGhdCgogIERvd25sb2FkcyBwYWNhcHQuCgpPcHRpb25zOgogIC1oLCAtLWhlbHAgICAgICAgICAgICAgICAgICAgICAgICBTaG93IHRoaXMgaGVscCBtZXNzYWdlIGFuZCBleGl0LgogIC1pIFNUUklORywgLS1pbmRlbnQgU1RSSU5HICAgICAgICBFYWNoIGxpbmUgb2YgdGhlIHNjcmlwdCBvdXRwdXQgd2lsbCBiZSBwcmVjZWRlZCB3aXRoIHRoZSBzdHJpbmcgZGVmaW5lZCBpbiB0aGlzIHBhcmFtZXRlci4KICAtLWRlc3QtcGF0aCAgICAgICAgICAgICAgICAgICAgICAgRGVzdGluYXRpb24gcGF0aCBvZiB0aGUgZG93bmxvYWRlZCBiaW5hcnkuIEJ5IGRlZmF1bHQgJyRfREVTVF9QQVRIJy4KCgpIRUxQX1VTQUdFCiAgICBleGl0IDEKfQpmb3IgYXJnIGluICIkQCI7IGRvCiAgY2FzZSAkYXJnIGluCiAgICAtaXwtLWluZGVudCkKICAgIHNoaWZ0CiAgICBJTkRFTlRfU1RSSU5HPSIkMSIKICAgIHNoaWZ0CiAgICA7OwogICAgLWh8LS1oZWxwKQogICAgc2hpZnQKICAgIHVzYWdlCiAgICA7OwogICAgLS1kZXN0LXBhdGgpCiAgICBzaGlmdAogICAgX0RFU1RfUEFUSD0kMQogICAgc2hpZnQKICAgIDs7CiAgZXNhYwpkb25lCmZ1bmN0aW9uIHByaW50SW5kZW50KCkgewogIHByaW50ZiAiJXMiICIkSU5ERU5UX1NUUklORyIKfQppZiBbICEgLWQgIi91c3IvbG9jYWwvYmluIiBdOyB0aGVuCiAgaWYgWyAhIC1kICIvdXNyL2JpbiIgXTsgdGhlbgogICAgaWYgWyAhIC1kICIvYmluIiBdOyB0aGVuCiAgICAgIElGUz0nOicgcmVhZCAtcmEgX1BBVEggPDw8ICIkUEFUSCIKICAgICAgZm9yIGkgaW4gIiR7X1BBVEhbQF19IjsgZG8KICAgICAgICAgIF9ERVNUX1BBVEg9IiRpL3BhY2FwdCIKICAgICAgICAgIGJyZWFrCiAgICAgIGRvbmUKICAgIGVsc2UKICAgICAgX0RFU1RfUEFUSD0iL2Jpbi9wYWNhcHQiCiAgICBmaTsKICBlbHNlCiAgICBfREVTVF9QQVRIPSIvdXNyL2Jpbi9wYWNhcHQiCiAgZmk7CmZpOwpQQUNBUFRfRE9XTkxPQURfTElOSz0iaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2ljeS9wYWNhcHQvbmcvcGFjYXB0IgpmdW5jdGlvbiBnZXRQYWNBcHRMYXN0ZXN0VmVyc2lvbiB7CiAgcm0gLWYgL3RtcC9wYWNhcHQKICBjdXJsIC1zTCAiJFBBQ0FQVF9ET1dOTE9BRF9MSU5LIiAtLW91dHB1dCAiL3RtcC9wYWNhcHQiCiAgX1BBQ0FQVF9MQVNURVNUX1ZFUlNJT049IiQoPCAiL3RtcC9wYWNhcHQiIGdyZXAgIiBWZXJzaW9uOiIgfCBjdXQgLWQnICcgLWYzKSIKfQpmdW5jdGlvbiBnZXRQYWNBcHRDdXJyZW50VmVyc2lvbiB7CiAgX1BBQ0FQVF9DVVJSRU5UX1ZFUlNJT049IiIKICBQQUNBUFRfQklOQVJZX1BBVEg9IiQoY29tbWFuZCAtdiBwYWNhcHQpIgogIGlmIFsgIiQoY29tbWFuZCAtdiBwYWNtYW4pIiA9ICIiIF0gJiYgWyAiJChjb21tYW5kIC12IHBhY2FwdCkiICE9ICIiIF07IHRoZW4KICAgIHN1ZG8gY3AgIiQoY29tbWFuZCAtdiBwYWNhcHQpIiAiJChjb21tYW5kIC12IHBhY21hbikiCiAgICBQQUNBUFRfQklOQVJZX1BBVEg9IiQoY29tbWFuZCAtdiBwYWNtYW4pIgogIGZpOwogIGlmIFsgLW4gIiRQQUNBUFRfQklOQVJZX1BBVEgiIF07IHRoZW4KICAgIF9QQUNBUFRfQ1VSUkVOVF9WRVJTSU9OPSQoCiAgICAgIDwgIiRQQUNBUFRfQklOQVJZX1BBVEgiIGdyZXAgIlZlcnNpb246IiB8IGN1dCAtZCcgJyAtZjMpCiAgZmk7Cn0KZnVuY3Rpb24gaW5zdGFsbFBhY0FwdCB7CiAgc3VkbyBjcCAiL3RtcC9wYWNhcHQiICIkX0RFU1RfUEFUSCIKICBzdWRvIGNobW9kIDc1NSAiJF9ERVNUX1BBVEgiCiAgaWYgWyAtZiAiL3Vzci9sb2NhbC9iaW4vcGFjbWFuIiBdOyB0aGVuCiAgICBzdWRvIHJtIC1mICIvdXNyL2xvY2FsL2Jpbi9wYWNtYW4iCiAgZmk7CiAgc3VkbyBsbiAtc3YgIiRfREVTVF9QQVRIIiAiL3Vzci9sb2NhbC9iaW4vcGFjbWFuIiA+IC9kZXYvbnVsbCB8fCB0cnVlCiAgaWYgWyAtZiAiL3RtcC9wYWNhcHQiIF07IHRoZW4KICAgIHJtIC1mICIvdG1wL3BhY2FwdCIKICBmaTsKfQpmdW5jdGlvbiBtYWluIHsKICBpZiBbIC1mICIkX0RFU1RfUEFUSCIgXSB8fCBbIC1kICIkX0RFU1RfUEFUSCIgXTsgdGhlbgogICAgX1BBQ0FQVF9HUkVQX1NPVVJDRT0iJCg8ICIkX0RFU1RfUEFUSCIgZ3JlcCAnIFNvdXJjZScgfCBjdXQgLWQnICcgLWY0KSIKICAgIGlmIFsgIiRfUEFDQVBUX0dSRVBfU09VUkNFIiAhPSAiaHR0cDovL2dpdGh1Yi5jb20vaWN5L3BhY2FwdC8iIF07IHRoZW4KICAgICAgcHJpbnRmICIlcyAoJXMpXG4iICIkX01TR19ERVNUX0VYSVNUUyIgIiRfREVTVF9QQVRIIiA+JjIKICAgICAgcHJpbnRmICIlcyAnLS1kZXN0LXBhdGgnLlxuIiAiJF9NU0dfSU5ESUNBVEVfQU5PVEhFUl9ERVNUX1dJVEhfUEFSQU0iID4mMgogICAgICBleGl0IDEKICAgIGZpOwogIGZpOwogIHByaW50SW5kZW50CiAgcHJpbnRmICIlc1xuIiAiJF9NU0dfQ0hFQ0tJTkdfUEFDQVBULi4uIgogIHByaW50SW5kZW50CiAgcHJpbnRmICIgICVzIiAiJF9NU0dfUkVUUklFVklOR19MQVNURVNUX1ZFUlNJT04uLi4iCiAgZ2V0UGFjQXB0TGFzdGVzdFZlcnNpb24KICBwcmludGYgIiAodiVzKSIgIiRfUEFDQVBUX0xBU1RFU1RfVkVSU0lPTiIKICBwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKICBnZXRQYWNBcHRDdXJyZW50VmVyc2lvbgogIGlmIFsgLXogIiRfUEFDQVBUX0NVUlJFTlRfVkVSU0lPTiIgXTsgdGhlbgogICAgaW5zdGFsbFBhY0FwdAogICAgcHJpbnRmICIgICVzICh2JXMpIiAiJF9NU0dfSU5TVEFMTEVEIiAiJF9QQUNBUFRfTEFTVEVTVF9WRVJTSU9OIgogICAgcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCiAgZWxpZiBbICIkX1BBQ0FQVF9DVVJSRU5UX1ZFUlNJT04iID0gIiRfUEFDQVBUX0xBU1RFU1RfVkVSU0lPTiIgXTsgdGhlbgogICAgcHJpbnRJbmRlbnQKICAgIHByaW50ZiAiICAlcyIgIiRfTVNHX0ZPVU5EX0lOU1RBTExFRCIKICAgIHByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgogIGVsc2UKICAgIHByaW50ZiAiICAlcyAodiVzIC0+IHYlcykiICAgICAgICIkX01TR19VUERBVEVEIiAiJF9QQUNBUFRfQ1VSUkVOVF9WRVJTSU9OIiAiJF9QQUNBUFRfTEFTVEVTVF9WRVJTSU9OIgogICAgc3VkbyBybSAtZiAiJFBBQ0FQVF9CSU5BUllfUEFUSCIKICAgIGluc3RhbGxQYWNBcHQKICAgIHByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgogIGZpOwp9CmlmIChyZXR1cm4gMCAyPi9kZXYvbnVsbCk7IHRoZW4KICBleHBvcnRWYXJpYWJsZXMKZWxzZQogIG1haW4KZmk7'
if (return 0 2>/dev/null); then
  source <(printf "%s" "$H" | base64 -d)
else
  echo "$(echo "$H" | base64 -d)" | bash -s -- "$@"
fi;
