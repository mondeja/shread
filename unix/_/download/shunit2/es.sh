#!/bin/bash
H='IyEvYmluL2Jhc2gKIyAtKi0gRU5DT0RJTkc6IFVURi04IC0qLQpfU0NSSVBUX0ZJTEVOQU1FPWVzLnNoCiMhL2Jpbi9iYXNoCl9NU0dfVVJMPSJVUkwiCl9NU0dfRVJST1I9IkVycm9yIgpfTVNHX0VSUk9SX0NPREU9IkPDs2RpZ28gZGUgZXJyb3IiCl9NU0dfRVJST1JfUkVUUklFVklOR19TSFVOSVRfUkVMRUFTRVNfSU5GTz0iT2N1cnJpw7MgdW4gZXJyb3Igb2J0ZW5pZW5kbyBsYSBpbmZvcm1hY2nDs24gZGUgbGFzIHJlbGVhc2VzIGRlIHNodW5pdDIgZGUgbGEgQVBJIGRlIEdpdGh1Yi4iCl9NU0dfQ0hFQ0tJTkdfU0hVTklUPSJDb21wcm9iYW5kbyBzaHVuaXQyLi4uIgpfTVNHX1JFVFJJRVZJTkdfU0hVTklUX0xBU1RFU1RfVkVSU0lPTj0iT2J0ZW5pZW5kbyBsYSDDumx0aW1hIHZlcnNpb24uLi4iCl9NU0dfRVJST1JfUEFSU0lOR19MQVNURVNUX1NIVU5JVF9SRUxFQVNFPSJPY3VycmnDsyB1biBlcnJvciBwYXJzZWFuZG8gbGEgdmVyc2nDs24gZGUgbGEgw7psdGltYSByZWxlYXNlIGRlIHNodW5pdDIgZGUgbGEgQVBJIGRlIEdpdGh1Yi4iCl9NU0dfRE9XTkxPQURJTkdfU0hVTklUPSJEZXNjYXJnYW5kbyBzaHVuaXQyIgpfTVNHX0VSUk9SX0RPV05MT0FESU5HX1NIVU5JVD0iT2N1cnJpw7MgdW4gZXJyb3IgZGVzY2FyZ2FuZG8gc2h1bml0MiIKX01TR19VTlpJUFBJTkdfU0hVTklUPSJEZXNjb21wcmltaWVuZG8iCl9NU0dfREVTVF9FWElTVFM9IkVsIGFyY2hpdm8gZGUgZGVzdGlubyB5YSBleGlzdGUiCl9NU0dfSU5ESUNBVEVfQU5PVEhFUl9ERVNUX1dJVEhfUEFSQU09IkluZGljYSBvdHJvIGRlc3Rpbm8gcGFyYSBzaHVuaXQyIGNvbiBlbCBwYXLDoW1ldHJvIgpHSVRIVUJfQVBJX0NVUkxfQVVUSD0iIgppZiBbIC1uICIkR0lUSFVCX1VTRVJOQU1FIiBdICYmIFsgLW4gIiRHSVRIVUJfVE9LRU4iIF07IHRoZW4KICBHSVRIVUJfQVBJX0NVUkxfQVVUSD0iJEdJVEhVQl9VU0VSTkFNRTokR0lUSFVCX1RPS0VOIgpmaTsKSU5ERU5UX1NUUklORz0iIgpfREVTVF9QQVRIPSIkUFdEL3NodW5pdDIiCmZ1bmN0aW9uIHVzYWdlIHsKICAgIGNhdCA8PEhFTFBfVVNBR0UKVXNhZ2U6IHNyYy91bml4L18vZG93bmxvYWQvc2h1bml0MiBbLWhdIFstaV0gWy0tZGVzdC1wYXRoXQoKICBEb3dubG9hZHMgc2h1bml0Mi4KCk9wdGlvbnM6CiAgLWgsIC0taGVscCAgICAgICAgICAgICAgICAgICAgICAgIFNob3cgdGhpcyBoZWxwIG1lc3NhZ2UgYW5kIGV4aXQuCiAgLWksIC0taW5kZW50IFNUUklORyAgICAgICAgICAgICAgIEVhY2ggbGluZSBvZiB0aGUgc2NyaXB0IG91dHB1dCB3aWxsIGJlIHByZWNlZGVkIHdpdGggdGhlIHN0cmluZyBkZWZpbmVkIGluIHRoaXMgcGFyYW1ldGVyLgogIC0tZGVzdC1wYXRoICAgICAgICAgICAgICAgICAgICAgICBEZXN0aW5hdGlvbiBwYXRoIG9mIHRoZSBkb3dubG9hZGVkIGJpbmFyeS4gQnkgZGVmYXVsdCAnJF9ERVNUX1BBVEgnLgoKCkhFTFBfVVNBR0UKICAgIGV4aXQgMQp9CmZvciBhcmcgaW4gIiRAIjsgZG8KICBjYXNlICRhcmcgaW4KICAgIC1pfC0taW5kZW50KQogICAgc2hpZnQKICAgIElOREVOVF9TVFJJTkc9JDEKICAgIHNoaWZ0CiAgICA7OwogICAgLWh8LS1oZWxwKQogICAgc2hpZnQKICAgIHVzYWdlCiAgICA7OwogICAgLS1kZXN0LXBhdGgpCiAgICBzaGlmdAogICAgX0RFU1RfUEFUSD0kMQogICAgc2hpZnQKICAgIDs7CiAgZXNhYwpkb25lCmZ1bmN0aW9uIHByaW50SW5kZW50KCkgewogIHByaW50ZiAiJXMiICIkSU5ERU5UX1NUUklORyIKfQpfREVTVF9ESVJQQVRIPSIkKGRpcm5hbWUgIiRfREVTVF9QQVRIIikiCmlmIFsgIiQoY29tbWFuZCAtdiBwYWNtYW4pIiA9ICIiIF07IHRoZW4KICBpZiBbIC16ICIkX1NDUklQVF9GSUxFTkFNRSIgXTsgdGhlbgogICAgZmlsZXBhdGg9InNyYy91bml4L18vZG93bmxvYWQvcGFjYXB0L21haW4uc2giCiAgICBiYXNoICIkZmlsZXBhdGgiID4gL2Rldi9udWxsCiAgZWxzZQogICAgdXJsPSJodHRwczovL21vbmRlamEuZ2l0aHViLmlvL3NocmVhZC91bml4L18vZG93bmxvYWQvcGFjYXB0LyRfU0NSSVBUX0ZJTEVOQU1FIgogICAgY3VybCAtc0wgIiR1cmwiIHwgc3VkbyBiYXNoIC0gPiAvZGV2L251bGwKICBmaTsKZmk7CklOU1RBTExBVElPTl9ERVBFTkRFTkNJRVM9KAogICJqcSIKKQpmb3IgREVQIGluICIke0lOU1RBTExBVElPTl9ERVBFTkRFTkNJRVNbQF19IjsgZG8KICBpZiBbWyAiJChzdWRvIHBhY21hbiAtUWkgIiRERVAiIDI+IC9kZXYvbnVsbCB8IGdyZXAgU3RhdHVzKSIgIT0gIlN0YXR1czogaW5zdGFsbCBvayBpbnN0YWxsZWQiIF1dOyB0aGVuCiAgICBzdWRvIHBhY21hbiAtUyAtLSAteSAiJERFUCIgPiAvZGV2L251bGwgfHwgZXhpdCAkPwogIGZpOwpkb25lOwpfR0VUX1NIVU5JVF9SRUxFQVNFU19VUkw9Imh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3Mva3dhcmQvc2h1bml0Mi9yZWxlYXNlcyIKZnVuY3Rpb24gZ2V0U2h1bml0TGFzdGVzdFZlcnNpb24oKSB7CiAgX1NIVU5JVF9SRUxFQVNFU19JTkZPPSIkKGN1cmwgLXNMICIkR0lUSFVCX0FQSV9DVVJMX0FVVEgiICIkX0dFVF9TSFVOSVRfUkVMRUFTRVNfVVJMIiAyPiYxKSIKICBfU0hVTklUX1JFTEVBU0VTX0lORk9fTUVTU0FHRT0iJChlY2hvICIkX1NIVU5JVF9SRUxFQVNFU19JTkZPIiB8IGpxIC1yICcubWVzc2FnZScgMj4mMSkiCiAgX1NIVU5JVF9SRUxFQVNFU19JTkZPX01FU1NBR0VfRVhJVF9DT0RFPSQ/CiAgaWYgWyAkX1NIVU5JVF9SRUxFQVNFU19JTkZPX01FU1NBR0VfRVhJVF9DT0RFIC1lcSAwIF07IHRoZW4KICAgIHByaW50ZiAiXGVbOTFtXHhFMlx4OUNceDk1XGVbMzltXG4iID4mMgogICAgcHJpbnRmICJcbiVzXG4iICIkX01TR19FUlJPUl9SRVRSSUVWSU5HX1NIVU5JVF9SRUxFQVNFU19JTkZPIiA+JjIKICAgIHByaW50ZiAiJXM6ICVzXG4iICIkX01TR19VUkwiICIkX0dFVF9TSFVOSVRfUkVMRUFTRVNfVVJMIiA+JjIKICAgIHByaW50ZiAiJXM6ICVzXG4iICIkX01TR19FUlJPUiIgIiRfU0hVTklUX1JFTEVBU0VTX0lORk9fTUVTU0FHRSIgPiYyCiAgICBleGl0ICRfU0hVTklUX1JFTEVBU0VTX0lORk9fTUVTU0FHRV9FWElUX0NPREUKICBmaTsKICBfUEFSU0VfU0hVTklUX0xBU1RFU1RfVkVSU0lPTj0kKAogICAgZWNobyAiJF9TSFVOSVRfUkVMRUFTRVNfSU5GTyIgfCAgICAganEgLXIgIi5bMF0ubmFtZSIgMj4mMQogICkKICBfUEFSU0VfU0hVTklUX0xBU1RFU1RfVkVSU0lPTl9FWElUX0NPREU9JD8KICBpZiBbICRfUEFSU0VfU0hVTklUX0xBU1RFU1RfVkVSU0lPTl9FWElUX0NPREUgLW5lIDAgXTsgdGhlbgogICAgcHJpbnRmICJcZVs5MW1ceEUyXHg5Q1x4OTVcZVszOW1cbiIgPiYyCiAgICBwcmludGYgIlxuJXNcbiIgIiRfTVNHX0VSUk9SX1BBUlNJTkdfTEFTVEVTVF9TSFVOSVRfUkVMRUFTRSIgPiYyCiAgICBwcmludGYgIiVzOiAlc1xuIiAiJF9NU0dfVVJMIiAiJF9HRVRfU0hVTklUX0xBVEVTVF9WRVJTSU9OX1VSTCIgPiYyCiAgICBwcmludGYgIiVzOiAlZFxuIiAiJF9NU0dfRVJST1JfQ09ERSIgIiRfUEFSU0VfU0hVTklUX0xBU1RFU1RfVkVSU0lPTl9FWElUX0NPREUiID4mMgogICAgcHJpbnRmICIlczogJXMiICIkX01TR19FUlJPUiIgIiRfUEFSU0VfU0hVTklUX0xBU1RFU1RfVkVSU0lPTiIgPiYyCiAgICBleGl0ICRfUEFSU0VfU0hVTklUX0xBU1RFU1RfVkVSU0lPTl9FWElUX0NPREUKICBmaTsKICBfU0hVTklUX0xBU1RFU1RfVkVSU0lPTj0iJChwcmludGYgIiVzIiAiJF9QQVJTRV9TSFVOSVRfTEFTVEVTVF9WRVJTSU9OIiB8IGN1dCAtZCcgJyAtZjIpIgp9CmZ1bmN0aW9uIGRvd25sb2FkU2h1bml0KCkgewogIF9ET1dOTE9BRF9TSFVOSVRfVVJMPSJodHRwczovL2dpdGh1Yi5jb20va3dhcmQvc2h1bml0Mi9hcmNoaXZlL3YkMS50YXIuZ3oiCiAgX0RPV05MT0FEX1NIVU5JVF9PVVRQVVQ9IiQoY3VybCAtc0wgIiRfRE9XTkxPQURfU0hVTklUX1VSTCIgLW8gIiQyIiAyPiYxKSIKICBfRE9XTkxPQURfU0hVTklUX0VYSVRfQ09ERT0kPwogIGlmICBbICRfRE9XTkxPQURfU0hVTklUX0VYSVRfQ09ERSAtbmUgMCBdOyB0aGVuCiAgICBwcmludGYgIlxlWzkxbVx4RTJceDlDXHg5NVxlWzM5bVxuIiA+JjIKICAgIHByaW50ZiAiXG4lcyB2JXNcbiIgIiRfTVNHX0VSUk9SX0RPV05MT0FESU5HX1NIVU5JVCIgIiRfU0hVTklUX0xBU1RFU1RfVkVSU0lPTiIgPiYyCiAgICBwcmludGYgIiVzOiAlc1xuIiAiJF9NU0dfVVJMIiAiJF9ET1dOTE9BRF9TSFVOSVRfVVJMIiA+JjIKICAgIHByaW50ZiAiJXM6ICVzXG4iICIkX01TR19FUlJPUiIgIiRfRE9XTkxPQURfU0hVTklUX09VVFBVVCIgPiYyCiAgICBleGl0ICRfRE9XTkxPQURfU0hVTklUX0VYSVRfQ09ERQogIGZpOwp9CmZ1bmN0aW9uIG1haW4oKSB7CiAgaWYgWyAtZiAiJF9ERVNUX1BBVEgiIF0gfHwgWyAtZCAiJF9ERVNUX1BBVEgiIF07IHRoZW4KICAgIHByaW50ZiAiJXMgKCVzKVxuIiAiJF9NU0dfREVTVF9FWElTVFMiICIkX0RFU1RfUEFUSCIgPiYyCiAgICBwcmludGYgIiVzICctLWRlc3QtcGF0aCcuXG4iICIkX01TR19JTkRJQ0FURV9BTk9USEVSX0RFU1RfV0lUSF9QQVJBTSIgPiYyCiAgICBleGl0IDEKICBmaTsKICBwcmludEluZGVudAogIHByaW50ZiAiJXNcbiIgIiRfTVNHX0NIRUNLSU5HX1NIVU5JVCIKICBwcmludEluZGVudAogIHByaW50ZiAiICAlcyIgIiRfTVNHX1JFVFJJRVZJTkdfU0hVTklUX0xBU1RFU1RfVkVSU0lPTiIKICBnZXRTaHVuaXRMYXN0ZXN0VmVyc2lvbgogIHByaW50ZiAiICh2JXMpIiAiJF9TSFVOSVRfTEFTVEVTVF9WRVJTSU9OIgogIHByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgogIHByaW50SW5kZW50CiAgcHJpbnRmICIgICVzICh2JXMpIiAiJF9NU0dfRE9XTkxPQURJTkdfU0hVTklUIiAiJF9TSFVOSVRfTEFTVEVTVF9WRVJTSU9OIgogIGRvd25sb2FkU2h1bml0ICIkX1NIVU5JVF9MQVNURVNUX1ZFUlNJT04iICIkX0RFU1RfRElSUEFUSC9zaHVuaXQyLnRhci5neiIKICBwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKICBwcmludEluZGVudAogIHByaW50ZiAiICAlcyIgIiRfTVNHX1VOWklQUElOR19TSFVOSVQiCiAgdGFyIHh6ZiAiJF9ERVNUX0RJUlBBVEgvc2h1bml0Mi50YXIuZ3oiIC1DICIkX0RFU1RfRElSUEFUSCIgfHwgZXhpdCAkPwogIG12ICIkX0RFU1RfRElSUEFUSC9zaHVuaXQyLSRfU0hVTklUX0xBU1RFU1RfVkVSU0lPTi9zaHVuaXQyIiAiJF9ERVNUX1BBVEgiCiAgcm0gLXJmICIkX0RFU1RfRElSUEFUSC9zaHVuaXQyLSRfU0hVTklUX0xBU1RFU1RfVkVSU0lPTiIKICBybSAtZiAiJF9ERVNUX0RJUlBBVEgvc2h1bml0Mi50YXIuZ3oiCiAgcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCn0KaWYgKHJldHVybiAwIDI+L2Rldi9udWxsKTsgdGhlbgogIGV4cG9ydFZhcmlhYmxlcwplbHNlCiAgbWFpbgpmaTs='
if (return 0 2>/dev/null); then
  source <(printf "%s" "$H" | base64 -d)
else
  echo "$(echo "$H" | base64 -d)" | bash -s -- "$@"
fi;
