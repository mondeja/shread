#!/bin/bash
source <(printf 'X01TR19VUkw9IlVSTCIKX01TR19FUlJPUj0iRXJyb3IiCl9NU0dfRVJST1JfQ09ERT0iQ8OzZGlnbyBkZSBlcnJvciIKX01TR19FUlJPUl9SRVRSSUVWSU5HX1NIVU5JVF9SRUxFQVNFU19JTkZPPSJPY3VycmnDsyB1biBlcnJvciBvYnRlbmllbmRvIGxhIGluZm9ybWFjacOzbiBkZSBsYXMgcmVsZWFzZXMgZGUgc2h1bml0MiBkZSBsYSBBUEkgZGUgR2l0aHViLiIKX01TR19DSEVDS0lOR19TSFVOSVQ9IkNvbXByb2JhbmRvIHNodW5pdDIuLi4iCl9NU0dfUkVUUklFVklOR19TSFVOSVRfTEFTVEVTVF9WRVJTSU9OPSJPYnRlbmllbmRvIGxhIMO6bHRpbWEgdmVyc2lvbi4uLiIKX01TR19FUlJPUl9QQVJTSU5HX0xBU1RFU1RfU0hVTklUX1JFTEVBU0U9Ik9jdXJyacOzIHVuIGVycm9yIHBhcnNlYW5kbyBsYSB2ZXJzacOzbiBkZSBsYSDDumx0aW1hIHJlbGVhc2UgZGUgc2h1bml0MiBkZSBsYSBBUEkgZGUgR2l0aHViLiIKX01TR19ET1dOTE9BRElOR19TSFVOSVQ9IkRlc2NhcmdhbmRvIHNodW5pdDIiCl9NU0dfRVJST1JfRE9XTkxPQURJTkdfU0hVTklUPSJPY3VycmnDsyB1biBlcnJvciBkZXNjYXJnYW5kbyBzaHVuaXQyIgpfTVNHX1VOWklQUElOR19TSFVOSVQ9IkRlc2NvbXByaW1pZW5kbyIKX01TR19ERVNUX0VYSVNUUz0iRWwgYXJjaGl2byBkZSBkZXN0aW5vIHlhIGV4aXN0ZSIKX01TR19JTkRJQ0FURV9BTk9USEVSX0RFU1RfV0lUSF9QQVJBTT0iSW5kaWNhIG90cm8gZGVzdGlubyBwYXJhIHNodW5pdDIgY29uIGVsIHBhcsOhbWV0cm8iCl9QUkVQRU5EX1NURE9VVF9TVFJJTkc9IiIKX0RFU1RfUEFUSD0iJFBXRC9zaHVuaXQyIgpHSVRIVUJfQVBJX0NVUkxfQVVUSD0iIgppZiBbIC1uICIkR0lUSFVCX1VTRVJOQU1FIiBdICYmIFsgLW4gIiRHSVRIVUJfVE9LRU4iIF07IHRoZW4KICBHSVRIVUJfQVBJX0NVUkxfQVVUSD0iJEdJVEhVQl9VU0VSTkFNRTokR0lUSFVCX1RPS0VOIgpmaTsKZm9yIGFyZyBpbiAiJEAiCmRvCiAgICBjYXNlICRhcmcgaW4KICAgICAgICAtLXByZXBlbmQtc3Rkb3V0KQogICAgICAgIHNoaWZ0CiAgICAgICAgX1BSRVBFTkRfU1RET1VUX1NUUklORz0kMQogICAgICAgIHNoaWZ0CiAgICAgICAgOzsKICAgICAgICAtLWRlc3QtcGF0aCkKICAgICAgICBzaGlmdAogICAgICAgIF9ERVNUX1BBVEg9JDEKICAgICAgICBzaGlmdAogICAgICAgIDs7CiAgICBlc2FjCmRvbmUKX0RFU1RfRElSUEFUSD0iJChkaXJuYW1lICIkX0RFU1RfUEFUSCIpIgpmdW5jdGlvbiBwcmludFByZXBlbmRlZFN0ZG91dCgpIHsKICBwcmludGYgIiVzIiAiJF9QUkVQRU5EX1NURE9VVF9TVFJJTkciCn0KSU5TVEFMTEFUSU9OX0RFUEVOREVOQ0lFUz0oCiAgImN1cmwiCiAgImpxIgopCmZvciBERVAgaW4gIiR7SU5TVEFMTEFUSU9OX0RFUEVOREVOQ0lFU1tAXX0iOyBkbwogIGlmIFtbICIkKHN1ZG8gZHBrZyAtcyAiJERFUCIgMj4gL2Rldi9udWxsIHwgZ3JlcCBTdGF0dXMpIiAhPSAiU3RhdHVzOiBpbnN0YWxsIG9rIGluc3RhbGxlZCIgXV07IHRoZW4KICAgIHN1ZG8gYXB0LWdldCBpbnN0YWxsIC15IC1xcXEgIiRERVAiID4gL2Rldi9udWxsIHx8IGV4aXQgJD8KICBmaTsKZG9uZTsKX0dFVF9TSFVOSVRfUkVMRUFTRVNfVVJMPWh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3Mva3dhcmQvc2h1bml0Mi9yZWxlYXNlcwpmdW5jdGlvbiBnZXRTaHVuaXRMYXN0ZXN0VmVyc2lvbigpIHsKICBfU0hVTklUX1JFTEVBU0VTX0lORk89IiQoY3VybCAtc0wgIiRHSVRIVUJfQVBJX0NVUkxfQVVUSCIgIiRfR0VUX1NIVU5JVF9SRUxFQVNFU19VUkwiIDI+JjEpIgogIF9TSFVOSVRfUkVMRUFTRVNfSU5GT19NRVNTQUdFPSIkKGVjaG8gIiRfU0hVTklUX1JFTEVBU0VTX0lORk8iIHwganEgLXIgJy5tZXNzYWdlJyAyPiYxKSIKICBfU0hVTklUX1JFTEVBU0VTX0lORk9fTUVTU0FHRV9FWElUX0NPREU9JD8KICBpZiBbICRfU0hVTklUX1JFTEVBU0VTX0lORk9fTUVTU0FHRV9FWElUX0NPREUgLWVxIDAgXTsgdGhlbgogICAgcHJpbnRmICJcZVs5MW1ceEUyXHg5Q1x4OTVcZVszOW1cbiIgPiYyCiAgICBwcmludGYgIlxuJXNcbiIgIiRfTVNHX0VSUk9SX1JFVFJJRVZJTkdfU0hVTklUX1JFTEVBU0VTX0lORk8iID4mMgogICAgcHJpbnRmICIlczogJXNcbiIgIiRfTVNHX1VSTCIgIiRfR0VUX1NIVU5JVF9SRUxFQVNFU19VUkwiID4mMgogICAgcHJpbnRmICIlczogJXNcbiIgIiRfTVNHX0VSUk9SIiAiJF9TSFVOSVRfUkVMRUFTRVNfSU5GT19NRVNTQUdFIiA+JjIKICAgIGV4aXQgJF9TSFVOSVRfUkVMRUFTRVNfSU5GT19NRVNTQUdFX0VYSVRfQ09ERQogIGZpOwogIF9QQVJTRV9TSFVOSVRfTEFTVEVTVF9WRVJTSU9OPSQoCiAgICBlY2hvICIkX1NIVU5JVF9SRUxFQVNFU19JTkZPIiB8IFwKICAgIGpxIC1yICIuWzBdLm5hbWUiIDI+JjEKICApCiAgX1BBUlNFX1NIVU5JVF9MQVNURVNUX1ZFUlNJT05fRVhJVF9DT0RFPSQ/CiAgaWYgWyAkX1BBUlNFX1NIVU5JVF9MQVNURVNUX1ZFUlNJT05fRVhJVF9DT0RFIC1uZSAwIF07IHRoZW4KICAgIHByaW50ZiAiXGVbOTFtXHhFMlx4OUNceDk1XGVbMzltXG4iID4mMgogICAgcHJpbnRmICJcbiVzXG4iICIkX01TR19FUlJPUl9QQVJTSU5HX0xBU1RFU1RfU0hVTklUX1JFTEVBU0UiID4mMgogICAgcHJpbnRmICIlczogJXNcbiIgIiRfTVNHX1VSTCIgIiRfR0VUX1NIVU5JVF9MQVRFU1RfVkVSU0lPTl9VUkwiID4mMgogICAgcHJpbnRmICIlczogJWRcbiIgIiRfTVNHX0VSUk9SX0NPREUiICIkX1BBUlNFX1NIVU5JVF9MQVNURVNUX1ZFUlNJT05fRVhJVF9DT0RFIiA+JjIKICAgIHByaW50ZiAiJXM6ICVzIiAiJF9NU0dfRVJST1IiICIkX1BBUlNFX1NIVU5JVF9MQVNURVNUX1ZFUlNJT04iID4mMgogICAgZXhpdCAkX1BBUlNFX1NIVU5JVF9MQVNURVNUX1ZFUlNJT05fRVhJVF9DT0RFCiAgZmk7CiAgX1NIVU5JVF9MQVNURVNUX1ZFUlNJT049IiQocHJpbnRmICIlcyIgIiRfUEFSU0VfU0hVTklUX0xBU1RFU1RfVkVSU0lPTiIgfCBjdXQgLWQnICcgLWYyKSIKfQpmdW5jdGlvbiBkb3dubG9hZFNodW5pdCgpIHsKICBfRE9XTkxPQURfU0hVTklUX1VSTD0iaHR0cHM6Ly9naXRodWIuY29tL2t3YXJkL3NodW5pdDIvYXJjaGl2ZS92JDEudGFyLmd6IgogIF9ET1dOTE9BRF9TSFVOSVRfT1VUUFVUPSIkKGN1cmwgLXNMICIkX0RPV05MT0FEX1NIVU5JVF9VUkwiIC1vICIkMiIgMj4mMSkiCiAgX0RPV05MT0FEX1NIVU5JVF9FWElUX0NPREU9JD8KICBpZiAgWyAkX0RPV05MT0FEX1NIVU5JVF9FWElUX0NPREUgLW5lIDAgXTsgdGhlbgogICAgcHJpbnRmICJcZVs5MW1ceEUyXHg5Q1x4OTVcZVszOW1cbiIgPiYyCiAgICBwcmludGYgIlxuJXMgdiVzXG4iICIkX01TR19FUlJPUl9ET1dOTE9BRElOR19TSFVOSVQiICIkX1NIVU5JVF9MQVNURVNUX1ZFUlNJT04iID4mMgogICAgcHJpbnRmICIlczogJXNcbiIgIiRfTVNHX1VSTCIgIiRfRE9XTkxPQURfU0hVTklUX1VSTCIgPiYyCiAgICBwcmludGYgIiVzOiAlc1xuIiAiJF9NU0dfRVJST1IiICIkX0RPV05MT0FEX1NIVU5JVF9PVVRQVVQiID4mMgogICAgZXhpdCAkX0RPV05MT0FEX1NIVU5JVF9FWElUX0NPREUKICBmaTsKfQpmdW5jdGlvbiBtYWluKCkgewogIGlmIFsgLWYgIiRfREVTVF9QQVRIIiBdIHx8IFsgLWQgIiRfREVTVF9QQVRIIiBdOyB0aGVuCiAgICBwcmludGYgIiVzICglcylcbiIgIiRfTVNHX0RFU1RfRVhJU1RTIiAiJF9ERVNUX1BBVEgiID4mMgogICAgcHJpbnRmICIlcyAnLS1kZXN0LXBhdGgnLlxuIiAiJF9NU0dfSU5ESUNBVEVfQU5PVEhFUl9ERVNUX1dJVEhfUEFSQU0iID4mMgogICAgZXhpdCAxCiAgZmk7CiAgcHJpbnRQcmVwZW5kZWRTdGRvdXQKICBwcmludGYgIiVzXG4iICIkX01TR19DSEVDS0lOR19TSFVOSVQiCiAgcHJpbnRQcmVwZW5kZWRTdGRvdXQKICBwcmludGYgIiAgJXMiICIkX01TR19SRVRSSUVWSU5HX1NIVU5JVF9MQVNURVNUX1ZFUlNJT04iCiAgZ2V0U2h1bml0TGFzdGVzdFZlcnNpb24KICBwcmludGYgIiAodiVzKSIgIiRfU0hVTklUX0xBU1RFU1RfVkVSU0lPTiIKICBwcmludGYgIiBcZVs5Mm1ceEUyXHg5Q1x4OTRcZVszOW1cbiIKICBwcmludFByZXBlbmRlZFN0ZG91dAogIHByaW50ZiAiICAlcyAodiVzKSIgIiRfTVNHX0RPV05MT0FESU5HX1NIVU5JVCIgIiRfU0hVTklUX0xBU1RFU1RfVkVSU0lPTiIKICBkb3dubG9hZFNodW5pdCAiJF9TSFVOSVRfTEFTVEVTVF9WRVJTSU9OIiAiJF9ERVNUX0RJUlBBVEgvc2h1bml0Mi50YXIuZ3oiCiAgcHJpbnRmICIgXGVbOTJtXHhFMlx4OUNceDk0XGVbMzltXG4iCiAgcHJpbnRQcmVwZW5kZWRTdGRvdXQKICBwcmludGYgIiAgJXMiICIkX01TR19VTlpJUFBJTkdfU0hVTklUIgogIHRhciB4emYgIiRfREVTVF9ESVJQQVRIL3NodW5pdDIudGFyLmd6IiAtQyAiJF9ERVNUX0RJUlBBVEgiIHx8IGV4aXQgJD8KICBtdiAiJF9ERVNUX0RJUlBBVEgvc2h1bml0Mi0kX1NIVU5JVF9MQVNURVNUX1ZFUlNJT04vc2h1bml0MiIgIiRfREVTVF9QQVRIIgogIHJtIC1yZiAiJF9ERVNUX0RJUlBBVEgvc2h1bml0Mi0kX1NIVU5JVF9MQVNURVNUX1ZFUlNJT04iCiAgcm0gLWYgIiRfREVTVF9ESVJQQVRIL3NodW5pdDIudGFyLmd6IgogIHByaW50ZiAiIFxlWzkybVx4RTJceDlDXHg5NFxlWzM5bVxuIgp9CmlmIFsgLXogIiRTSFJFQURfVEVTVCIgXTsgdGhlbgogIG1haW4KZmk7Cg==' | base64 -d)
